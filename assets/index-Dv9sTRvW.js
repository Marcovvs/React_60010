function sT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Js(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ly={exports:{}},hu={},uy={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),aT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),uT=Symbol.for("react.strict_mode"),cT=Symbol.for("react.profiler"),hT=Symbol.for("react.provider"),fT=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),pT=Symbol.for("react.suspense"),mT=Symbol.for("react.memo"),gT=Symbol.for("react.lazy"),Im=Symbol.iterator;function vT(t){return t===null||typeof t!="object"?null:(t=Im&&t[Im]||t["@@iterator"],typeof t=="function"?t:null)}var cy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hy=Object.assign,fy={};function uo(t,e,n){this.props=t,this.context=e,this.refs=fy,this.updater=n||cy}uo.prototype.isReactComponent={};uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dy(){}dy.prototype=uo.prototype;function kf(t,e,n){this.props=t,this.context=e,this.refs=fy,this.updater=n||cy}var Nf=kf.prototype=new dy;Nf.constructor=kf;hy(Nf,uo.prototype);Nf.isPureReactComponent=!0;var Sm=Array.isArray,py=Object.prototype.hasOwnProperty,Df={current:null},my={key:!0,ref:!0,__self:!0,__source:!0};function gy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)py.call(e,r)&&!my.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Zs,type:t,key:o,ref:s,props:i,_owner:Df.current}}function yT(t,e){return{$$typeof:Zs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Of(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zs}function _T(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Cm=/\/+/g;function pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_T(""+t.key):e.toString(36)}function il(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Zs:case aT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+pc(s,0):r,Sm(i)?(n="",t!=null&&(n=t.replace(Cm,"$&/")+"/"),il(i,e,n,"",function(c){return c})):i!=null&&(Of(i)&&(i=yT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Cm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Sm(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+pc(o,l);s+=il(o,e,n,u,i)}else if(u=vT(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+pc(o,l++),s+=il(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Oa(t,e,n){if(t==null)return t;var r=[],i=0;return il(t,r,"","",function(o){return e.call(n,o,i++)}),r}function wT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},ol={transition:null},ET={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:ol,ReactCurrentOwner:Df};function vy(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Oa,forEach:function(t,e,n){Oa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oa(t,function(){e++}),e},toArray:function(t){return Oa(t,function(e){return e})||[]},only:function(t){if(!Of(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=uo;ee.Fragment=lT;ee.Profiler=cT;ee.PureComponent=kf;ee.StrictMode=uT;ee.Suspense=pT;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;ee.act=vy;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hy({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Df.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)py.call(e,u)&&!my.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Zs,type:t.type,key:i,ref:o,props:r,_owner:s}};ee.createContext=function(t){return t={$$typeof:fT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hT,_context:t},t.Consumer=t};ee.createElement=gy;ee.createFactory=function(t){var e=gy.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:dT,render:t}};ee.isValidElement=Of;ee.lazy=function(t){return{$$typeof:gT,_payload:{_status:-1,_result:t},_init:wT}};ee.memo=function(t,e){return{$$typeof:mT,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=ol.transition;ol.transition={};try{t()}finally{ol.transition=e}};ee.unstable_act=vy;ee.useCallback=function(t,e){return gt.current.useCallback(t,e)};ee.useContext=function(t){return gt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return gt.current.useEffect(t,e)};ee.useId=function(){return gt.current.useId()};ee.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return gt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};ee.useRef=function(t){return gt.current.useRef(t)};ee.useState=function(t){return gt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return gt.current.useTransition()};ee.version="18.3.1";uy.exports=ee;var T=uy.exports;const qe=Js(T),TT=sT({__proto__:null,default:qe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IT=T,ST=Symbol.for("react.element"),CT=Symbol.for("react.fragment"),RT=Object.prototype.hasOwnProperty,xT=IT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AT={key:!0,ref:!0,__self:!0,__source:!0};function yy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)RT.call(e,r)&&!AT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ST,type:t,key:o,ref:s,props:i,_owner:xT.current}}hu.Fragment=CT;hu.jsx=yy;hu.jsxs=yy;ly.exports=hu;var O=ly.exports,ih={},_y={exports:{}},Dt={},wy={exports:{}},Ey={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var H=$.length;$.push(q);e:for(;0<H;){var ne=H-1>>>1,Z=$[ne];if(0<i(Z,q))$[ne]=q,$[H]=Z,H=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],H=$.pop();if(H!==q){$[0]=H;e:for(var ne=0,Z=$.length,se=Z>>>1;ne<se;){var Pe=2*(ne+1)-1,ae=$[Pe],Oe=Pe+1,rt=$[Oe];if(0>i(ae,H))Oe<Z&&0>i(rt,ae)?($[ne]=rt,$[Oe]=H,ne=Oe):($[ne]=ae,$[Pe]=H,ne=Pe);else if(Oe<Z&&0>i(rt,H))$[ne]=rt,$[Oe]=H,ne=Oe;else break e}}return q}function i($,q){var H=$.sortIndex-q.sortIndex;return H!==0?H:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,p=null,m=3,_=!1,C=!1,k=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function N($){if(k=!1,E($),!C)if(n(u)!==null)C=!0,fe(M);else{var q=n(c);q!==null&&de(N,q.startTime-$)}}function M($,q){C=!1,k&&(k=!1,I(g),g=-1),_=!0;var H=m;try{for(E(q),p=n(u);p!==null&&(!(p.expirationTime>q)||$&&!P());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var Z=ne(p.expirationTime<=q);q=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(u)&&r(u),E(q)}else r(u);p=n(u)}if(p!==null)var se=!0;else{var Pe=n(c);Pe!==null&&de(N,Pe.startTime-q),se=!1}return se}finally{p=null,m=H,_=!1}}var L=!1,w=null,g=-1,S=5,x=-1;function P(){return!(t.unstable_now()-x<S)}function D(){if(w!==null){var $=t.unstable_now();x=$;var q=!0;try{q=w(!0,$)}finally{q?R():(L=!1,w=null)}}else L=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,me=te.port2;te.port1.onmessage=D,R=function(){me.postMessage(null)}}else R=function(){A(D,0)};function fe($){w=$,L||(L=!0,R())}function de($,q){g=A(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){C||_||(C=!0,fe(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var H=m;m=q;try{return $()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var H=m;m=$;try{return q()}finally{m=H}},t.unstable_scheduleCallback=function($,q,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,$){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=H+Z,$={id:f++,callback:q,priorityLevel:$,startTime:H,expirationTime:Z,sortIndex:-1},H>ne?($.sortIndex=H,e(c,$),n(u)===null&&$===n(c)&&(k?(I(g),g=-1):k=!0,de(N,H-ne))):($.sortIndex=Z,e(u,$),C||_||(C=!0,fe(M))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var q=m;return function(){var H=m;m=q;try{return $.apply(this,arguments)}finally{m=H}}}})(Ey);wy.exports=Ey;var PT=wy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT=T,kt=PT;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ty=new Set,ws={};function ii(t,e){Ui(t,e),Ui(t+"Capture",e)}function Ui(t,e){for(ws[t]=e,t=0;t<e.length;t++)Ty.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oh=Object.prototype.hasOwnProperty,NT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},xm={};function DT(t){return oh.call(xm,t)?!0:oh.call(Rm,t)?!1:NT.test(t)?xm[t]=!0:(Rm[t]=!0,!1)}function OT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VT(t,e,n,r){if(e===null||typeof e>"u"||OT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function Lf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vf,Lf);tt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vf,Lf);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vf,Lf);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mf(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VT(e,n,i,r)&&(n=null),r||i===null?DT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fn=kT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),wi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),bf=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),Iy=Symbol.for("react.provider"),Sy=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),Ff=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),Cy=Symbol.for("react.offscreen"),Am=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,mc;function Qo(t){if(mc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);mc=e&&e[1]||""}return`
`+mc+t}var gc=!1;function vc(t,e){if(!t||gc)return"";gc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{gc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function LT(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=vc(t.type,!1),t;case 11:return t=vc(t.type.render,!1),t;case 1:return t=vc(t.type,!0),t;default:return""}}function uh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ei:return"Fragment";case wi:return"Portal";case sh:return"Profiler";case bf:return"StrictMode";case ah:return"Suspense";case lh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sy:return(t.displayName||"Context")+".Consumer";case Iy:return(t._context.displayName||"Context")+".Provider";case jf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ff:return e=t.displayName||null,e!==null?e:uh(t.type)||"Memo";case Qn:e=t._payload,t=t._init;try{return uh(t(e))}catch{}}return null}function MT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uh(e);case 8:return e===bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ry(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bT(t){var e=Ry(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function La(t){t._valueTracker||(t._valueTracker=bT(t))}function xy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ry(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ch(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Pm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ay(t,e){e=e.checked,e!=null&&Mf(t,"checked",e,!1)}function hh(t,e){Ay(t,e);var n=gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fh(t,e.type,n):e.hasOwnProperty("defaultValue")&&fh(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fh(t,e,n){(e!=="number"||Tl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Go=Array.isArray;function Oi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Go(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function Py(t,e){var n=gr(e.value),r=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ky(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ph(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ky(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ma,Ny=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ma=Ma||document.createElement("div"),Ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Es(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var is={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jT=["Webkit","ms","Moz","O"];Object.keys(is).forEach(function(t){jT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),is[e]=is[t]})});function Dy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||is.hasOwnProperty(t)&&is[t]?(""+e).trim():e+"px"}function Oy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var FT=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mh(t,e){if(e){if(FT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vh=null;function $f(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yh=null,Vi=null,Li=null;function Om(t){if(t=na(t)){if(typeof yh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=gu(e),yh(t.stateNode,t.type,e))}}function Vy(t){Vi?Li?Li.push(t):Li=[t]:Vi=t}function Ly(){if(Vi){var t=Vi,e=Li;if(Li=Vi=null,Om(t),e)for(t=0;t<e.length;t++)Om(e[t])}}function My(t,e){return t(e)}function by(){}var yc=!1;function jy(t,e,n){if(yc)return t(e,n);yc=!0;try{return My(t,e,n)}finally{yc=!1,(Vi!==null||Li!==null)&&(by(),Ly())}}function Ts(t,e){var n=t.stateNode;if(n===null)return null;var r=gu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var _h=!1;if(Nn)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){_h=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{_h=!1}function $T(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var os=!1,Il=null,Sl=!1,wh=null,BT={onError:function(t){os=!0,Il=t}};function UT(t,e,n,r,i,o,s,l,u){os=!1,Il=null,$T.apply(BT,arguments)}function zT(t,e,n,r,i,o,s,l,u){if(UT.apply(this,arguments),os){if(os){var c=Il;os=!1,Il=null}else throw Error(B(198));Sl||(Sl=!0,wh=c)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Fy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vm(t){if(oi(t)!==t)throw Error(B(188))}function WT(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vm(i),t;if(o===r)return Vm(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function $y(t){return t=WT(t),t!==null?By(t):null}function By(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=By(t);if(e!==null)return e;t=t.sibling}return null}var Uy=kt.unstable_scheduleCallback,Lm=kt.unstable_cancelCallback,HT=kt.unstable_shouldYield,KT=kt.unstable_requestPaint,Le=kt.unstable_now,qT=kt.unstable_getCurrentPriorityLevel,Bf=kt.unstable_ImmediatePriority,zy=kt.unstable_UserBlockingPriority,Cl=kt.unstable_NormalPriority,QT=kt.unstable_LowPriority,Wy=kt.unstable_IdlePriority,fu=null,hn=null;function GT(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(fu,t,void 0,(t.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:JT,XT=Math.log,YT=Math.LN2;function JT(t){return t>>>=0,t===0?32:31-(XT(t)/YT|0)|0}var ba=64,ja=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Xo(l):(o&=s,o!==0&&(r=Xo(o)))}else s=n&~i,s!==0?r=Xo(s):o!==0&&(r=Xo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zt(e),i=1<<n,r|=t[n],e&=~i;return r}function ZT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Zt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=ZT(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hy(){var t=ba;return ba<<=1,!(ba&4194240)&&(ba=64),t}function _c(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ea(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zt(e),t[e]=n}function tI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Zt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Uf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function Ky(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qy,zf,Qy,Gy,Xy,Th=!1,Fa=[],ir=null,or=null,sr=null,Is=new Map,Ss=new Map,Yn=[],nI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mm(t,e){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(e.pointerId)}}function jo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=na(e),e!==null&&zf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rI(t,e,n,r,i){switch(e){case"focusin":return ir=jo(ir,t,e,n,r,i),!0;case"dragenter":return or=jo(or,t,e,n,r,i),!0;case"mouseover":return sr=jo(sr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Is.set(o,jo(Is.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ss.set(o,jo(Ss.get(o)||null,t,e,n,r,i)),!0}return!1}function Yy(t){var e=Fr(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=Fy(n),e!==null){t.blockedOn=e,Xy(t.priority,function(){Qy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ih(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vh=r,n.target.dispatchEvent(r),vh=null}else return e=na(n),e!==null&&zf(e),t.blockedOn=n,!1;e.shift()}return!0}function bm(t,e,n){sl(t)&&n.delete(e)}function iI(){Th=!1,ir!==null&&sl(ir)&&(ir=null),or!==null&&sl(or)&&(or=null),sr!==null&&sl(sr)&&(sr=null),Is.forEach(bm),Ss.forEach(bm)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,Th||(Th=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,iI)))}function Cs(t){function e(i){return Fo(i,t)}if(0<Fa.length){Fo(Fa[0],t);for(var n=1;n<Fa.length;n++){var r=Fa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ir!==null&&Fo(ir,t),or!==null&&Fo(or,t),sr!==null&&Fo(sr,t),Is.forEach(e),Ss.forEach(e),n=0;n<Yn.length;n++)r=Yn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)Yy(n),n.blockedOn===null&&Yn.shift()}var Mi=Fn.ReactCurrentBatchConfig,xl=!0;function oI(t,e,n,r){var i=pe,o=Mi.transition;Mi.transition=null;try{pe=1,Wf(t,e,n,r)}finally{pe=i,Mi.transition=o}}function sI(t,e,n,r){var i=pe,o=Mi.transition;Mi.transition=null;try{pe=4,Wf(t,e,n,r)}finally{pe=i,Mi.transition=o}}function Wf(t,e,n,r){if(xl){var i=Ih(t,e,n,r);if(i===null)Pc(t,e,r,Al,n),Mm(t,r);else if(rI(i,t,e,n,r))r.stopPropagation();else if(Mm(t,r),e&4&&-1<nI.indexOf(t)){for(;i!==null;){var o=na(i);if(o!==null&&qy(o),o=Ih(t,e,n,r),o===null&&Pc(t,e,r,Al,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Pc(t,e,r,null,n)}}var Al=null;function Ih(t,e,n,r){if(Al=null,t=$f(r),t=Fr(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Fy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Al=t,null}function Jy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qT()){case Bf:return 1;case zy:return 4;case Cl:case QT:return 16;case Wy:return 536870912;default:return 16}default:return 16}}var Zn=null,Hf=null,al=null;function Zy(){if(al)return al;var t,e=Hf,n=e.length,r,i="value"in Zn?Zn.value:Zn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return al=i.slice(t,1<r?1-r:void 0)}function ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $a(){return!0}function jm(){return!1}function Ot(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$a:jm,this.isPropagationStopped=jm,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$a)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$a)},persist:function(){},isPersistent:$a}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kf=Ot(co),ta=xe({},co,{view:0,detail:0}),aI=Ot(ta),wc,Ec,$o,du=xe({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$o&&($o&&t.type==="mousemove"?(wc=t.screenX-$o.screenX,Ec=t.screenY-$o.screenY):Ec=wc=0,$o=t),wc)},movementY:function(t){return"movementY"in t?t.movementY:Ec}}),Fm=Ot(du),lI=xe({},du,{dataTransfer:0}),uI=Ot(lI),cI=xe({},ta,{relatedTarget:0}),Tc=Ot(cI),hI=xe({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),fI=Ot(hI),dI=xe({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pI=Ot(dI),mI=xe({},co,{data:0}),$m=Ot(mI),gI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _I(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yI[t])?!!e[t]:!1}function qf(){return _I}var wI=xe({},ta,{key:function(t){if(t.key){var e=gI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qf,charCode:function(t){return t.type==="keypress"?ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EI=Ot(wI),TI=xe({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=Ot(TI),II=xe({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qf}),SI=Ot(II),CI=xe({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),RI=Ot(CI),xI=xe({},du,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AI=Ot(xI),PI=[9,13,27,32],Qf=Nn&&"CompositionEvent"in window,ss=null;Nn&&"documentMode"in document&&(ss=document.documentMode);var kI=Nn&&"TextEvent"in window&&!ss,e_=Nn&&(!Qf||ss&&8<ss&&11>=ss),Um=" ",zm=!1;function t_(t,e){switch(t){case"keyup":return PI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ti=!1;function NI(t,e){switch(t){case"compositionend":return n_(e);case"keypress":return e.which!==32?null:(zm=!0,Um);case"textInput":return t=e.data,t===Um&&zm?null:t;default:return null}}function DI(t,e){if(Ti)return t==="compositionend"||!Qf&&t_(t,e)?(t=Zy(),al=Hf=Zn=null,Ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e_&&e.locale!=="ko"?null:e.data;default:return null}}var OI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OI[t.type]:e==="textarea"}function r_(t,e,n,r){Vy(r),e=Pl(e,"onChange"),0<e.length&&(n=new Kf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var as=null,Rs=null;function VI(t){p_(t,0)}function pu(t){var e=Ci(t);if(xy(e))return t}function LI(t,e){if(t==="change")return e}var i_=!1;if(Nn){var Ic;if(Nn){var Sc="oninput"in document;if(!Sc){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),Sc=typeof Hm.oninput=="function"}Ic=Sc}else Ic=!1;i_=Ic&&(!document.documentMode||9<document.documentMode)}function Km(){as&&(as.detachEvent("onpropertychange",o_),Rs=as=null)}function o_(t){if(t.propertyName==="value"&&pu(Rs)){var e=[];r_(e,Rs,t,$f(t)),jy(VI,e)}}function MI(t,e,n){t==="focusin"?(Km(),as=e,Rs=n,as.attachEvent("onpropertychange",o_)):t==="focusout"&&Km()}function bI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pu(Rs)}function jI(t,e){if(t==="click")return pu(e)}function FI(t,e){if(t==="input"||t==="change")return pu(e)}function $I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:$I;function xs(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oh.call(e,i)||!tn(t[i],e[i]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,e){var n=qm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qm(n)}}function s_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a_(){for(var t=window,e=Tl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tl(t.document)}return e}function Gf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BI(t){var e=a_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s_(n.ownerDocument.documentElement,n)){if(r!==null&&Gf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Qm(n,o);var s=Qm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UI=Nn&&"documentMode"in document&&11>=document.documentMode,Ii=null,Sh=null,ls=null,Ch=!1;function Gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||Ii==null||Ii!==Tl(r)||(r=Ii,"selectionStart"in r&&Gf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ls&&xs(ls,r)||(ls=r,r=Pl(Sh,"onSelect"),0<r.length&&(e=new Kf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ii)))}function Ba(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Si={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionend:Ba("Transition","TransitionEnd")},Cc={},l_={};Nn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Si.animationend.animation,delete Si.animationiteration.animation,delete Si.animationstart.animation),"TransitionEvent"in window||delete Si.transitionend.transition);function mu(t){if(Cc[t])return Cc[t];if(!Si[t])return t;var e=Si[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l_)return Cc[t]=e[n];return t}var u_=mu("animationend"),c_=mu("animationiteration"),h_=mu("animationstart"),f_=mu("transitionend"),d_=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){d_.set(t,e),ii(e,[t])}for(var Rc=0;Rc<Xm.length;Rc++){var xc=Xm[Rc],zI=xc.toLowerCase(),WI=xc[0].toUpperCase()+xc.slice(1);Tr(zI,"on"+WI)}Tr(u_,"onAnimationEnd");Tr(c_,"onAnimationIteration");Tr(h_,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(f_,"onTransitionEnd");Ui("onMouseEnter",["mouseout","mouseover"]);Ui("onMouseLeave",["mouseout","mouseover"]);Ui("onPointerEnter",["pointerout","pointerover"]);Ui("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Ym(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zT(r,e,void 0,t),t.currentTarget=null}function p_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Ym(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Ym(i,l,c),o=u}}}if(Sl)throw t=wh,Sl=!1,wh=null,t}function Ee(t,e){var n=e[kh];n===void 0&&(n=e[kh]=new Set);var r=t+"__bubble";n.has(r)||(m_(e,t,2,!1),n.add(r))}function Ac(t,e,n){var r=0;e&&(r|=4),m_(n,t,r,e)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function As(t){if(!t[Ua]){t[Ua]=!0,Ty.forEach(function(n){n!=="selectionchange"&&(HI.has(n)||Ac(n,!1,t),Ac(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ua]||(e[Ua]=!0,Ac("selectionchange",!1,e))}}function m_(t,e,n,r){switch(Jy(e)){case 1:var i=oI;break;case 4:i=sI;break;default:i=Wf}n=i.bind(null,e,n,t),i=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}jy(function(){var c=o,f=$f(n),p=[];e:{var m=d_.get(t);if(m!==void 0){var _=Kf,C=t;switch(t){case"keypress":if(ll(n)===0)break e;case"keydown":case"keyup":_=EI;break;case"focusin":C="focus",_=Tc;break;case"focusout":C="blur",_=Tc;break;case"beforeblur":case"afterblur":_=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=uI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=SI;break;case u_:case c_:case h_:_=fI;break;case f_:_=RI;break;case"scroll":_=aI;break;case"wheel":_=AI;break;case"copy":case"cut":case"paste":_=pI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bm}var k=(e&4)!==0,A=!k&&t==="scroll",I=k?m!==null?m+"Capture":null:m;k=[];for(var y=c,E;y!==null;){E=y;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,I!==null&&(N=Ts(y,I),N!=null&&k.push(Ps(y,N,E)))),A)break;y=y.return}0<k.length&&(m=new _(m,C,null,n,f),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==vh&&(C=n.relatedTarget||n.fromElement)&&(Fr(C)||C[Dn]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(C=n.relatedTarget||n.toElement,_=c,C=C?Fr(C):null,C!==null&&(A=oi(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(_=null,C=c),_!==C)){if(k=Fm,N="onMouseLeave",I="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Bm,N="onPointerLeave",I="onPointerEnter",y="pointer"),A=_==null?m:Ci(_),E=C==null?m:Ci(C),m=new k(N,y+"leave",_,n,f),m.target=A,m.relatedTarget=E,N=null,Fr(f)===c&&(k=new k(I,y+"enter",C,n,f),k.target=E,k.relatedTarget=A,N=k),A=N,_&&C)t:{for(k=_,I=C,y=0,E=k;E;E=pi(E))y++;for(E=0,N=I;N;N=pi(N))E++;for(;0<y-E;)k=pi(k),y--;for(;0<E-y;)I=pi(I),E--;for(;y--;){if(k===I||I!==null&&k===I.alternate)break t;k=pi(k),I=pi(I)}k=null}else k=null;_!==null&&Jm(p,m,_,k,!1),C!==null&&A!==null&&Jm(p,A,C,k,!0)}}e:{if(m=c?Ci(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var M=LI;else if(Wm(m))if(i_)M=FI;else{M=bI;var L=MI}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=jI);if(M&&(M=M(t,c))){r_(p,M,n,f);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&fh(m,"number",m.value)}switch(L=c?Ci(c):window,t){case"focusin":(Wm(L)||L.contentEditable==="true")&&(Ii=L,Sh=c,ls=null);break;case"focusout":ls=Sh=Ii=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Gm(p,n,f);break;case"selectionchange":if(UI)break;case"keydown":case"keyup":Gm(p,n,f)}var w;if(Qf)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ti?t_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(e_&&n.locale!=="ko"&&(Ti||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ti&&(w=Zy()):(Zn=f,Hf="value"in Zn?Zn.value:Zn.textContent,Ti=!0)),L=Pl(c,g),0<L.length&&(g=new $m(g,t,null,n,f),p.push({event:g,listeners:L}),w?g.data=w:(w=n_(n),w!==null&&(g.data=w)))),(w=kI?NI(t,n):DI(t,n))&&(c=Pl(c,"onBeforeInput"),0<c.length&&(f=new $m("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=w))}p_(p,e)})}function Ps(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ts(t,n),o!=null&&r.unshift(Ps(t,o,i)),o=Ts(t,e),o!=null&&r.push(Ps(t,o,i))),t=t.return}return r}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ts(n,o),u!=null&&s.unshift(Ps(n,u,l))):i||(u=Ts(n,o),u!=null&&s.push(Ps(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var KI=/\r\n?/g,qI=/\u0000|\uFFFD/g;function Zm(t){return(typeof t=="string"?t:""+t).replace(KI,`
`).replace(qI,"")}function za(t,e,n){if(e=Zm(e),Zm(t)!==e&&n)throw Error(B(425))}function kl(){}var Rh=null,xh=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,QI=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,GI=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(XI)}:Ph;function XI(t){setTimeout(function(){throw t})}function kc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cs(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ho=Math.random().toString(36).slice(2),cn="__reactFiber$"+ho,ks="__reactProps$"+ho,Dn="__reactContainer$"+ho,kh="__reactEvents$"+ho,YI="__reactListeners$"+ho,JI="__reactHandles$"+ho;function Fr(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tg(t);t!==null;){if(n=t[cn])return n;t=tg(t)}return e}t=n,n=t.parentNode}return null}function na(t){return t=t[cn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function gu(t){return t[ks]||null}var Nh=[],Ri=-1;function Ir(t){return{current:t}}function Ie(t){0>Ri||(t.current=Nh[Ri],Nh[Ri]=null,Ri--)}function _e(t,e){Ri++,Nh[Ri]=t.current,t.current=e}var vr={},ft=Ir(vr),wt=Ir(!1),Qr=vr;function zi(t,e){var n=t.type.contextTypes;if(!n)return vr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Et(t){return t=t.childContextTypes,t!=null}function Nl(){Ie(wt),Ie(ft)}function ng(t,e,n){if(ft.current!==vr)throw Error(B(168));_e(ft,e),_e(wt,n)}function g_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,MT(t)||"Unknown",i));return xe({},n,r)}function Dl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,Qr=ft.current,_e(ft,t),_e(wt,wt.current),!0}function rg(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=g_(t,e,Qr),r.__reactInternalMemoizedMergedChildContext=t,Ie(wt),Ie(ft),_e(ft,t)):Ie(wt),_e(wt,n)}var Tn=null,vu=!1,Nc=!1;function v_(t){Tn===null?Tn=[t]:Tn.push(t)}function ZI(t){vu=!0,v_(t)}function Sr(){if(!Nc&&Tn!==null){Nc=!0;var t=0,e=pe;try{var n=Tn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tn=null,vu=!1}catch(i){throw Tn!==null&&(Tn=Tn.slice(t+1)),Uy(Bf,Sr),i}finally{pe=e,Nc=!1}}return null}var xi=[],Ai=0,Ol=null,Vl=0,Vt=[],Lt=0,Gr=null,Cn=1,Rn="";function Mr(t,e){xi[Ai++]=Vl,xi[Ai++]=Ol,Ol=t,Vl=e}function y_(t,e,n){Vt[Lt++]=Cn,Vt[Lt++]=Rn,Vt[Lt++]=Gr,Gr=t;var r=Cn;t=Rn;var i=32-Zt(r)-1;r&=~(1<<i),n+=1;var o=32-Zt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cn=1<<32-Zt(e)+i|n<<i|r,Rn=o+t}else Cn=1<<o|n<<i|r,Rn=t}function Xf(t){t.return!==null&&(Mr(t,1),y_(t,1,0))}function Yf(t){for(;t===Ol;)Ol=xi[--Ai],xi[Ai]=null,Vl=xi[--Ai],xi[Ai]=null;for(;t===Gr;)Gr=Vt[--Lt],Vt[Lt]=null,Rn=Vt[--Lt],Vt[Lt]=null,Cn=Vt[--Lt],Vt[Lt]=null}var At=null,xt=null,Se=!1,Xt=null;function __(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ig(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,At=t,xt=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,At=t,xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gr!==null?{id:Cn,overflow:Rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,At=t,xt=null,!0):!1;default:return!1}}function Dh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oh(t){if(Se){var e=xt;if(e){var n=e;if(!ig(t,e)){if(Dh(t))throw Error(B(418));e=ar(n.nextSibling);var r=At;e&&ig(t,e)?__(r,n):(t.flags=t.flags&-4097|2,Se=!1,At=t)}}else{if(Dh(t))throw Error(B(418));t.flags=t.flags&-4097|2,Se=!1,At=t}}}function og(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;At=t}function Wa(t){if(t!==At)return!1;if(!Se)return og(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=xt)){if(Dh(t))throw w_(),Error(B(418));for(;e;)__(t,e),e=ar(e.nextSibling)}if(og(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xt=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xt=null}}else xt=At?ar(t.stateNode.nextSibling):null;return!0}function w_(){for(var t=xt;t;)t=ar(t.nextSibling)}function Wi(){xt=At=null,Se=!1}function Jf(t){Xt===null?Xt=[t]:Xt.push(t)}var eS=Fn.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ha(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sg(t){var e=t._init;return e(t._payload)}function E_(t){function e(I,y){if(t){var E=I.deletions;E===null?(I.deletions=[y],I.flags|=16):E.push(y)}}function n(I,y){if(!t)return null;for(;y!==null;)e(I,y),y=y.sibling;return null}function r(I,y){for(I=new Map;y!==null;)y.key!==null?I.set(y.key,y):I.set(y.index,y),y=y.sibling;return I}function i(I,y){return I=hr(I,y),I.index=0,I.sibling=null,I}function o(I,y,E){return I.index=E,t?(E=I.alternate,E!==null?(E=E.index,E<y?(I.flags|=2,y):E):(I.flags|=2,y)):(I.flags|=1048576,y)}function s(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,y,E,N){return y===null||y.tag!==6?(y=jc(E,I.mode,N),y.return=I,y):(y=i(y,E),y.return=I,y)}function u(I,y,E,N){var M=E.type;return M===Ei?f(I,y,E.props.children,N,E.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Qn&&sg(M)===y.type)?(N=i(y,E.props),N.ref=Bo(I,y,E),N.return=I,N):(N=ml(E.type,E.key,E.props,null,I.mode,N),N.ref=Bo(I,y,E),N.return=I,N)}function c(I,y,E,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Fc(E,I.mode,N),y.return=I,y):(y=i(y,E.children||[]),y.return=I,y)}function f(I,y,E,N,M){return y===null||y.tag!==7?(y=Hr(E,I.mode,N,M),y.return=I,y):(y=i(y,E),y.return=I,y)}function p(I,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jc(""+y,I.mode,E),y.return=I,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:return E=ml(y.type,y.key,y.props,null,I.mode,E),E.ref=Bo(I,null,y),E.return=I,E;case wi:return y=Fc(y,I.mode,E),y.return=I,y;case Qn:var N=y._init;return p(I,N(y._payload),E)}if(Go(y)||Mo(y))return y=Hr(y,I.mode,E,null),y.return=I,y;Ha(I,y)}return null}function m(I,y,E,N){var M=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return M!==null?null:l(I,y,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Va:return E.key===M?u(I,y,E,N):null;case wi:return E.key===M?c(I,y,E,N):null;case Qn:return M=E._init,m(I,y,M(E._payload),N)}if(Go(E)||Mo(E))return M!==null?null:f(I,y,E,N,null);Ha(I,E)}return null}function _(I,y,E,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return I=I.get(E)||null,l(y,I,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Va:return I=I.get(N.key===null?E:N.key)||null,u(y,I,N,M);case wi:return I=I.get(N.key===null?E:N.key)||null,c(y,I,N,M);case Qn:var L=N._init;return _(I,y,E,L(N._payload),M)}if(Go(N)||Mo(N))return I=I.get(E)||null,f(y,I,N,M,null);Ha(y,N)}return null}function C(I,y,E,N){for(var M=null,L=null,w=y,g=y=0,S=null;w!==null&&g<E.length;g++){w.index>g?(S=w,w=null):S=w.sibling;var x=m(I,w,E[g],N);if(x===null){w===null&&(w=S);break}t&&w&&x.alternate===null&&e(I,w),y=o(x,y,g),L===null?M=x:L.sibling=x,L=x,w=S}if(g===E.length)return n(I,w),Se&&Mr(I,g),M;if(w===null){for(;g<E.length;g++)w=p(I,E[g],N),w!==null&&(y=o(w,y,g),L===null?M=w:L.sibling=w,L=w);return Se&&Mr(I,g),M}for(w=r(I,w);g<E.length;g++)S=_(w,I,g,E[g],N),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?g:S.key),y=o(S,y,g),L===null?M=S:L.sibling=S,L=S);return t&&w.forEach(function(P){return e(I,P)}),Se&&Mr(I,g),M}function k(I,y,E,N){var M=Mo(E);if(typeof M!="function")throw Error(B(150));if(E=M.call(E),E==null)throw Error(B(151));for(var L=M=null,w=y,g=y=0,S=null,x=E.next();w!==null&&!x.done;g++,x=E.next()){w.index>g?(S=w,w=null):S=w.sibling;var P=m(I,w,x.value,N);if(P===null){w===null&&(w=S);break}t&&w&&P.alternate===null&&e(I,w),y=o(P,y,g),L===null?M=P:L.sibling=P,L=P,w=S}if(x.done)return n(I,w),Se&&Mr(I,g),M;if(w===null){for(;!x.done;g++,x=E.next())x=p(I,x.value,N),x!==null&&(y=o(x,y,g),L===null?M=x:L.sibling=x,L=x);return Se&&Mr(I,g),M}for(w=r(I,w);!x.done;g++,x=E.next())x=_(w,I,g,x.value,N),x!==null&&(t&&x.alternate!==null&&w.delete(x.key===null?g:x.key),y=o(x,y,g),L===null?M=x:L.sibling=x,L=x);return t&&w.forEach(function(D){return e(I,D)}),Se&&Mr(I,g),M}function A(I,y,E,N){if(typeof E=="object"&&E!==null&&E.type===Ei&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Va:e:{for(var M=E.key,L=y;L!==null;){if(L.key===M){if(M=E.type,M===Ei){if(L.tag===7){n(I,L.sibling),y=i(L,E.props.children),y.return=I,I=y;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Qn&&sg(M)===L.type){n(I,L.sibling),y=i(L,E.props),y.ref=Bo(I,L,E),y.return=I,I=y;break e}n(I,L);break}else e(I,L);L=L.sibling}E.type===Ei?(y=Hr(E.props.children,I.mode,N,E.key),y.return=I,I=y):(N=ml(E.type,E.key,E.props,null,I.mode,N),N.ref=Bo(I,y,E),N.return=I,I=N)}return s(I);case wi:e:{for(L=E.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(I,y.sibling),y=i(y,E.children||[]),y.return=I,I=y;break e}else{n(I,y);break}else e(I,y);y=y.sibling}y=Fc(E,I.mode,N),y.return=I,I=y}return s(I);case Qn:return L=E._init,A(I,y,L(E._payload),N)}if(Go(E))return C(I,y,E,N);if(Mo(E))return k(I,y,E,N);Ha(I,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(I,y.sibling),y=i(y,E),y.return=I,I=y):(n(I,y),y=jc(E,I.mode,N),y.return=I,I=y),s(I)):n(I,y)}return A}var Hi=E_(!0),T_=E_(!1),Ll=Ir(null),Ml=null,Pi=null,Zf=null;function ed(){Zf=Pi=Ml=null}function td(t){var e=Ll.current;Ie(Ll),t._currentValue=e}function Vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){Ml=t,Zf=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Zf!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(Ml===null)throw Error(B(308));Pi=t,Ml.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var $r=null;function nd(t){$r===null?$r=[t]:$r.push(t)}function I_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nd(e)):(n.next=i.next,i.next=n),e.interleaved=n,On(t,r)}function On(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,On(t,n)}return i=r.interleaved,i===null?(e.next=e,nd(r)):(e.next=i.next,i.next=e),r.interleaved=e,On(t,n)}function ul(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uf(t,n)}}function ag(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bl(t,e,n,r){var i=t.updateQueue;Gn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=c=u=null,l=o;do{var m=l.lane,_=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,k=l;switch(m=e,_=n,k.tag){case 1:if(C=k.payload,typeof C=="function"){p=C.call(_,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=k.payload,m=typeof C=="function"?C.call(_,p,m):C,m==null)break e;p=xe({},p,m);break e;case 2:Gn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Yr|=s,t.lanes=s,t.memoizedState=p}}function lg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ra={},fn=Ir(ra),Ns=Ir(ra),Ds=Ir(ra);function Br(t){if(t===ra)throw Error(B(174));return t}function id(t,e){switch(_e(Ds,e),_e(Ns,t),_e(fn,ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ph(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ph(e,t)}Ie(fn),_e(fn,e)}function Ki(){Ie(fn),Ie(Ns),Ie(Ds)}function C_(t){Br(Ds.current);var e=Br(fn.current),n=ph(e,t.type);e!==n&&(_e(Ns,t),_e(fn,n))}function od(t){Ns.current===t&&(Ie(fn),Ie(Ns))}var Ce=Ir(0);function jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dc=[];function sd(){for(var t=0;t<Dc.length;t++)Dc[t]._workInProgressVersionPrimary=null;Dc.length=0}var cl=Fn.ReactCurrentDispatcher,Oc=Fn.ReactCurrentBatchConfig,Xr=0,Re=null,Be=null,Ke=null,Fl=!1,us=!1,Os=0,tS=0;function st(){throw Error(B(321))}function ad(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function ld(t,e,n,r,i,o){if(Xr=o,Re=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,cl.current=t===null||t.memoizedState===null?oS:sS,t=n(r,i),us){o=0;do{if(us=!1,Os=0,25<=o)throw Error(B(301));o+=1,Ke=Be=null,e.updateQueue=null,cl.current=aS,t=n(r,i)}while(us)}if(cl.current=$l,e=Be!==null&&Be.next!==null,Xr=0,Ke=Be=Re=null,Fl=!1,e)throw Error(B(300));return t}function ud(){var t=Os!==0;return Os=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Bt(){if(Be===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Ke===null?Re.memoizedState:Ke.next;if(e!==null)Ke=e,Be=t;else{if(t===null)throw Error(B(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Re.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Vs(t,e){return typeof e=="function"?e(t):e}function Vc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Be,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((Xr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Re.lanes|=f,Yr|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,tn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Re.lanes|=o,Yr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lc(t){var e=Bt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);tn(o,e.memoizedState)||(_t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function R_(){}function x_(t,e){var n=Re,r=Bt(),i=e(),o=!tn(r.memoizedState,i);if(o&&(r.memoizedState=i,_t=!0),r=r.queue,cd(k_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Ls(9,P_.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(B(349));Xr&30||A_(n,e,i)}return i}function A_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function P_(t,e,n,r){e.value=n,e.getSnapshot=r,N_(e)&&D_(t)}function k_(t,e,n){return n(function(){N_(e)&&D_(t)})}function N_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function D_(t){var e=On(t,1);e!==null&&en(e,t,1,-1)}function ug(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:t},e.queue=t,t=t.dispatch=iS.bind(null,Re,t),[e.memoizedState,t]}function Ls(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Re.updateQueue,e===null?(e={lastEffect:null,stores:null},Re.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function O_(){return Bt().memoizedState}function hl(t,e,n,r){var i=un();Re.flags|=t,i.memoizedState=Ls(1|e,n,void 0,r===void 0?null:r)}function yu(t,e,n,r){var i=Bt();r=r===void 0?null:r;var o=void 0;if(Be!==null){var s=Be.memoizedState;if(o=s.destroy,r!==null&&ad(r,s.deps)){i.memoizedState=Ls(e,n,o,r);return}}Re.flags|=t,i.memoizedState=Ls(1|e,n,o,r)}function cg(t,e){return hl(8390656,8,t,e)}function cd(t,e){return yu(2048,8,t,e)}function V_(t,e){return yu(4,2,t,e)}function L_(t,e){return yu(4,4,t,e)}function M_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function b_(t,e,n){return n=n!=null?n.concat([t]):null,yu(4,4,M_.bind(null,e,t),n)}function hd(){}function j_(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ad(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function F_(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ad(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $_(t,e,n){return Xr&21?(tn(n,e)||(n=Hy(),Re.lanes|=n,Yr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function nS(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Oc.transition;Oc.transition={};try{t(!1),e()}finally{pe=n,Oc.transition=r}}function B_(){return Bt().memoizedState}function rS(t,e,n){var r=cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U_(t))z_(e,n);else if(n=I_(t,e,n,r),n!==null){var i=mt();en(n,t,r,i),W_(n,e,r)}}function iS(t,e,n){var r=cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U_(t))z_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,tn(l,s)){var u=e.interleaved;u===null?(i.next=i,nd(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=I_(t,e,i,r),n!==null&&(i=mt(),en(n,t,r,i),W_(n,e,r))}}function U_(t){var e=t.alternate;return t===Re||e!==null&&e===Re}function z_(t,e){us=Fl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function W_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uf(t,n)}}var $l={readContext:$t,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},oS={readContext:$t,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:cg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hl(4194308,4,M_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return hl(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=un();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=rS.bind(null,Re,t),[r.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:ug,useDebugValue:hd,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=ug(!1),e=t[0];return t=nS.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Re,i=un();if(Se){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Qe===null)throw Error(B(349));Xr&30||A_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,cg(k_.bind(null,r,o,t),[t]),r.flags|=2048,Ls(9,P_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=un(),e=Qe.identifierPrefix;if(Se){var n=Rn,r=Cn;n=(r&~(1<<32-Zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Os++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=tS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sS={readContext:$t,useCallback:j_,useContext:$t,useEffect:cd,useImperativeHandle:b_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:F_,useReducer:Vc,useRef:O_,useState:function(){return Vc(Vs)},useDebugValue:hd,useDeferredValue:function(t){var e=Bt();return $_(e,Be.memoizedState,t)},useTransition:function(){var t=Vc(Vs)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:R_,useSyncExternalStore:x_,useId:B_,unstable_isNewReconciler:!1},aS={readContext:$t,useCallback:j_,useContext:$t,useEffect:cd,useImperativeHandle:b_,useInsertionEffect:V_,useLayoutEffect:L_,useMemo:F_,useReducer:Lc,useRef:O_,useState:function(){return Lc(Vs)},useDebugValue:hd,useDeferredValue:function(t){var e=Bt();return Be===null?e.memoizedState=t:$_(e,Be.memoizedState,t)},useTransition:function(){var t=Lc(Vs)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:R_,useSyncExternalStore:x_,useId:B_,unstable_isNewReconciler:!1};function Qt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _u={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=cr(t),o=xn(r,i);o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,i),e!==null&&(en(e,t,i,r),ul(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=cr(t),o=xn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,i),e!==null&&(en(e,t,i,r),ul(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=cr(t),i=xn(n,r);i.tag=2,e!=null&&(i.callback=e),e=lr(t,i,r),e!==null&&(en(e,t,r,n),ul(e,t,r))}};function hg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!xs(n,r)||!xs(i,o):!0}function H_(t,e,n){var r=!1,i=vr,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(i=Et(e)?Qr:ft.current,r=e.contextTypes,o=(r=r!=null)?zi(t,i):vr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_u,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_u.enqueueReplaceState(e,e.state,null)}function Mh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$t(o):(o=Et(e)?Qr:ft.current,i.context=zi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Lh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_u.enqueueReplaceState(i,i.state,null),bl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var n="",r=e;do n+=LT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Mc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var lS=typeof WeakMap=="function"?WeakMap:Map;function K_(t,e,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ul||(Ul=!0,qh=r),bh(t,e)},n}function q_(t,e,n){n=xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){bh(t,e),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new lS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=TS.bind(null,t,e,n),e.then(t,t))}function pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xn(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var uS=Fn.ReactCurrentOwner,_t=!1;function pt(t,e,n,r){e.child=t===null?T_(e,null,n,r):Hi(e,t.child,n,r)}function gg(t,e,n,r,i){n=n.render;var o=e.ref;return bi(e,i),r=ld(t,e,n,r,o,i),n=ud(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vn(t,e,i)):(Se&&n&&Xf(e),e.flags|=1,pt(t,e,r,i),e.child)}function vg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_d(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Q_(t,e,o,r,i)):(t=ml(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:xs,n(s,r)&&t.ref===e.ref)return Vn(t,e,i)}return e.flags|=1,t=hr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Q_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(xs(o,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Vn(t,e,i)}return jh(t,e,n,r,i)}function G_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Ni,Rt),Rt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Ni,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Ni,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Ni,Rt),Rt|=r;return pt(t,e,i,n),e.child}function X_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jh(t,e,n,r,i){var o=Et(n)?Qr:ft.current;return o=zi(e,o),bi(e,i),n=ld(t,e,n,r,o,i),r=ud(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vn(t,e,i)):(Se&&r&&Xf(e),e.flags|=1,pt(t,e,n,i),e.child)}function yg(t,e,n,r,i){if(Et(n)){var o=!0;Dl(e)}else o=!1;if(bi(e,i),e.stateNode===null)fl(t,e),H_(e,n,r),Mh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=Et(n)?Qr:ft.current,c=zi(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&fg(e,s,r,c),Gn=!1;var m=e.memoizedState;s.state=m,bl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||wt.current||Gn?(typeof f=="function"&&(Lh(e,n,f,r),u=e.memoizedState),(l=Gn||hg(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,S_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Qt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=Et(n)?Qr:ft.current,u=zi(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&fg(e,s,r,u),Gn=!1,m=e.memoizedState,s.state=m,bl(e,r,s,i);var C=e.memoizedState;l!==p||m!==C||wt.current||Gn?(typeof _=="function"&&(Lh(e,n,_,r),C=e.memoizedState),(c=Gn||hg(e,n,c,r,m,C,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Fh(t,e,n,r,o,i)}function Fh(t,e,n,r,i,o){X_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&rg(e,n,!1),Vn(t,e,o);r=e.stateNode,uS.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Hi(e,t.child,null,o),e.child=Hi(e,null,l,o)):pt(t,e,l,o),e.memoizedState=r.state,i&&rg(e,n,!0),e.child}function Y_(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),id(t,e.containerInfo)}function _g(t,e,n,r,i){return Wi(),Jf(i),e.flags|=256,pt(t,e,n,r),e.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function J_(t,e,n){var r=e.pendingProps,i=Ce.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ce,i&1),t===null)return Oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Tu(s,r,0,null),t=Hr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bh(n),e.memoizedState=$h,t):fd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return cS(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=hr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=hr(l,o):(o=Hr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Bh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$h,r}return o=t.child,t=o.sibling,r=hr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fd(t,e){return e=Tu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ka(t,e,n,r){return r!==null&&Jf(r),Hi(e,t.child,null,n),t=fd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Mc(Error(B(422))),Ka(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Tu({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Hi(e,t.child,null,s),e.child.memoizedState=Bh(s),e.memoizedState=$h,o);if(!(e.mode&1))return Ka(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=Mc(o,r,void 0),Ka(t,e,s,r)}if(l=(s&t.childLanes)!==0,_t||l){if(r=Qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,On(t,i),en(r,t,i,-1))}return yd(),r=Mc(Error(B(421))),Ka(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=IS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xt=ar(i.nextSibling),At=e,Se=!0,Xt=null,t!==null&&(Vt[Lt++]=Cn,Vt[Lt++]=Rn,Vt[Lt++]=Gr,Cn=t.id,Rn=t.overflow,Gr=e),e=fd(e,r.children),e.flags|=4096,e)}function wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vh(t.return,e,n)}function bc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Z_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,n,e);else if(t.tag===19)wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&jl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&jl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bc(e,!0,n,null,o);break;case"together":bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hS(t,e,n){switch(e.tag){case 3:Y_(e),Wi();break;case 5:C_(e);break;case 1:Et(e.type)&&Dl(e);break;case 4:id(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Ll,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?J_(t,e,n):(_e(Ce,Ce.current&1),t=Vn(t,e,n),t!==null?t.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Z_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,G_(t,e,n)}return Vn(t,e,n)}var e0,Uh,t0,n0;e0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uh=function(){};t0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Br(fn.current);var o=null;switch(n){case"input":i=ch(t,i),r=ch(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=dh(t,i),r=dh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kl)}mh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ws.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ws.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ee("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};n0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uo(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function fS(t,e,n){var r=e.pendingProps;switch(Yf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Et(e.type)&&Nl(),at(e),null;case 3:return r=e.stateNode,Ki(),Ie(wt),Ie(ft),sd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(Xh(Xt),Xt=null))),Uh(t,e),at(e),null;case 5:od(e);var i=Br(Ds.current);if(n=e.type,t!==null&&e.stateNode!=null)t0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return at(e),null}if(t=Br(fn.current),Wa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[cn]=e,r[ks]=o,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ee(Yo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Pm(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":Nm(r,o),Ee("invalid",r)}mh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&za(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&za(r.textContent,l,t),i=["children",""+l]):ws.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ee("scroll",r)}switch(n){case"input":La(r),km(r,o,!0);break;case"textarea":La(r),Dm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ky(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[cn]=e,t[ks]=r,e0(t,e,!1,!1),e.stateNode=t;e:{switch(s=gh(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ee(Yo[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":Pm(t,r),i=ch(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":Nm(t,r),i=dh(t,r),Ee("invalid",t);break;default:i=r}mh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Oy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ny(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Es(t,u):typeof u=="number"&&Es(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ws.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ee("scroll",t):u!=null&&Mf(t,o,u,s))}switch(n){case"input":La(t),km(t,r,!1);break;case"textarea":La(t),Dm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Oi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Oi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)n0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Br(Ds.current),Br(fn.current),Wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[cn]=e,(o=r.nodeValue!==n)&&(t=At,t!==null))switch(t.tag){case 3:za(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cn]=e,e.stateNode=r}return at(e),null;case 13:if(Ie(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&xt!==null&&e.mode&1&&!(e.flags&128))w_(),Wi(),e.flags|=98560,o=!1;else if(o=Wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[cn]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else Xt!==null&&(Xh(Xt),Xt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ue===0&&(Ue=3):yd())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Ki(),Uh(t,e),t===null&&As(e.stateNode.containerInfo),at(e),null;case 10:return td(e.type._context),at(e),null;case 17:return Et(e.type)&&Nl(),at(e),null;case 19:if(Ie(Ce),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Uo(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=jl(t),s!==null){for(e.flags|=128,Uo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ce,Ce.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>Qi&&(e.flags|=128,r=!0,Uo(o,!1),e.lanes=4194304)}else{if(!r)if(t=jl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Se)return at(e),null}else 2*Le()-o.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,r=!0,Uo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=Ce.current,_e(Ce,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return vd(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function dS(t,e){switch(Yf(e),e.tag){case 1:return Et(e.type)&&Nl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ki(),Ie(wt),Ie(ft),sd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return od(e),null;case 13:if(Ie(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Ce),null;case 4:return Ki(),null;case 10:return td(e.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var qa=!1,ct=!1,pS=typeof WeakSet=="function"?WeakSet:Set,z=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Eg=!1;function mS(t,e){if(Rh=xl,t=a_(),Gf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++f===r&&(u=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xh={focusedElem:t,selectionRange:n},xl=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var k=C.memoizedProps,A=C.memoizedState,I=e.stateNode,y=I.getSnapshotBeforeUpdate(e.elementType===e.type?k:Qt(e.type,k),A);I.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){Ne(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return C=Eg,Eg=!1,C}function cs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&zh(e,n,o)}i=i.next}while(i!==r)}}function wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r0(t){var e=t.alternate;e!==null&&(t.alternate=null,r0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[ks],delete e[kh],delete e[YI],delete e[JI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i0(t){return t.tag===5||t.tag===3||t.tag===4}function Tg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kl));else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}function Kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kh(t,e,n),t=t.sibling;t!==null;)Kh(t,e,n),t=t.sibling}var Xe=null,Gt=!1;function qn(t,e,n){for(n=n.child;n!==null;)o0(t,e,n),n=n.sibling}function o0(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(fu,n)}catch{}switch(n.tag){case 5:ct||ki(n,e);case 6:var r=Xe,i=Gt;Xe=null,qn(t,e,n),Xe=r,Gt=i,Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?kc(t.parentNode,n):t.nodeType===1&&kc(t,n),Cs(t)):kc(Xe,n.stateNode));break;case 4:r=Xe,i=Gt,Xe=n.stateNode.containerInfo,Gt=!0,qn(t,e,n),Xe=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&zh(n,e,s),i=i.next}while(i!==r)}qn(t,e,n);break;case 1:if(!ct&&(ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ne(n,e,l)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,qn(t,e,n),ct=r):qn(t,e,n);break;default:qn(t,e,n)}}function Ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new pS),e.forEach(function(r){var i=SS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Gt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Gt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Xe===null)throw Error(B(160));o0(o,s,i),Xe=null,Gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ne(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s0(e,t),e=e.sibling}function s0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),ln(t),r&4){try{cs(3,t,t.return),wu(3,t)}catch(k){Ne(t,t.return,k)}try{cs(5,t,t.return)}catch(k){Ne(t,t.return,k)}}break;case 1:qt(e,t),ln(t),r&512&&n!==null&&ki(n,n.return);break;case 5:if(qt(e,t),ln(t),r&512&&n!==null&&ki(n,n.return),t.flags&32){var i=t.stateNode;try{Es(i,"")}catch(k){Ne(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ay(i,o),gh(l,s);var c=gh(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?Oy(i,p):f==="dangerouslySetInnerHTML"?Ny(i,p):f==="children"?Es(i,p):Mf(i,f,p,c)}switch(l){case"input":hh(i,o);break;case"textarea":Py(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?Oi(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?Oi(i,!!o.multiple,o.defaultValue,!0):Oi(i,!!o.multiple,o.multiple?[]:"",!1))}i[ks]=o}catch(k){Ne(t,t.return,k)}}break;case 6:if(qt(e,t),ln(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){Ne(t,t.return,k)}}break;case 3:if(qt(e,t),ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cs(e.containerInfo)}catch(k){Ne(t,t.return,k)}break;case 4:qt(e,t),ln(t);break;case 13:qt(e,t),ln(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(md=Le())),r&4&&Ig(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||f,qt(e,t),ct=c):qt(e,t),ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(z=t,f=t.child;f!==null;){for(p=z=f;z!==null;){switch(m=z,_=m.child,m.tag){case 0:case 11:case 14:case 15:cs(4,m,m.return);break;case 1:ki(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(k){Ne(r,n,k)}}break;case 5:ki(m,m.return);break;case 22:if(m.memoizedState!==null){Cg(p);continue}}_!==null?(_.return=m,z=_):Cg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Dy("display",s))}catch(k){Ne(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){Ne(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:qt(e,t),ln(t),r&4&&Ig(t);break;case 21:break;default:qt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i0(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Es(i,""),r.flags&=-33);var o=Tg(t);Kh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Tg(t);Hh(t,l,s);break;default:throw Error(B(161))}}catch(u){Ne(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gS(t,e,n){z=t,a0(t)}function a0(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var i=z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||qa;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=qa;var c=ct;if(qa=s,(ct=u)&&!c)for(z=i;z!==null;)s=z,u=s.child,s.tag===22&&s.memoizedState!==null?Rg(i):u!==null?(u.return=s,z=u):Rg(i);for(;o!==null;)z=o,a0(o),o=o.sibling;z=i,qa=l,ct=c}Sg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,z=o):Sg(t)}}function Sg(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lg(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Cs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ct||e.flags&512&&Wh(e)}catch(m){Ne(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Cg(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Rg(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wu(4,e)}catch(u){Ne(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ne(e,i,u)}}var o=e.return;try{Wh(e)}catch(u){Ne(e,o,u)}break;case 5:var s=e.return;try{Wh(e)}catch(u){Ne(e,s,u)}}}catch(u){Ne(e,e.return,u)}if(e===t){z=null;break}var l=e.sibling;if(l!==null){l.return=e.return,z=l;break}z=e.return}}var vS=Math.ceil,Bl=Fn.ReactCurrentDispatcher,dd=Fn.ReactCurrentOwner,Ft=Fn.ReactCurrentBatchConfig,ue=0,Qe=null,be=null,Ze=0,Rt=0,Ni=Ir(0),Ue=0,Ms=null,Yr=0,Eu=0,pd=0,hs=null,yt=null,md=0,Qi=1/0,En=null,Ul=!1,qh=null,ur=null,Qa=!1,er=null,zl=0,fs=0,Qh=null,dl=-1,pl=0;function mt(){return ue&6?Le():dl!==-1?dl:dl=Le()}function cr(t){return t.mode&1?ue&2&&Ze!==0?Ze&-Ze:eS.transition!==null?(pl===0&&(pl=Hy()),pl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:Jy(t.type)),t):1}function en(t,e,n,r){if(50<fs)throw fs=0,Qh=null,Error(B(185));ea(t,n,r),(!(ue&2)||t!==Qe)&&(t===Qe&&(!(ue&2)&&(Eu|=n),Ue===4&&Jn(t,Ze)),Tt(t,r),n===1&&ue===0&&!(e.mode&1)&&(Qi=Le()+500,vu&&Sr()))}function Tt(t,e){var n=t.callbackNode;eI(t,e);var r=Rl(t,t===Qe?Ze:0);if(r===0)n!==null&&Lm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lm(n),e===1)t.tag===0?ZI(xg.bind(null,t)):v_(xg.bind(null,t)),GI(function(){!(ue&6)&&Sr()}),n=null;else{switch(Ky(r)){case 1:n=Bf;break;case 4:n=zy;break;case 16:n=Cl;break;case 536870912:n=Wy;break;default:n=Cl}n=m0(n,l0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l0(t,e){if(dl=-1,pl=0,ue&6)throw Error(B(327));var n=t.callbackNode;if(ji()&&t.callbackNode!==n)return null;var r=Rl(t,t===Qe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wl(t,r);else{e=r;var i=ue;ue|=2;var o=c0();(Qe!==t||Ze!==e)&&(En=null,Qi=Le()+500,Wr(t,e));do try{wS();break}catch(l){u0(t,l)}while(!0);ed(),Bl.current=o,ue=i,be!==null?e=0:(Qe=null,Ze=0,e=Ue)}if(e!==0){if(e===2&&(i=Eh(t),i!==0&&(r=i,e=Gh(t,i))),e===1)throw n=Ms,Wr(t,0),Jn(t,r),Tt(t,Le()),n;if(e===6)Jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!yS(i)&&(e=Wl(t,r),e===2&&(o=Eh(t),o!==0&&(r=o,e=Gh(t,o))),e===1))throw n=Ms,Wr(t,0),Jn(t,r),Tt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:br(t,yt,En);break;case 3:if(Jn(t,r),(r&130023424)===r&&(e=md+500-Le(),10<e)){if(Rl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ph(br.bind(null,t,yt,En),e);break}br(t,yt,En);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Zt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vS(r/1960))-r,10<r){t.timeoutHandle=Ph(br.bind(null,t,yt,En),r);break}br(t,yt,En);break;case 5:br(t,yt,En);break;default:throw Error(B(329))}}}return Tt(t,Le()),t.callbackNode===n?l0.bind(null,t):null}function Gh(t,e){var n=hs;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=Wl(t,e),t!==2&&(e=yt,yt=n,e!==null&&Xh(e)),t}function Xh(t){yt===null?yt=t:yt.push.apply(yt,t)}function yS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~pd,e&=~Eu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zt(e),r=1<<n;t[n]=-1,e&=~r}}function xg(t){if(ue&6)throw Error(B(327));ji();var e=Rl(t,0);if(!(e&1))return Tt(t,Le()),null;var n=Wl(t,e);if(t.tag!==0&&n===2){var r=Eh(t);r!==0&&(e=r,n=Gh(t,r))}if(n===1)throw n=Ms,Wr(t,0),Jn(t,e),Tt(t,Le()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,yt,En),Tt(t,Le()),null}function gd(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Qi=Le()+500,vu&&Sr())}}function Jr(t){er!==null&&er.tag===0&&!(ue&6)&&ji();var e=ue;ue|=1;var n=Ft.transition,r=pe;try{if(Ft.transition=null,pe=1,t)return t()}finally{pe=r,Ft.transition=n,ue=e,!(ue&6)&&Sr()}}function vd(){Rt=Ni.current,Ie(Ni)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QI(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Yf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nl();break;case 3:Ki(),Ie(wt),Ie(ft),sd();break;case 5:od(r);break;case 4:Ki();break;case 13:Ie(Ce);break;case 19:Ie(Ce);break;case 10:td(r.type._context);break;case 22:case 23:vd()}n=n.return}if(Qe=t,be=t=hr(t.current,null),Ze=Rt=e,Ue=0,Ms=null,pd=Eu=Yr=0,yt=hs=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$r=null}return t}function u0(t,e){do{var n=be;try{if(ed(),cl.current=$l,Fl){for(var r=Re.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Fl=!1}if(Xr=0,Ke=Be=Re=null,us=!1,Os=0,dd.current=null,n===null||n.return===null){Ue=1,Ms=e,be=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=pg(s);if(_!==null){_.flags&=-257,mg(_,s,l,o,e),_.mode&1&&dg(o,c,e),e=_,u=c;var C=e.updateQueue;if(C===null){var k=new Set;k.add(u),e.updateQueue=k}else C.add(u);break e}else{if(!(e&1)){dg(o,c,e),yd();break e}u=Error(B(426))}}else if(Se&&l.mode&1){var A=pg(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),mg(A,s,l,o,e),Jf(qi(u,l));break e}}o=u=qi(u,l),Ue!==4&&(Ue=2),hs===null?hs=[o]:hs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=K_(o,u,e);ag(o,I);break e;case 1:l=u;var y=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ur===null||!ur.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=q_(o,l,e);ag(o,N);break e}}o=o.return}while(o!==null)}f0(n)}catch(M){e=M,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function c0(){var t=Bl.current;return Bl.current=$l,t===null?$l:t}function yd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Qe===null||!(Yr&268435455)&&!(Eu&268435455)||Jn(Qe,Ze)}function Wl(t,e){var n=ue;ue|=2;var r=c0();(Qe!==t||Ze!==e)&&(En=null,Wr(t,e));do try{_S();break}catch(i){u0(t,i)}while(!0);if(ed(),ue=n,Bl.current=r,be!==null)throw Error(B(261));return Qe=null,Ze=0,Ue}function _S(){for(;be!==null;)h0(be)}function wS(){for(;be!==null&&!HT();)h0(be)}function h0(t){var e=p0(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?f0(t):be=e,dd.current=null}function f0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=dS(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,be=null;return}}else if(n=fS(n,e,Rt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Ue===0&&(Ue=5)}function br(t,e,n){var r=pe,i=Ft.transition;try{Ft.transition=null,pe=1,ES(t,e,n,r)}finally{Ft.transition=i,pe=r}return null}function ES(t,e,n,r){do ji();while(er!==null);if(ue&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(tI(t,o),t===Qe&&(be=Qe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qa||(Qa=!0,m0(Cl,function(){return ji(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var s=pe;pe=1;var l=ue;ue|=4,dd.current=null,mS(t,n),s0(n,t),BI(xh),xl=!!Rh,xh=Rh=null,t.current=n,gS(n),KT(),ue=l,pe=s,Ft.transition=o}else t.current=n;if(Qa&&(Qa=!1,er=t,zl=i),o=t.pendingLanes,o===0&&(ur=null),GT(n.stateNode),Tt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,t=qh,qh=null,t;return zl&1&&t.tag!==0&&ji(),o=t.pendingLanes,o&1?t===Qh?fs++:(fs=0,Qh=t):fs=0,Sr(),null}function ji(){if(er!==null){var t=Ky(zl),e=Ft.transition,n=pe;try{if(Ft.transition=null,pe=16>t?16:t,er===null)var r=!1;else{if(t=er,er=null,zl=0,ue&6)throw Error(B(331));var i=ue;for(ue|=4,z=t.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(z=c;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:cs(8,f,o)}var p=f.child;if(p!==null)p.return=f,z=p;else for(;z!==null;){f=z;var m=f.sibling,_=f.return;if(r0(f),f===c){z=null;break}if(m!==null){m.return=_,z=m;break}z=_}}}var C=o.alternate;if(C!==null){var k=C.child;if(k!==null){C.child=null;do{var A=k.sibling;k.sibling=null,k=A}while(k!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:cs(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,z=I;break e}z=o.return}}var y=t.current;for(z=y;z!==null;){s=z;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,z=E;else e:for(s=y;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wu(9,l)}}catch(M){Ne(l,l.return,M)}if(l===s){z=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,z=N;break e}z=l.return}}if(ue=i,Sr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(fu,t)}catch{}r=!0}return r}finally{pe=n,Ft.transition=e}}return!1}function Ag(t,e,n){e=qi(n,e),e=K_(t,e,1),t=lr(t,e,1),e=mt(),t!==null&&(ea(t,1,e),Tt(t,e))}function Ne(t,e,n){if(t.tag===3)Ag(t,t,n);else for(;e!==null;){if(e.tag===3){Ag(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=qi(n,t),t=q_(e,t,1),e=lr(e,t,1),t=mt(),e!==null&&(ea(e,1,t),Tt(e,t));break}}e=e.return}}function TS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(Ze&n)===n&&(Ue===4||Ue===3&&(Ze&130023424)===Ze&&500>Le()-md?Wr(t,0):pd|=n),Tt(t,e)}function d0(t,e){e===0&&(t.mode&1?(e=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):e=1);var n=mt();t=On(t,e),t!==null&&(ea(t,e,n),Tt(t,n))}function IS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d0(t,n)}function SS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),d0(t,n)}var p0;p0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,hS(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Se&&e.flags&1048576&&y_(e,Vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fl(t,e),t=e.pendingProps;var i=zi(e,ft.current);bi(e,n),i=ld(null,e,r,t,i,n);var o=ud();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Et(r)?(o=!0,Dl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rd(e),i.updater=_u,e.stateNode=i,i._reactInternals=e,Mh(e,r,t,n),e=Fh(null,e,r,!0,o,n)):(e.tag=0,Se&&o&&Xf(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=RS(r),t=Qt(r,t),i){case 0:e=jh(null,e,r,t,n);break e;case 1:e=yg(null,e,r,t,n);break e;case 11:e=gg(null,e,r,t,n);break e;case 14:e=vg(null,e,r,Qt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),jh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),yg(t,e,r,i,n);case 3:e:{if(Y_(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,S_(t,e),bl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=qi(Error(B(423)),e),e=_g(t,e,r,n,i);break e}else if(r!==i){i=qi(Error(B(424)),e),e=_g(t,e,r,n,i);break e}else for(xt=ar(e.stateNode.containerInfo.firstChild),At=e,Se=!0,Xt=null,n=T_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),r===i){e=Vn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return C_(e),t===null&&Oh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ah(r,i)?s=null:o!==null&&Ah(r,o)&&(e.flags|=32),X_(t,e),pt(t,e,s,n),e.child;case 6:return t===null&&Oh(e),null;case 13:return J_(t,e,n);case 4:return id(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),gg(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_e(Ll,r._currentValue),r._currentValue=s,o!==null)if(tn(o.value,s)){if(o.children===i.children&&!wt.current){e=Vn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=xn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Vh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=$t(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),vg(t,e,r,i,n);case 15:return Q_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),fl(t,e),e.tag=1,Et(r)?(t=!0,Dl(e)):t=!1,bi(e,n),H_(e,r,i),Mh(e,r,i,n),Fh(null,e,r,!0,t,n);case 19:return Z_(t,e,n);case 22:return G_(t,e,n)}throw Error(B(156,e.tag))};function m0(t,e){return Uy(t,e)}function CS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new CS(t,e,n,r)}function _d(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RS(t){if(typeof t=="function")return _d(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jf)return 11;if(t===Ff)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ml(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")_d(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ei:return Hr(n.children,i,o,e);case bf:s=8,i|=8;break;case sh:return t=jt(12,n,e,i|2),t.elementType=sh,t.lanes=o,t;case ah:return t=jt(13,n,e,i),t.elementType=ah,t.lanes=o,t;case lh:return t=jt(19,n,e,i),t.elementType=lh,t.lanes=o,t;case Cy:return Tu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Iy:s=10;break e;case Sy:s=9;break e;case jf:s=11;break e;case Ff:s=14;break e;case Qn:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=jt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hr(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function Tu(t,e,n,r){return t=jt(22,t,r,e),t.elementType=Cy,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Fc(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_c(0),this.expirationTimes=_c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_c(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wd(t,e,n,r,i,o,s,l,u){return t=new xS(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rd(o),t}function AS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g0(t){if(!t)return vr;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Et(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Et(n))return g_(t,n,e)}return e}function v0(t,e,n,r,i,o,s,l,u){return t=wd(n,r,!0,t,i,o,s,l,u),t.context=g0(null),n=t.current,r=mt(),i=cr(n),o=xn(r,i),o.callback=e??null,lr(n,o,i),t.current.lanes=i,ea(t,i,r),Tt(t,r),t}function Iu(t,e,n,r){var i=e.current,o=mt(),s=cr(i);return n=g0(n),e.context===null?e.context=n:e.pendingContext=n,e=xn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(i,e,s),t!==null&&(en(t,i,s,o),ul(t,i,s)),s}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ed(t,e){Pg(t,e),(t=t.alternate)&&Pg(t,e)}function PS(){return null}var y0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Td(t){this._internalRoot=t}Su.prototype.render=Td.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Iu(t,e,null,null)};Su.prototype.unmount=Td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jr(function(){Iu(null,t,null,null)}),e[Dn]=null}};function Su(t){this._internalRoot=t}Su.prototype.unstable_scheduleHydration=function(t){if(t){var e=Gy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&Yy(t)}};function Id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function kS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Hl(s);o.call(c)}}var s=v0(e,r,t,0,null,!1,!1,"",kg);return t._reactRootContainer=s,t[Dn]=s.current,As(t.nodeType===8?t.parentNode:t),Jr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Hl(u);l.call(c)}}var u=wd(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=u,t[Dn]=u.current,As(t.nodeType===8?t.parentNode:t),Jr(function(){Iu(e,u,n,r)}),u}function Ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Hl(s);l.call(u)}}Iu(e,s,t,i)}else s=kS(n,e,t,i,r);return Hl(s)}qy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(Uf(e,n|1),Tt(e,Le()),!(ue&6)&&(Qi=Le()+500,Sr()))}break;case 13:Jr(function(){var r=On(t,1);if(r!==null){var i=mt();en(r,t,1,i)}}),Ed(t,1)}};zf=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var n=mt();en(e,t,134217728,n)}Ed(t,134217728)}};Qy=function(t){if(t.tag===13){var e=cr(t),n=On(t,e);if(n!==null){var r=mt();en(n,t,e,r)}Ed(t,e)}};Gy=function(){return pe};Xy=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};yh=function(t,e,n){switch(e){case"input":if(hh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gu(r);if(!i)throw Error(B(90));xy(r),hh(r,i)}}}break;case"textarea":Py(t,n);break;case"select":e=n.value,e!=null&&Oi(t,!!n.multiple,e,!1)}};My=gd;by=Jr;var NS={usingClientEntryPoint:!1,Events:[na,Ci,gu,Vy,Ly,gd]},zo={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DS={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$y(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{fu=Ga.inject(DS),hn=Ga}catch{}}Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;Dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(e))throw Error(B(200));return AS(t,e,null,n)};Dt.createRoot=function(t,e){if(!Id(t))throw Error(B(299));var n=!1,r="",i=y0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wd(t,1,!1,null,null,n,!1,r,i),t[Dn]=e.current,As(t.nodeType===8?t.parentNode:t),new Td(e)};Dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=$y(e),t=t===null?null:t.stateNode,t};Dt.flushSync=function(t){return Jr(t)};Dt.hydrate=function(t,e,n){if(!Cu(e))throw Error(B(200));return Ru(null,t,e,!0,n)};Dt.hydrateRoot=function(t,e,n){if(!Id(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=y0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=v0(e,null,t,1,n??null,i,!1,o,s),t[Dn]=e.current,As(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Su(e)};Dt.render=function(t,e,n){if(!Cu(e))throw Error(B(200));return Ru(null,t,e,!1,n)};Dt.unmountComponentAtNode=function(t){if(!Cu(t))throw Error(B(40));return t._reactRootContainer?(Jr(function(){Ru(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};Dt.unstable_batchedUpdates=gd;Dt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Ru(t,e,n,!1,r)};Dt.version="18.3.1-next-f1338f8080-20240426";function _0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_0)}catch(t){console.error(t)}}_0(),_y.exports=Dt;var w0=_y.exports;const Di=Js(w0);var Ng=w0;ih.createRoot=Ng.createRoot,ih.hydrateRoot=Ng.hydrateRoot;/**
 * @remix-run/router v1.19.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bs(){return bs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bs.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const Dg="popstate";function OS(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Yh("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Kl(i)}return LS(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function E0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VS(){return Math.random().toString(36).substr(2,8)}function Og(t,e){return{usr:t.state,key:t.key,idx:e}}function Yh(t,e,n,r){return n===void 0&&(n=null),bs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fo(e):e,{state:n,key:e&&e.key||r||VS()})}function Kl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function LS(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=tr.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(bs({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=tr.Pop;let A=f(),I=A==null?null:A-c;c=A,u&&u({action:l,location:k.location,delta:I})}function m(A,I){l=tr.Push;let y=Yh(k.location,A,I);c=f()+1;let E=Og(y,c),N=k.createHref(y);try{s.pushState(E,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}o&&u&&u({action:l,location:k.location,delta:1})}function _(A,I){l=tr.Replace;let y=Yh(k.location,A,I);c=f();let E=Og(y,c),N=k.createHref(y);s.replaceState(E,"",N),o&&u&&u({action:l,location:k.location,delta:0})}function C(A){let I=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof A=="string"?A:Kl(A);return y=y.replace(/ $/,"%20"),De(I,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,I)}let k={get action(){return l},get location(){return t(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Dg,p),u=A,()=>{i.removeEventListener(Dg,p),u=null}},createHref(A){return e(i,A)},createURL:C,encodeLocation(A){let I=C(A);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:_,go(A){return s.go(A)}};return k}var Vg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vg||(Vg={}));function MS(t,e,n){return n===void 0&&(n="/"),bS(t,e,n,!1)}function bS(t,e,n,r){let i=typeof e=="string"?fo(e):e,o=Gi(i.pathname||"/",n);if(o==null)return null;let s=T0(t);jS(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=GS(o);l=qS(s[u],c,r)}return l}function T0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=fr([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(De(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),T0(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:HS(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of I0(o.path))i(o,s,u)}),e}function I0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=I0(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function jS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FS=/^:[\w-]+$/,$S=3,BS=2,US=1,zS=10,WS=-2,Lg=t=>t==="*";function HS(t,e){let n=t.split("/"),r=n.length;return n.some(Lg)&&(r+=WS),e&&(r+=BS),n.filter(i=>!Lg(i)).reduce((i,o)=>i+(FS.test(o)?$S:o===""?US:zS),r)}function KS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function qS(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=ql({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=ql({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:fr([o,p.pathname]),pathnameBase:ZS(fr([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=fr([o,p.pathnameBase]))}return s}function ql(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let k=l[p]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const C=l[p];return _&&!C?c[m]=void 0:c[m]=(C||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function QS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),E0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function GS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return E0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function XS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fo(t):t;return{pathname:n?n.startsWith("/")?n:YS(n,e):e,search:eC(r),hash:tC(i)}}function YS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $c(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function S0(t,e){let n=JS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function C0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fo(t):(i=bs({},t),De(!i.pathname||!i.pathname.includes("?"),$c("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),$c("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),$c("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=XS(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const fr=t=>t.join("/").replace(/\/\/+/g,"/"),ZS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),eC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function nC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R0=["post","put","patch","delete"];new Set(R0);const rC=["get",...R0];new Set(rC);/**
 * React Router v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}const xu=T.createContext(null),x0=T.createContext(null),Cr=T.createContext(null),Au=T.createContext(null),Rr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),A0=T.createContext(null);function iC(t,e){let{relative:n}=e===void 0?{}:e;ia()||De(!1);let{basename:r,navigator:i}=T.useContext(Cr),{hash:o,pathname:s,search:l}=Pu(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:fr([r,s])),i.createHref({pathname:u,search:l,hash:o})}function ia(){return T.useContext(Au)!=null}function oa(){return ia()||De(!1),T.useContext(Au).location}function P0(t){T.useContext(Cr).static||T.useLayoutEffect(t)}function oC(){let{isDataRoute:t}=T.useContext(Rr);return t?yC():sC()}function sC(){ia()||De(!1);let t=T.useContext(xu),{basename:e,future:n,navigator:r}=T.useContext(Cr),{matches:i}=T.useContext(Rr),{pathname:o}=oa(),s=JSON.stringify(S0(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return P0(()=>{l.current=!0}),T.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=C0(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:fr([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}function k0(){let{matches:t}=T.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function Pu(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(Cr),{matches:i}=T.useContext(Rr),{pathname:o}=oa(),s=JSON.stringify(S0(i,r.v7_relativeSplatPath));return T.useMemo(()=>C0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function aC(t,e){return lC(t,e)}function lC(t,e,n,r){ia()||De(!1);let{navigator:i}=T.useContext(Cr),{matches:o}=T.useContext(Rr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=oa(),f;if(e){var p;let A=typeof e=="string"?fo(e):e;u==="/"||(p=A.pathname)!=null&&p.startsWith(u)||De(!1),f=A}else f=c;let m=f.pathname||"/",_=m;if(u!=="/"){let A=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=MS(t,{pathname:_}),k=dC(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},l,A.params),pathname:fr([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:fr([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&k?T.createElement(Au.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:tr.Pop}},k):k}function uC(){let t=vC(),e=nC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const cC=T.createElement(uC,null);class hC extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Rr.Provider,{value:this.props.routeContext},T.createElement(A0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fC(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(xu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Rr.Provider,{value:e},r)}function dC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||De(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:_}=n,C=p.route.loader&&m[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||C){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let _,C=!1,k=null,A=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||cC,u&&(c<0&&m===0?(C=!0,A=null):c===m&&(C=!0,A=p.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,m+1)),y=()=>{let E;return _?E=k:C?E=A:p.route.Component?E=T.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=f,T.createElement(fC,{match:p,routeContext:{outlet:f,matches:I,isDataRoute:n!=null},children:E})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?T.createElement(hC,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:y(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):y()},null)}var N0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(N0||{}),Ql=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ql||{});function pC(t){let e=T.useContext(xu);return e||De(!1),e}function mC(t){let e=T.useContext(x0);return e||De(!1),e}function gC(t){let e=T.useContext(Rr);return e||De(!1),e}function D0(t){let e=gC(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function vC(){var t;let e=T.useContext(A0),n=mC(Ql.UseRouteError),r=D0(Ql.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function yC(){let{router:t}=pC(N0.UseNavigateStable),e=D0(Ql.UseNavigateStable),n=T.useRef(!1);return P0(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,js({fromRouteId:e},o)))},[t,e])}function Jo(t){De(!1)}function _C(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tr.Pop,navigator:o,static:s=!1,future:l}=t;ia()&&De(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:o,static:s,future:js({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=fo(r));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:C="default"}=r,k=T.useMemo(()=>{let A=Gi(f,u);return A==null?null:{location:{pathname:A,search:p,hash:m,state:_,key:C},navigationType:i}},[u,f,p,m,_,C,i]);return k==null?null:T.createElement(Cr.Provider,{value:c},T.createElement(Au.Provider,{children:n,value:k}))}function wC(t){let{children:e,location:n}=t;return aC(Jh(e),n)}new Promise(()=>{});function Jh(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let o=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Jh(r.props.children,o));return}r.type!==Jo&&De(!1),!r.props.index||!r.props.children||De(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Jh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gl.apply(this,arguments)}function O0(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TC(t,e){return t.button===0&&(!e||e==="_self")&&!EC(t)}const IC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],SC=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],CC="6";try{window.__reactRouterVersion=CC}catch{}const RC=T.createContext({isTransitioning:!1}),xC="startTransition",Mg=TT[xC];function AC(t){let{basename:e,children:n,future:r,window:i}=t,o=T.useRef();o.current==null&&(o.current=OS({window:i,v5Compat:!0}));let s=o.current,[l,u]=T.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=T.useCallback(p=>{c&&Mg?Mg(()=>u(p)):u(p)},[u,c]);return T.useLayoutEffect(()=>s.listen(f),[s,f]),T.createElement(_C,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const PC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sd=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,unstable_viewTransition:p}=e,m=O0(e,IC),{basename:_}=T.useContext(Cr),C,k=!1;if(typeof c=="string"&&kC.test(c)&&(C=c,PC))try{let E=new URL(window.location.href),N=c.startsWith("//")?new URL(E.protocol+c):new URL(c),M=Gi(N.pathname,_);N.origin===E.origin&&M!=null?c=M+N.search+N.hash:k=!0}catch{}let A=iC(c,{relative:i}),I=DC(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,unstable_viewTransition:p});function y(E){r&&r(E),E.defaultPrevented||I(E)}return T.createElement("a",Gl({},m,{href:C||A,onClick:k||o?r:y,ref:n,target:u}))}),Wo=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:l,to:u,unstable_viewTransition:c,children:f}=e,p=O0(e,SC),m=Pu(u,{relative:p.relative}),_=oa(),C=T.useContext(x0),{navigator:k,basename:A}=T.useContext(Cr),I=C!=null&&OC(m)&&c===!0,y=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,E=_.pathname,N=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(E=E.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&A&&(N=Gi(N,A)||N);const M=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let L=E===y||!s&&E.startsWith(y)&&E.charAt(M)==="/",w=N!=null&&(N===y||!s&&N.startsWith(y)&&N.charAt(y.length)==="/"),g={isActive:L,isPending:w,isTransitioning:I},S=L?r:void 0,x;typeof o=="function"?x=o(g):x=[o,L?"active":null,w?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(g):l;return T.createElement(Sd,Gl({},p,{"aria-current":S,className:x,ref:n,style:P,to:u,unstable_viewTransition:c}),typeof f=="function"?f(g):f)});var Zh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Zh||(Zh={}));var bg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bg||(bg={}));function NC(t){let e=T.useContext(xu);return e||De(!1),e}function DC(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=oC(),c=oa(),f=Pu(t,{relative:s});return T.useCallback(p=>{if(TC(p,n)){p.preventDefault();let m=r!==void 0?r:Kl(c)===Kl(f);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[c,u,f,r,i,n,t,o,s,l])}function OC(t,e){e===void 0&&(e={});let n=T.useContext(RC);n==null&&De(!1);let{basename:r}=NC(Zh.useViewTransitionState),i=Pu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ql(i.pathname,s)!=null||ql(i.pathname,o)!=null}var jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},L0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,s||(m=64)),r.push(n[f],n[p],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(V0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new LC;const m=o<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MC=function(t){const e=V0(t);return L0.encodeByteArray(e,!0)},Xl=function(t){return MC(t).replace(/\./g,"")},bC=function(t){try{return L0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=()=>jC().__FIREBASE_DEFAULTS__,$C=()=>{if(typeof process>"u"||typeof jg>"u")return;const t=jg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bC(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return FC()||$C()||BC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UC=t=>{var e,n;return(n=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zC=t=>{const e=UC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},M0=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xl(JSON.stringify(n)),Xl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QC(){return!qC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GC(){try{return typeof indexedDB=="object"}catch{return!1}}function XC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="FirebaseError";class po extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YC,Object.setPrototypeOf(this,po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,b0.prototype.create)}}class b0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JC(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new po(i,l,r)}}function JC(t,e){return t.replace(ZC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZC=/\{\$([^}]+)}/g;function ef(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Fg(o)&&Fg(s)){if(!ef(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Fg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nR(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tR(t){return t===jr?void 0:t}function nR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const iR={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},oR=le.INFO,sR={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},aR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j0{constructor(e){this.name=e,this._logLevel=oR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const lR=(t,e)=>e.some(n=>t instanceof n);let $g,Bg;function uR(){return $g||($g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return Bg||(Bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,tf=new WeakMap,$0=new WeakMap,Bc=new WeakMap,Rd=new WeakMap;function hR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(dr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&F0.set(n,t)}).catch(()=>{}),Rd.set(e,t),e}function fR(t){if(tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});tf.set(t,e)}let nf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dR(t){nf=t(nf)}function pR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uc(this),e,...n);return $0.set(r,e.sort?e.sort():[e]),dr(r)}:cR().includes(t)?function(...e){return t.apply(Uc(this),e),dr(F0.get(this))}:function(...e){return dr(t.apply(Uc(this),e))}}function mR(t){return typeof t=="function"?pR(t):(t instanceof IDBTransaction&&fR(t),lR(t,uR())?new Proxy(t,nf):t)}function dr(t){if(t instanceof IDBRequest)return hR(t);if(Bc.has(t))return Bc.get(t);const e=mR(t);return e!==t&&(Bc.set(t,e),Rd.set(e,t)),e}const Uc=t=>Rd.get(t);function gR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=dr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dr(s.result),u.oldVersion,u.newVersion,dr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const vR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],zc=new Map;function Ug(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zc.get(e))return zc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vR.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return zc.set(e,o),o}dR(t=>({...t,get:(e,n,r)=>Ug(e,n)||t.get(e,n,r),has:(e,n)=>!!Ug(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",zg="0.10.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new j0("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",IR="@firebase/analytics",SR="@firebase/app-check-compat",CR="@firebase/app-check",RR="@firebase/auth",xR="@firebase/auth-compat",AR="@firebase/database",PR="@firebase/database-compat",kR="@firebase/functions",NR="@firebase/functions-compat",DR="@firebase/installations",OR="@firebase/installations-compat",VR="@firebase/messaging",LR="@firebase/messaging-compat",MR="@firebase/performance",bR="@firebase/performance-compat",jR="@firebase/remote-config",FR="@firebase/remote-config-compat",$R="@firebase/storage",BR="@firebase/storage-compat",UR="@firebase/firestore",zR="@firebase/vertexai-preview",WR="@firebase/firestore-compat",HR="firebase",KR="10.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="[DEFAULT]",qR={[rf]:"fire-core",[ER]:"fire-core-compat",[IR]:"fire-analytics",[TR]:"fire-analytics-compat",[CR]:"fire-app-check",[SR]:"fire-app-check-compat",[RR]:"fire-auth",[xR]:"fire-auth-compat",[AR]:"fire-rtdb",[PR]:"fire-rtdb-compat",[kR]:"fire-fn",[NR]:"fire-fn-compat",[DR]:"fire-iid",[OR]:"fire-iid-compat",[VR]:"fire-fcm",[LR]:"fire-fcm-compat",[MR]:"fire-perf",[bR]:"fire-perf-compat",[jR]:"fire-rc",[FR]:"fire-rc-compat",[$R]:"fire-gcs",[BR]:"fire-gcs-compat",[UR]:"fire-fst",[WR]:"fire-fst-compat",[zR]:"fire-vertex","fire-js":"fire-js",[HR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new Map,QR=new Map,sf=new Map;function Wg(t,e){try{t.container.addComponent(e)}catch(n){Ln.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jl(t){const e=t.name;if(sf.has(e))return Ln.debug(`There were multiple attempts to register component ${e}.`),!1;sf.set(e,t);for(const n of Yl.values())Wg(n,t);for(const n of QR.values())Wg(n,t);return!0}function GR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new b0("app","Firebase",XR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=KR;function B0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:of,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=M0()),!n)throw pr.create("no-options");const o=Yl.get(i);if(o){if(ef(n,o.options)&&ef(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}const s=new rR(i);for(const u of sf.values())s.addComponent(u);const l=new YR(n,r,s);return Yl.set(i,l),l}function ZR(t=of){const e=Yl.get(t);if(!e&&t===of&&M0())return B0();if(!e)throw pr.create("no-app",{appName:t});return e}function Fi(t,e,n){var r;let i=(r=qR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ln.warn(l.join(" "));return}Jl(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="firebase-heartbeat-database",tx=1,$s="firebase-heartbeat-store";let Wc=null;function U0(){return Wc||(Wc=gR(ex,tx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Wc}async function nx(t){try{const n=(await U0()).transaction($s),r=await n.objectStore($s).get(z0(t));return await n.done,r}catch(e){if(e instanceof po)Ln.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ln.warn(n.message)}}}async function Hg(t,e){try{const r=(await U0()).transaction($s,"readwrite");await r.objectStore($s).put(e,z0(t)),await r.done}catch(n){if(n instanceof po)Ln.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ln.warn(r.message)}}}function z0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=1024,ix=30*24*60*60*1e3;class ox{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ax(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kg();return console.log("heartbeats",(e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats),((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const u=new Date(l.date).valueOf();return Date.now()-u<=ix}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ln.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kg(),{heartbeatsToSend:r,unsentEntries:i}=sx(this._heartbeatsCache.heartbeats),o=Xl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ln.warn(n),""}}}function Kg(){return new Date().toISOString().substring(0,10)}function sx(t,e=rx){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),qg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ax{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GC()?XC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function qg(t){return Xl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){Jl(new Fs("platform-logger",e=>new _R(e),"PRIVATE")),Jl(new Fs("heartbeat",e=>new ox(e),"PRIVATE")),Fi(rf,zg,t),Fi(rf,zg,"esm2017"),Fi("fire-js","")}lx("");var Qg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,W0;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,g){function S(){}S.prototype=g.prototype,w.D=g.prototype,w.prototype=new S,w.prototype.constructor=w,w.C=function(x,P,D){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return g.prototype[P].apply(x,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,g,S){S||(S=0);var x=Array(16);if(typeof g=="string")for(var P=0;16>P;++P)x[P]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(P=0;16>P;++P)x[P]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=w.g[0],S=w.g[1],P=w.g[2];var D=w.g[3],R=g+(D^S&(P^D))+x[0]+3614090360&4294967295;g=S+(R<<7&4294967295|R>>>25),R=D+(P^g&(S^P))+x[1]+3905402710&4294967295,D=g+(R<<12&4294967295|R>>>20),R=P+(S^D&(g^S))+x[2]+606105819&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(g^P&(D^g))+x[3]+3250441966&4294967295,S=P+(R<<22&4294967295|R>>>10),R=g+(D^S&(P^D))+x[4]+4118548399&4294967295,g=S+(R<<7&4294967295|R>>>25),R=D+(P^g&(S^P))+x[5]+1200080426&4294967295,D=g+(R<<12&4294967295|R>>>20),R=P+(S^D&(g^S))+x[6]+2821735955&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(g^P&(D^g))+x[7]+4249261313&4294967295,S=P+(R<<22&4294967295|R>>>10),R=g+(D^S&(P^D))+x[8]+1770035416&4294967295,g=S+(R<<7&4294967295|R>>>25),R=D+(P^g&(S^P))+x[9]+2336552879&4294967295,D=g+(R<<12&4294967295|R>>>20),R=P+(S^D&(g^S))+x[10]+4294925233&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(g^P&(D^g))+x[11]+2304563134&4294967295,S=P+(R<<22&4294967295|R>>>10),R=g+(D^S&(P^D))+x[12]+1804603682&4294967295,g=S+(R<<7&4294967295|R>>>25),R=D+(P^g&(S^P))+x[13]+4254626195&4294967295,D=g+(R<<12&4294967295|R>>>20),R=P+(S^D&(g^S))+x[14]+2792965006&4294967295,P=D+(R<<17&4294967295|R>>>15),R=S+(g^P&(D^g))+x[15]+1236535329&4294967295,S=P+(R<<22&4294967295|R>>>10),R=g+(P^D&(S^P))+x[1]+4129170786&4294967295,g=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(g^S))+x[6]+3225465664&4294967295,D=g+(R<<9&4294967295|R>>>23),R=P+(g^S&(D^g))+x[11]+643717713&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^g&(P^D))+x[0]+3921069994&4294967295,S=P+(R<<20&4294967295|R>>>12),R=g+(P^D&(S^P))+x[5]+3593408605&4294967295,g=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(g^S))+x[10]+38016083&4294967295,D=g+(R<<9&4294967295|R>>>23),R=P+(g^S&(D^g))+x[15]+3634488961&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^g&(P^D))+x[4]+3889429448&4294967295,S=P+(R<<20&4294967295|R>>>12),R=g+(P^D&(S^P))+x[9]+568446438&4294967295,g=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(g^S))+x[14]+3275163606&4294967295,D=g+(R<<9&4294967295|R>>>23),R=P+(g^S&(D^g))+x[3]+4107603335&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^g&(P^D))+x[8]+1163531501&4294967295,S=P+(R<<20&4294967295|R>>>12),R=g+(P^D&(S^P))+x[13]+2850285829&4294967295,g=S+(R<<5&4294967295|R>>>27),R=D+(S^P&(g^S))+x[2]+4243563512&4294967295,D=g+(R<<9&4294967295|R>>>23),R=P+(g^S&(D^g))+x[7]+1735328473&4294967295,P=D+(R<<14&4294967295|R>>>18),R=S+(D^g&(P^D))+x[12]+2368359562&4294967295,S=P+(R<<20&4294967295|R>>>12),R=g+(S^P^D)+x[5]+4294588738&4294967295,g=S+(R<<4&4294967295|R>>>28),R=D+(g^S^P)+x[8]+2272392833&4294967295,D=g+(R<<11&4294967295|R>>>21),R=P+(D^g^S)+x[11]+1839030562&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^g)+x[14]+4259657740&4294967295,S=P+(R<<23&4294967295|R>>>9),R=g+(S^P^D)+x[1]+2763975236&4294967295,g=S+(R<<4&4294967295|R>>>28),R=D+(g^S^P)+x[4]+1272893353&4294967295,D=g+(R<<11&4294967295|R>>>21),R=P+(D^g^S)+x[7]+4139469664&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^g)+x[10]+3200236656&4294967295,S=P+(R<<23&4294967295|R>>>9),R=g+(S^P^D)+x[13]+681279174&4294967295,g=S+(R<<4&4294967295|R>>>28),R=D+(g^S^P)+x[0]+3936430074&4294967295,D=g+(R<<11&4294967295|R>>>21),R=P+(D^g^S)+x[3]+3572445317&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^g)+x[6]+76029189&4294967295,S=P+(R<<23&4294967295|R>>>9),R=g+(S^P^D)+x[9]+3654602809&4294967295,g=S+(R<<4&4294967295|R>>>28),R=D+(g^S^P)+x[12]+3873151461&4294967295,D=g+(R<<11&4294967295|R>>>21),R=P+(D^g^S)+x[15]+530742520&4294967295,P=D+(R<<16&4294967295|R>>>16),R=S+(P^D^g)+x[2]+3299628645&4294967295,S=P+(R<<23&4294967295|R>>>9),R=g+(P^(S|~D))+x[0]+4096336452&4294967295,g=S+(R<<6&4294967295|R>>>26),R=D+(S^(g|~P))+x[7]+1126891415&4294967295,D=g+(R<<10&4294967295|R>>>22),R=P+(g^(D|~S))+x[14]+2878612391&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~g))+x[5]+4237533241&4294967295,S=P+(R<<21&4294967295|R>>>11),R=g+(P^(S|~D))+x[12]+1700485571&4294967295,g=S+(R<<6&4294967295|R>>>26),R=D+(S^(g|~P))+x[3]+2399980690&4294967295,D=g+(R<<10&4294967295|R>>>22),R=P+(g^(D|~S))+x[10]+4293915773&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~g))+x[1]+2240044497&4294967295,S=P+(R<<21&4294967295|R>>>11),R=g+(P^(S|~D))+x[8]+1873313359&4294967295,g=S+(R<<6&4294967295|R>>>26),R=D+(S^(g|~P))+x[15]+4264355552&4294967295,D=g+(R<<10&4294967295|R>>>22),R=P+(g^(D|~S))+x[6]+2734768916&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~g))+x[13]+1309151649&4294967295,S=P+(R<<21&4294967295|R>>>11),R=g+(P^(S|~D))+x[4]+4149444226&4294967295,g=S+(R<<6&4294967295|R>>>26),R=D+(S^(g|~P))+x[11]+3174756917&4294967295,D=g+(R<<10&4294967295|R>>>22),R=P+(g^(D|~S))+x[2]+718787259&4294967295,P=D+(R<<15&4294967295|R>>>17),R=S+(D^(P|~g))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var S=g-this.blockSize,x=this.B,P=this.h,D=0;D<g;){if(P==0)for(;D<=S;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<g;)if(x[P++]=w.charCodeAt(D++),P==this.blockSize){i(this,x),P=0;break}}else for(;D<g;)if(x[P++]=w[D++],P==this.blockSize){i(this,x),P=0;break}}this.h=P,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var S=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=S&255,S/=256;for(this.u(w),w=Array(16),g=S=0;4>g;++g)for(var x=0;32>x;x+=8)w[S++]=this.g[g]>>>x&255;return w};function o(w,g){var S=l;return Object.prototype.hasOwnProperty.call(S,w)?S[w]:S[w]=g(w)}function s(w,g){this.h=g;for(var S=[],x=!0,P=w.length-1;0<=P;P--){var D=w[P]|0;x&&D==g||(S[P]=D,x=!1)}this.g=S}var l={};function u(w){return-128<=w&&128>w?o(w,function(g){return new s([g|0],0>g?-1:0)}):new s([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(c(-w));for(var g=[],S=1,x=0;w>=S;x++)g[x]=w/S|0,S*=4294967296;return new s(g,0)}function f(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return A(f(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(g,8)),x=p,P=0;P<w.length;P+=8){var D=Math.min(8,w.length-P),R=parseInt(w.substring(P,P+D),g);8>D?(D=c(Math.pow(g,D)),x=x.j(D).add(c(R))):(x=x.j(S),x=x.add(c(R)))}return x}var p=u(0),m=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-A(this).m();for(var w=0,g=1,S=0;S<this.g.length;S++){var x=this.i(S);w+=(0<=x?x:4294967296+x)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(k(this))return"-"+A(this).toString(w);for(var g=c(Math.pow(w,6)),S=this,x="";;){var P=N(S,g).g;S=I(S,P.j(g));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(w);if(S=P,C(S))return D+x;for(;6>D.length;)D="0"+D;x=D+x}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=I(this,w),k(w)?-1:C(w)?0:1};function A(w){for(var g=w.g.length,S=[],x=0;x<g;x++)S[x]=~w.g[x];return new s(S,~w.h).add(m)}t.abs=function(){return k(this)?A(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],x=0,P=0;P<=g;P++){var D=x+(this.i(P)&65535)+(w.i(P)&65535),R=(D>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);x=R>>>16,D&=65535,R&=65535,S[P]=R<<16|D}return new s(S,S[S.length-1]&-2147483648?-1:0)};function I(w,g){return w.add(A(g))}t.j=function(w){if(C(this)||C(w))return p;if(k(this))return k(w)?A(this).j(A(w)):A(A(this).j(w));if(k(w))return A(this.j(A(w)));if(0>this.l(_)&&0>w.l(_))return c(this.m()*w.m());for(var g=this.g.length+w.g.length,S=[],x=0;x<2*g;x++)S[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<w.g.length;P++){var D=this.i(x)>>>16,R=this.i(x)&65535,te=w.i(P)>>>16,me=w.i(P)&65535;S[2*x+2*P]+=R*me,y(S,2*x+2*P),S[2*x+2*P+1]+=D*me,y(S,2*x+2*P+1),S[2*x+2*P+1]+=R*te,y(S,2*x+2*P+1),S[2*x+2*P+2]+=D*te,y(S,2*x+2*P+2)}for(x=0;x<g;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=g;x<2*g;x++)S[x]=0;return new s(S,0)};function y(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function E(w,g){this.g=w,this.h=g}function N(w,g){if(C(g))throw Error("division by zero");if(C(w))return new E(p,p);if(k(w))return g=N(A(w),g),new E(A(g.g),A(g.h));if(k(g))return g=N(w,A(g)),new E(A(g.g),g.h);if(30<w.g.length){if(k(w)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var S=m,x=g;0>=x.l(w);)S=M(S),x=M(x);var P=L(S,1),D=L(x,1);for(x=L(x,2),S=L(S,2);!C(x);){var R=D.add(x);0>=R.l(w)&&(P=P.add(S),D=R),x=L(x,1),S=L(S,1)}return g=I(w,P.j(g)),new E(P,g)}for(P=p;0<=w.l(g);){for(S=Math.max(1,Math.floor(w.m()/g.m())),x=Math.ceil(Math.log(S)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),D=c(S),R=D.j(g);k(R)||0<R.l(w);)S-=x,D=c(S),R=D.j(g);C(D)&&(D=m),P=P.add(D),w=I(w,R)}return new E(P,w)}t.A=function(w){return N(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],x=0;x<g;x++)S[x]=this.i(x)&w.i(x);return new s(S,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],x=0;x<g;x++)S[x]=this.i(x)|w.i(x);return new s(S,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],x=0;x<g;x++)S[x]=this.i(x)^w.i(x);return new s(S,this.h^w.h)};function M(w){for(var g=w.g.length+1,S=[],x=0;x<g;x++)S[x]=w.i(x)<<1|w.i(x-1)>>>31;return new s(S,w.h)}function L(w,g){var S=g>>5;g%=32;for(var x=w.g.length-S,P=[],D=0;D<x;D++)P[D]=0<g?w.i(D+S)>>>g|w.i(D+S+1)<<32-g:w.i(D+S);return new s(P,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,W0=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Kr=s}).apply(typeof Qg<"u"?Qg:typeof self<"u"?self:typeof window<"u"?window:{});var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H0,K0,Zo,q0,gl,af,Q0,G0,X0;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xa=="object"&&Xa];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var V=a[v];if(!(V in d))break e;d=d[V]}a=a[a.length-1],v=d[a],h=h(v),h!=v&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,v=!1,V={next:function(){if(!v&&d<a.length){var b=d++;return{value:h(b,a[b]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function C(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(v,V,b){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return h.prototype[V].apply(v,U)}}function k(a){const h=a.length;if(0<h){const d=Array(h);for(let v=0;v<h;v++)d[v]=a[v];return d}return[]}function A(a,h){for(let d=1;d<arguments.length;d++){const v=arguments[d];if(u(v)){const V=a.length||0,b=v.length||0;a.length=V+b;for(let U=0;U<b;U++)a[V+U]=v[U]}else a.push(v)}}class I{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function E(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function N(a){return N[" "](a),a}N[" "]=function(){};var M=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(a,h,d){for(const v in a)h.call(d,a[v],v,a)}function w(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function g(a){const h={};for(const d in a)h[d]=a[d];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,h){let d,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(d in v)a[d]=v[d];for(let b=0;b<S.length;b++)d=S[b],Object.prototype.hasOwnProperty.call(v,d)&&(a[d]=v[d])}}function P(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function D(a){l.setTimeout(()=>{throw a},0)}function R(){var a=q;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class te{constructor(){this.h=this.g=null}add(h,d){const v=me.get();v.set(h,d),this.h?this.h.next=v:this.g=v,this.h=v}}var me=new I(()=>new fe,a=>a.reset());class fe{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let de,$=!1,q=new te,H=()=>{const a=l.Promise.resolve(void 0);de=()=>{a.then(ne)}};var ne=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(d){D(d)}var h=me;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}$=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function ae(a,h){if(se.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(M){e:{try{N(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Oe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ae.aa.h.call(this)}}C(ae,se);var Oe={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function yn(a,h,d,v,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!v,this.ha=V,this.key=++Wt,this.da=this.fa=!1}function rn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function on(a){this.src=a,this.g={},this.h=0}on.prototype.add=function(a,h,d,v,V){var b=a.toString();a=this.g[b],a||(a=this.g[b]=[],this.h++);var U=sn(a,h,v,V);return-1<U?(h=a[U],d||(h.fa=!1)):(h=new yn(h,this.src,b,!!v,V),h.fa=d,a.push(h)),h};function Bn(a,h){var d=h.type;if(d in a.g){var v=a.g[d],V=Array.prototype.indexOf.call(v,h,void 0),b;(b=0<=V)&&Array.prototype.splice.call(v,V,1),b&&(rn(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function sn(a,h,d,v){for(var V=0;V<a.length;++V){var b=a[V];if(!b.da&&b.listener==h&&b.capture==!!d&&b.ha==v)return V}return-1}var an="closure_lm_"+(1e6*Math.random()|0),ge={};function Un(a,h,d,v,V){if(Array.isArray(h)){for(var b=0;b<h.length;b++)Un(a,h[b],d,v,V);return null}return d=Eo(d),a&&a[rt]?a.K(h,d,c(v)?!!v.capture:!!v,V):zn(a,h,d,!1,v,V)}function zn(a,h,d,v,V,b){if(!h)throw Error("Invalid event type");var U=c(V)?!!V.capture:!!V,ve=ui(a);if(ve||(a[an]=ve=new on(a)),d=ve.add(h,d,v,U,b),d.proxy)return d;if(v=Yu(),d.proxy=v,v.src=a,v.listener=d,a.addEventListener)Pe||(V=U),V===void 0&&(V=!1),a.addEventListener(h.toString(),v,V);else if(a.attachEvent)a.attachEvent(Pr(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Yu(){function a(d){return h.call(a.src,a.listener,d)}const h=ya;return a}function va(a,h,d,v,V){if(Array.isArray(h))for(var b=0;b<h.length;b++)va(a,h[b],d,v,V);else v=c(v)?!!v.capture:!!v,d=Eo(d),a&&a[rt]?(a=a.i,h=String(h).toString(),h in a.g&&(b=a.g[h],d=sn(b,d,v,V),-1<d&&(rn(b[d]),Array.prototype.splice.call(b,d,1),b.length==0&&(delete a.g[h],a.h--)))):a&&(a=ui(a))&&(h=a.g[h.toString()],a=-1,h&&(a=sn(h,d,v,V)),(d=-1<a?h[a]:null)&&Ht(d))}function Ht(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[rt])Bn(h.i,a);else{var d=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(d,v,a.capture):h.detachEvent?h.detachEvent(Pr(d),v):h.addListener&&h.removeListener&&h.removeListener(v),(d=ui(h))?(Bn(d,a),d.h==0&&(d.src=null,h[an]=null)):rn(a)}}}function Pr(a){return a in ge?ge[a]:ge[a]="on"+a}function ya(a,h){if(a.da)a=!0;else{h=new ae(h,this);var d=a.listener,v=a.ha||a.src;a.fa&&Ht(a),a=d.call(v,h)}return a}function ui(a){return a=a[an],a instanceof on?a:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(a){return typeof a=="function"?a:(a[kr]||(a[kr]=function(h){return a.handleEvent(h)}),a[kr])}function $e(){Z.call(this),this.i=new on(this),this.M=this,this.F=null}C($e,Z),$e.prototype[rt]=!0,$e.prototype.removeEventListener=function(a,h,d,v){va(this,a,h,d,v)};function We(a,h){var d,v=a.F;if(v)for(d=[];v;v=v.F)d.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new se(h,a);else if(h instanceof se)h.target=h.target||a;else{var V=h;h=new se(v,a),x(h,V)}if(V=!0,d)for(var b=d.length-1;0<=b;b--){var U=h.g=d[b];V=Nr(U,v,!0,h)&&V}if(U=h.g=a,V=Nr(U,v,!0,h)&&V,V=Nr(U,v,!1,h)&&V,d)for(b=0;b<d.length;b++)U=h.g=d[b],V=Nr(U,v,!1,h)&&V}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],v=0;v<d.length;v++)rn(d[v]);delete a.g[h],a.h--}}this.F=null},$e.prototype.K=function(a,h,d,v){return this.i.add(String(a),h,!1,d,v)},$e.prototype.L=function(a,h,d,v){return this.i.add(String(a),h,!0,d,v)};function Nr(a,h,d,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,b=0;b<h.length;++b){var U=h[b];if(U&&!U.da&&U.capture==d){var ve=U.listener,Ge=U.ha||U.src;U.fa&&Bn(a.i,U),V=ve.call(Ge,v)!==!1&&V}}return V&&!v.defaultPrevented}function Ap(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Pp(a){a.g=Ap(()=>{a.g=null,a.i&&(a.i=!1,Pp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class V1 extends Z{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Pp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(a){Z.call(this),this.h=a,this.g={}}C(To,Z);var kp=[];function Np(a){L(a.g,function(h,d){this.g.hasOwnProperty(d)&&Ht(h)},a),a.g={}}To.prototype.N=function(){To.aa.N.call(this),Np(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ju=l.JSON.stringify,L1=l.JSON.parse,M1=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Zu(){}Zu.prototype.h=null;function Dp(a){return a.h||(a.h=a.i())}function Op(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ec(){se.call(this,"d")}C(ec,se);function tc(){se.call(this,"c")}C(tc,se);var Dr={},Vp=null;function _a(){return Vp=Vp||new $e}Dr.La="serverreachability";function Lp(a){se.call(this,Dr.La,a)}C(Lp,se);function So(a){const h=_a();We(h,new Lp(h))}Dr.STAT_EVENT="statevent";function Mp(a,h){se.call(this,Dr.STAT_EVENT,a),this.stat=h}C(Mp,se);function dt(a){const h=_a();We(h,new Mp(h,a))}Dr.Ma="timingevent";function bp(a,h){se.call(this,Dr.Ma,a),this.size=h}C(bp,se);function Co(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Ro(){this.g=!0}Ro.prototype.xa=function(){this.g=!1};function b1(a,h,d,v,V,b){a.info(function(){if(a.g)if(b)for(var U="",ve=b.split("&"),Ge=0;Ge<ve.length;Ge++){var ce=ve[Ge].split("=");if(1<ce.length){var it=ce[0];ce=ce[1];var ot=it.split("_");U=2<=ot.length&&ot[1]=="type"?U+(it+"="+ce+"&"):U+(it+"=redacted&")}}else U=null;else U=b;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+h+`
`+d+`
`+U})}function j1(a,h,d,v,V,b,U){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+h+`
`+d+`
`+b+" "+U})}function ci(a,h,d,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+$1(a,d)+(v?" "+v:"")})}function F1(a,h){a.info(function(){return"TIMEOUT: "+h})}Ro.prototype.info=function(){};function $1(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var v=d[a];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var b=V[0];if(b!="noop"&&b!="stop"&&b!="close")for(var U=1;U<V.length;U++)V[U]=""}}}}return Ju(d)}catch{return h}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nc;function Ea(){}C(Ea,Zu),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},nc=new Ea;function Wn(a,h,d,v){this.j=a,this.i=h,this.l=d,this.R=v||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fp}function Fp(){this.i=null,this.g="",this.h=!1}var $p={},rc={};function ic(a,h,d){a.L=1,a.v=Ca(_n(h)),a.m=d,a.P=!0,Bp(a,null)}function Bp(a,h){a.F=Date.now(),Ta(a),a.A=_n(a.v);var d=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),tm(d.i,"t",v),a.C=0,d=a.j.J,a.h=new Fp,a.g=_m(a.j,d?h:null,!a.m),0<a.O&&(a.M=new V1(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,v=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(kp[0]=V.toString()),V=kp);for(var b=0;b<V.length;b++){var U=Un(d,V[b],v||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),So(),b1(a.i,a.u,a.A,a.l,a.R,a.m)}Wn.prototype.ca=function(a){a=a.target;const h=this.M;h&&wn(a)==3?h.j():this.Y(a)},Wn.prototype.Y=function(a){try{if(a==this.g)e:{const ot=wn(this.g);var h=this.g.Ba();const di=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||lm(this.g)))){this.J||ot!=4||h==7||(h==8||0>=di?So(3):So(2)),oc(this);var d=this.g.Z();this.X=d;t:if(Up(this)){var v=lm(this.g);a="";var V=v.length,b=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),xo(this);var U="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(b&&h==V-1)});v.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,j1(this.i,this.u,this.A,this.l,this.R,ot,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ge=this.g;if((ve=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ve)){var ce=ve;break t}}ce=null}if(d=ce)ci(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sc(this,d);else{this.o=!1,this.s=3,dt(12),Or(this),xo(this);break e}}if(this.P){d=!0;let Kt;for(;!this.J&&this.C<U.length;)if(Kt=B1(this,U),Kt==rc){ot==4&&(this.s=4,dt(14),d=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==$p){this.s=4,dt(15),ci(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else ci(this.i,this.l,Kt,null),sc(this,Kt);if(Up(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||U.length!=0||this.h.h||(this.s=1,dt(16),d=!1),this.o=this.o&&d,!d)ci(this.i,this.l,U,"[Invalid Chunked Response]"),Or(this),xo(this);else if(0<U.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),fc(it),it.M=!0,dt(11))}}else ci(this.i,this.l,U,null),sc(this,U);ot==4&&Or(this),this.o&&!this.J&&(ot==4?mm(this.j,this):(this.o=!1,Ta(this)))}else iT(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Or(this),xo(this)}}}catch{}finally{}};function Up(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function B1(a,h){var d=a.C,v=h.indexOf(`
`,d);return v==-1?rc:(d=Number(h.substring(d,v)),isNaN(d)?$p:(v+=1,v+d>h.length?rc:(h=h.slice(v,v+d),a.C=v+d,h)))}Wn.prototype.cancel=function(){this.J=!0,Or(this)};function Ta(a){a.S=Date.now()+a.I,zp(a,a.I)}function zp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Co(m(a.ba,a),h)}function oc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Wn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(F1(this.i,this.A),this.L!=2&&(So(),dt(17)),Or(this),this.s=2,xo(this)):zp(this,this.S-a)};function xo(a){a.j.G==0||a.J||mm(a.j,a)}function Or(a){oc(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Np(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function sc(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||ac(d.h,a))){if(!a.K&&ac(d.h,a)&&d.G==3){try{var v=d.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ka(d),Aa(d);else break e;hc(d),dt(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Co(m(d.Za,d),6e3));if(1>=Kp(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Lr(d,11)}else if((a.K||d.g==a)&&ka(d),!y(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let ce=V[h];if(d.T=ce[0],ce=ce[1],d.G==2)if(ce[0]=="c"){d.K=ce[1],d.ia=ce[2];const it=ce[3];it!=null&&(d.la=it,d.j.info("VER="+d.la));const ot=ce[4];ot!=null&&(d.Aa=ot,d.j.info("SVER="+d.Aa));const di=ce[5];di!=null&&typeof di=="number"&&0<di&&(v=1.5*di,d.L=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const Kt=a.g;if(Kt){const Da=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Da){var b=v.h;b.g||Da.indexOf("spdy")==-1&&Da.indexOf("quic")==-1&&Da.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(lc(b,b.h),b.h=null))}if(v.D){const dc=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;dc&&(v.ya=dc,we(v.I,v.D,dc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),v=d;var U=a;if(v.qa=ym(v,v.J?v.ia:null,v.W),U.K){qp(v.h,U);var ve=U,Ge=v.L;Ge&&(ve.I=Ge),ve.B&&(oc(ve),Ta(ve)),v.g=U}else dm(v);0<d.i.length&&Pa(d)}else ce[0]!="stop"&&ce[0]!="close"||Lr(d,7);else d.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Lr(d,7):cc(d):ce[0]!="noop"&&d.l&&d.l.ta(ce),d.v=0)}}So(4)}catch{}}var U1=class{constructor(a,h){this.g=a,this.map=h}};function Wp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hp(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kp(a){return a.h?1:a.g?a.g.size:0}function ac(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function lc(a,h){a.g?a.g.add(h):a.h=h}function qp(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Wp.prototype.cancel=function(){if(this.i=Qp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Qp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return k(a.i)}function z1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,v=0;v<d;v++)h.push(a[v]);return h}h=[],d=0;for(v in a)h[d++]=a[v];return h}function W1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const v in a)h[d++]=v;return h}}}function Gp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=W1(a),v=z1(a),V=v.length,b=0;b<V;b++)h.call(void 0,v[b],d&&d[b],a)}var Xp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function H1(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var v=a[d].indexOf("="),V=null;if(0<=v){var b=a[d].substring(0,v);V=a[d].substring(v+1)}else b=a[d];h(b,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Vr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Vr){this.h=a.h,Ia(this,a.j),this.o=a.o,this.g=a.g,Sa(this,a.s),this.l=a.l;var h=a.i,d=new ko;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Yp(this,d),this.m=a.m}else a&&(h=String(a).match(Xp))?(this.h=!1,Ia(this,h[1]||"",!0),this.o=Ao(h[2]||""),this.g=Ao(h[3]||"",!0),Sa(this,h[4]),this.l=Ao(h[5]||"",!0),Yp(this,h[6]||"",!0),this.m=Ao(h[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Vr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Po(h,Jp,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Po(h,Jp,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Po(d,d.charAt(0)=="/"?Q1:q1,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Po(d,X1)),a.join("")};function _n(a){return new Vr(a)}function Ia(a,h,d){a.j=d?Ao(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Sa(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Yp(a,h,d){h instanceof ko?(a.i=h,Y1(a.i,a.h)):(d||(h=Po(h,G1)),a.i=new ko(h,a.h))}function we(a,h,d){a.i.set(h,d)}function Ca(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ao(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Po(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,K1),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function K1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jp=/[#\/\?@]/g,q1=/[#\?:]/g,Q1=/[#\?]/g,G1=/[#\?@]/g,X1=/#/g;function ko(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Hn(a){a.g||(a.g=new Map,a.h=0,a.i&&H1(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=ko.prototype,t.add=function(a,h){Hn(this),this.i=null,a=hi(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function Zp(a,h){Hn(a),h=hi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function em(a,h){return Hn(a),h=hi(a,h),a.g.has(h)}t.forEach=function(a,h){Hn(this),this.g.forEach(function(d,v){d.forEach(function(V){a.call(h,V,v,this)},this)},this)},t.na=function(){Hn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let v=0;v<h.length;v++){const V=a[v];for(let b=0;b<V.length;b++)d.push(h[v])}return d},t.V=function(a){Hn(this);let h=[];if(typeof a=="string")em(this,a)&&(h=h.concat(this.g.get(hi(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Hn(this),this.i=null,a=hi(this,a),em(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function tm(a,h,d){Zp(a,h),0<d.length&&(a.i=null,a.g.set(hi(a,h),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var v=h[d];const b=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var V=b;U[v]!==""&&(V+="="+encodeURIComponent(String(U[v]))),a.push(V)}}return this.i=a.join("&")};function hi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Y1(a,h){h&&!a.j&&(Hn(a),a.i=null,a.g.forEach(function(d,v){var V=v.toLowerCase();v!=V&&(Zp(this,v),tm(this,V,d))},a)),a.j=h}function J1(a,h){const d=new Ro;if(l.Image){const v=new Image;v.onload=_(Kn,d,"TestLoadImage: loaded",!0,h,v),v.onerror=_(Kn,d,"TestLoadImage: error",!1,h,v),v.onabort=_(Kn,d,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(Kn,d,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function Z1(a,h){const d=new Ro,v=new AbortController,V=setTimeout(()=>{v.abort(),Kn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(b=>{clearTimeout(V),b.ok?Kn(d,"TestPingServer: ok",!0,h):Kn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),Kn(d,"TestPingServer: error",!1,h)})}function Kn(a,h,d,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(d)}catch{}}function eT(){this.g=new M1}function tT(a,h,d){const v=d||"";try{Gp(a,function(V,b){let U=V;c(V)&&(U=Ju(V)),h.push(v+b+"="+encodeURIComponent(U))})}catch(V){throw h.push(v+"type="+encodeURIComponent("_badmap")),V}}function No(a){this.l=a.Ub||null,this.j=a.eb||!1}C(No,Zu),No.prototype.g=function(){return new Ra(this.l,this.j)},No.prototype.i=function(a){return function(){return a}}({});function Ra(a,h){$e.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ra,$e),t=Ra.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Oo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Do(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function nm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Do(this):Oo(this),this.readyState==3&&nm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Do(this))},t.Qa=function(a){this.g&&(this.response=a,Do(this))},t.ga=function(){this.g&&Do(this)};function Do(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Oo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Oo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rm(a){let h="";return L(a,function(d,v){h+=v,h+=":",h+=d,h+=`\r
`}),h}function uc(a,h,d){e:{for(v in d){var v=!1;break e}v=!0}v||(d=rm(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):we(a,h,d))}function ke(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,$e);var nT=/^https?$/i,rT=["POST","PUT"];t=ke.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nc.g(),this.v=this.o?Dp(this.o):Dp(nc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(b){im(this,b);return}if(a=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)d.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const b of v.keys())d.set(b,v.get(b));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(b=>b.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rT,h,void 0))||v||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,U]of d)this.g.setRequestHeader(b,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{am(this),this.u=!0,this.g.send(a),this.u=!1}catch(b){im(this,b)}};function im(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,om(a),xa(a)}function om(a){a.A||(a.A=!0,We(a,"complete"),We(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,We(this,"complete"),We(this,"abort"),xa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xa(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sm(this):this.bb())},t.bb=function(){sm(this)};function sm(a){if(a.h&&typeof s<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)Ap(a.Ea,0,a);else if(We(a,"readystatechange"),wn(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var v;if(v=U===0){var V=String(a.D).match(Xp)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),v=!nT.test(V?V.toLowerCase():"")}d=v}if(d)We(a,"complete"),We(a,"success");else{a.m=6;try{var b=2<wn(a)?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.Z()+"]",om(a)}}finally{xa(a)}}}}function xa(a,h){if(a.g){am(a);const d=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||We(a,"ready");try{d.onreadystatechange=v}catch{}}}function am(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),L1(h)}};function lm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function iT(a){const h={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(y(a[v]))continue;var d=P(a[v]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const b=h[V]||[];h[V]=b,b.push(d)}w(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vo(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function um(a){this.Aa=0,this.i=[],this.j=new Ro,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vo("baseRetryDelayMs",5e3,a),this.cb=Vo("retryDelaySeedMs",1e4,a),this.Wa=Vo("forwardChannelMaxRetries",2,a),this.wa=Vo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Wp(a&&a.concurrentRequestLimit),this.Da=new eT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=um.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,v){dt(0),this.W=a,this.H=h||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.I=ym(this,null,this.W),Pa(this)};function cc(a){if(cm(a),a.G==3){var h=a.U++,d=_n(a.I);if(we(d,"SID",a.K),we(d,"RID",h),we(d,"TYPE","terminate"),Lo(a,d),h=new Wn(a,a.j,h),h.L=2,h.v=Ca(_n(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=_m(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ta(h)}vm(a)}function Aa(a){a.g&&(fc(a),a.g.cancel(),a.g=null)}function cm(a){Aa(a),a.u&&(l.clearTimeout(a.u),a.u=null),ka(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Pa(a){if(!Hp(a.h)&&!a.s){a.s=!0;var h=a.Ga;de||H(),$||(de(),$=!0),q.add(h,a),a.B=0}}function oT(a,h){return Kp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Co(m(a.Ga,a,h),gm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Wn(this,this.j,a);let b=this.o;if(this.S&&(b?(b=g(b),x(b,this.S)):b=this.S),this.m!==null||this.O||(V.H=b,b=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=fm(this,V,h),d=_n(this.I),we(d,"RID",a),we(d,"CVER",22),this.D&&we(d,"X-HTTP-Session-Id",this.D),Lo(this,d),b&&(this.O?h="headers="+encodeURIComponent(String(rm(b)))+"&"+h:this.m&&uc(d,this.m,b)),lc(this.h,V),this.Ua&&we(d,"TYPE","init"),this.P?(we(d,"$req",h),we(d,"SID","null"),V.T=!0,ic(V,d,null)):ic(V,d,h),this.G=2}}else this.G==3&&(a?hm(this,a):this.i.length==0||Hp(this.h)||hm(this))};function hm(a,h){var d;h?d=h.l:d=a.U++;const v=_n(a.I);we(v,"SID",a.K),we(v,"RID",d),we(v,"AID",a.T),Lo(a,v),a.m&&a.o&&uc(v,a.m,a.o),d=new Wn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=fm(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),lc(a.h,d),ic(d,v,h)}function Lo(a,h){a.H&&L(a.H,function(d,v){we(h,v,d)}),a.l&&Gp({},function(d,v){we(h,v,d)})}function fm(a,h,d){d=Math.min(a.i.length,d);var v=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let b=-1;for(;;){const U=["count="+d];b==-1?0<d?(b=V[0].g,U.push("ofs="+b)):b=0:U.push("ofs="+b);let ve=!0;for(let Ge=0;Ge<d;Ge++){let ce=V[Ge].g;const it=V[Ge].map;if(ce-=b,0>ce)b=Math.max(0,V[Ge].g-100),ve=!1;else try{tT(it,U,"req"+ce+"_")}catch{v&&v(it)}}if(ve){v=U.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,v}function dm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;de||H(),$||(de(),$=!0),q.add(h,a),a.v=0}}function hc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Co(m(a.Fa,a),gm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,pm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Co(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Aa(this),pm(this))};function fc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function pm(a){a.g=new Wn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=_n(a.qa);we(h,"RID","rpc"),we(h,"SID",a.K),we(h,"AID",a.T),we(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(h,"TO",a.ja),we(h,"TYPE","xmlhttp"),Lo(a,h),a.m&&a.o&&uc(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Ca(_n(h)),d.m=null,d.P=!0,Bp(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Aa(this),hc(this),dt(19))};function ka(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function mm(a,h){var d=null;if(a.g==h){ka(a),fc(a),a.g=null;var v=2}else if(ac(a.h,h))d=h.D,qp(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;v=_a(),We(v,new bp(v,d)),Pa(a)}else dm(a);else if(V=h.s,V==3||V==0&&0<h.X||!(v==1&&oT(a,h)||v==2&&hc(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function gm(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function Lr(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),v=a.Xa;const V=!v;v=new Vr(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ia(v,"https"),Ca(v),V?J1(v.toString(),d):Z1(v.toString(),d)}else dt(2);a.G=0,a.l&&a.l.sa(h),vm(a),cm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function vm(a){if(a.G=0,a.ka=[],a.l){const h=Qp(a.h);(h.length!=0||a.i.length!=0)&&(A(a.ka,h),A(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function ym(a,h,d){var v=d instanceof Vr?_n(d):new Vr(d);if(v.g!="")h&&(v.g=h+"."+v.g),Sa(v,v.s);else{var V=l.location;v=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var b=new Vr(null);v&&Ia(b,v),h&&(b.g=h),V&&Sa(b,V),d&&(b.l=d),v=b}return d=a.D,h=a.ya,d&&h&&we(v,d,h),we(v,"VER",a.la),Lo(a,v),v}function _m(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ke(new No({eb:d})):new ke(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}t=wm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Na(){}Na.prototype.g=function(a,h){return new Ct(a,h)};function Ct(a,h){$e.call(this),this.g=new um(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new fi(this)}C(Ct,$e),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){cc(this.g)},Ct.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Ju(a),a=d);h.i.push(new U1(h.Ya++,a)),h.G==3&&Pa(h)},Ct.prototype.N=function(){this.g.l=null,delete this.j,cc(this.g),delete this.g,Ct.aa.N.call(this)};function Em(a){ec.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Em,ec);function Tm(){tc.call(this),this.status=1}C(Tm,tc);function fi(a){this.g=a}C(fi,wm),fi.prototype.ua=function(){We(this.g,"a")},fi.prototype.ta=function(a){We(this.g,new Em(a))},fi.prototype.sa=function(a){We(this.g,new Tm)},fi.prototype.ra=function(){We(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,X0=function(){return new Na},G0=function(){return _a()},Q0=Dr,af={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,gl=wa,jp.COMPLETE="complete",q0=jp,Op.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",$e.prototype.listen=$e.prototype.K,Zo=Op,K0=No,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,H0=ke}).apply(typeof Xa<"u"?Xa:typeof self<"u"?self:typeof window<"u"?window:{});const Gg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="10.13.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new j0("@firebase/firestore");function Ho(){return Zr.logLevel}function K(t,...e){if(Zr.logLevel<=le.DEBUG){const n=e.map(xd);Zr.debug(`Firestore (${mo}): ${t}`,...n)}}function Mn(t,...e){if(Zr.logLevel<=le.ERROR){const n=e.map(xd);Zr.error(`Firestore (${mo}): ${t}`,...n)}}function Yi(t,...e){if(Zr.logLevel<=le.WARN){const n=e.map(xd);Zr.warn(`Firestore (${mo}): ${t}`,...n)}}function xd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(t="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+t;throw Mn(e),new Error(e)}function ye(t,e){t||G()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string"),new Y0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string"),new ut(e)}}class fx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string"),this.R=n.token,new px(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new ze(0,0))}static max(){return new X(new ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends Bs{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const vx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Bs{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return vx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new W(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new W(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Te.fromString(e))}static fromName(e){return new Q(Te.fromString(e).popFirst(5))}static empty(){return new Q(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Te(e.slice()))}}function yx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new ze(n+1,0):new ze(n,r));return new yr(i,Q.empty(),e)}function _x(t){return new yr(t.readTime,t.key,-1)}class yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yr(X.min(),Q.empty(),-1)}static max(){return new yr(X.max(),Q.empty(),-1)}}function wx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==Ex)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Ix(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ad.oe=-1;function ku(t){return t==null}function Zl(t){return t===0&&1/t==-1/0}function Sx(t){return typeof t=="number"&&Number.isInteger(t)&&!Zl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ya(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ya(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ya(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ya(this.root,e,this.comparator,!0)}}class Ya{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=o??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yg(this.data.getIterator())}getIteratorFrom(e){return new Yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class Yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new et(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ew("Invalid base64 string: "+o):o}}(e);return new nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const Cx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(t){if(ye(!!t),typeof t=="string"){let e=0;const n=Cx.exec(t);if(ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function kd(t){const e=t.mapValue.fields.__previous_value__;return Pd(e)?kd(e):e}function Us(t){const e=_r(t.mapValue.fields.__local_write_time__.timestampValue);return new ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class zs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pd(t)?4:Ax(t)?9007199254740991:xx(t)?10:11:G()}function vn(t,e){if(t===e)return!0;const n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Us(t).isEqual(Us(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=_r(i.timestampValue),l=_r(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ei(i.bytesValue).isEqual(ei(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ve(i.doubleValue),l=Ve(o.doubleValue);return s===l?Zl(s)===Zl(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],vn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Xg(s)!==Xg(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!vn(s[u],l[u])))return!1;return!0}(t,e);default:return G()}}function Ws(t,e){return(t.values||[]).find(n=>vn(n,e))!==void 0}function Zi(t,e){if(t===e)return 0;const n=ti(t),r=ti(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Jg(t.timestampValue,e.timestampValue);case 4:return Jg(Us(t),Us(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,s){const l=ei(o),u=ei(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=he(l[c],u[c]);if(f!==0)return f}return he(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=he(Ve(o.latitude),Ve(s.latitude));return l!==0?l:he(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Zg(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const p=o.fields||{},m=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=he(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:Zg(_,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ja.mapValue&&s===Ja.mapValue)return 0;if(o===Ja.mapValue)return 1;if(s===Ja.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=he(u[p],f[p]);if(m!==0)return m;const _=Zi(l[u[p]],c[f[p]]);if(_!==0)return _}return he(u.length,f.length)}(t.mapValue,e.mapValue);default:throw G()}}function Jg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=_r(t),r=_r(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Zg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Zi(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function eo(t){return lf(t)}function lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_r(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=lf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${lf(n.fields[s])}`;return i+"}"}(t.mapValue):G()}function ev(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uf(t){return!!t&&"integerValue"in t}function Nd(t){return!!t&&"arrayValue"in t}function tv(t){return!!t&&"nullValue"in t}function nv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vl(t){return!!t&&"mapValue"in t}function xx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ax(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ds(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());vl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){go(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new bt(ds(this.value))}}function tw(t){const e=[];return go(t.fields,(n,r)=>{const i=new Je([n]);if(vl(r)){const o=tw(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,X.min(),X.min(),X.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,X.min(),X.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,X.min(),X.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.position=e,this.inclusive=n}}function rv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=Zi(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Px(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{}class je extends nw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Nx(e,n,r):n==="array-contains"?new Vx(e,r):n==="in"?new Lx(e,r):n==="not-in"?new Mx(e,r):n==="array-contains-any"?new bx(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dx(e,r):new Ox(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zi(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(Zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends nw{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nn(e,n)}matches(e){return rw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rw(t){return t.op==="and"}function iw(t){return kx(t)&&rw(t)}function kx(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function cf(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+eo(t.value);if(iw(t))return t.filters.map(e=>cf(e)).join(",");{const e=t.filters.map(n=>cf(n)).join(",");return`${t.op}(${e})`}}function ow(t,e){return t instanceof je?function(r,i){return i instanceof je&&r.op===i.op&&r.field.isEqual(i.field)&&vn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&ow(s,i.filters[l]),!0):!1}(t,e):void G()}function sw(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(sw).join(" ,")+"}"}(t):"Filter"}class Nx extends je{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dx extends je{constructor(e,n){super(e,"in",n),this.keys=aw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ox extends je{constructor(e,n){super(e,"not-in",n),this.keys=aw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class Vx extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nd(n)&&Ws(n.arrayValue,this.value)}}class Lx extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ws(this.value.arrayValue,n)}}class Mx extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ws(this.value.arrayValue,n)}}class bx extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ws(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function ov(t,e=null,n=[],r=[],i=null,o=null,s=null){return new jx(t,e,n,r,i,o,s)}function Dd(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ku(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eo(r)).join(",")),e.ue=n}return e.ue}function Od(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Px(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ow(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iv(t.startAt,e.startAt)&&iv(t.endAt,e.endAt)}function hf(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fx(t,e,n,r,i,o,s,l){return new la(t,e,n,r,i,o,s,l)}function Vd(t){return new la(t)}function sv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lw(t){return t.collectionGroup!==null}function ps(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new et(Je.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new tu(o,r))}),n.has(Je.keyField().canonicalString())||e.ce.push(new tu(Je.keyField(),r))}return e.ce}function dn(t){const e=Y(t);return e.le||(e.le=$x(e,ps(t))),e.le}function $x(t,e){if(t.limitType==="F")return ov(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tu(i.field,o)});const n=t.endAt?new eu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new eu(t.startAt.position,t.startAt.inclusive):null;return ov(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ff(t,e){const n=t.filters.concat([e]);return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function df(t,e,n){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nu(t,e){return Od(dn(t),dn(e))&&t.limitType===e.limitType}function uw(t){return`${Dd(dn(t))}|lt:${t.limitType}`}function vi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sw(i)).join(", ")}]`),ku(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>eo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>eo(i)).join(",")),`Target(${r})`}(dn(t))}; limitType=${t.limitType})`}function Du(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ps(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=rv(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,ps(r),i)||r.endAt&&!function(s,l,u){const c=rv(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,ps(r),i))}(t,e)}function Bx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cw(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const o=Ux(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Ux(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?Zi(u,c):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=new Ae(Q.comparator);function bn(){return zx}const hw=new Ae(Q.comparator);function es(...t){let e=hw;for(const n of t)e=e.insert(n.key,n);return e}function fw(t){let e=hw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return ms()}function dw(){return ms()}function ms(){return new vo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wx=new Ae(Q.comparator),Hx=new et(Q.comparator);function re(...t){let e=Hx;for(const n of t)e=e.add(n);return e}const Kx=new et(he);function qx(){return Kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}function pw(t){return{integerValue:""+t}}function Qx(t,e){return Sx(e)?pw(e):Ld(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this._=void 0}}function Gx(t,e,n){return t instanceof nu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Pd(o)&&(o=kd(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Hs?gw(t,e):t instanceof Ks?vw(t,e):function(i,o){const s=mw(i,o),l=av(s)+av(i.Pe);return uf(s)&&uf(i.Pe)?pw(l):Ld(i.serializer,l)}(t,e)}function Xx(t,e,n){return t instanceof Hs?gw(t,e):t instanceof Ks?vw(t,e):n}function mw(t,e){return t instanceof ru?function(r){return uf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class nu extends Ou{}class Hs extends Ou{constructor(e){super(),this.elements=e}}function gw(t,e){const n=yw(e);for(const r of t.elements)n.some(i=>vn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ks extends Ou{constructor(e){super(),this.elements=e}}function vw(t,e){let n=yw(e);for(const r of t.elements)n=n.filter(i=>!vn(i,r));return{arrayValue:{values:n}}}class ru extends Ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function av(t){return Ve(t.integerValue||t.doubleValue)}function yw(t){return Nd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Yx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hs&&i instanceof Hs||r instanceof Ks&&i instanceof Ks?Ji(r.elements,i.elements,vn):r instanceof ru&&i instanceof ru?vn(r.Pe,i.Pe):r instanceof nu&&i instanceof nu}(t.transform,e.transform)}class Jx{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vu{}function _w(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ew(t.key,Pn.none()):new ua(t.key,t.data,Pn.none());{const n=t.data,r=bt.empty();let i=new et(Je.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new si(t.key,r,new Jt(i.toArray()),Pn.none())}}function Zx(t,e,n){t instanceof ua?function(i,o,s){const l=i.value.clone(),u=uv(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof si?function(i,o,s){if(!yl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=uv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(ww(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gs(t,e,n,r){return t instanceof ua?function(o,s,l,u){if(!yl(o.precondition,s))return l;const c=o.value.clone(),f=cv(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof si?function(o,s,l,u){if(!yl(o.precondition,s))return l;const c=cv(o.fieldTransforms,u,s),f=s.data;return f.setAll(ww(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return yl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function eA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=mw(r.transform,i||null);o!=null&&(n===null&&(n=bt.empty()),n.set(r.field,o))}return n||null}function lv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ji(r,i,(o,s)=>Yx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ua extends Vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class si extends Vu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function ww(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uv(t,e,n){const r=new Map;ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,Xx(s,l,n[i]))}return r}function cv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Gx(o,s,e))}return r}class Ew extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tA extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Zx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=dw();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=_w(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(n,r)=>lv(n,r))&&Ji(this.baseMutations,e.baseMutations,(n,r)=>lv(n,r))}}class Md{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length);let i=function(){return Wx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Md(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,oe;function oA(t){switch(t){default:return G();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function Tw(t){if(t===void 0)return Mn("GRPC error has no .code"),j.UNKNOWN;switch(t){case Me.OK:return j.OK;case Me.CANCELLED:return j.CANCELLED;case Me.UNKNOWN:return j.UNKNOWN;case Me.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Me.INTERNAL:return j.INTERNAL;case Me.UNAVAILABLE:return j.UNAVAILABLE;case Me.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Me.NOT_FOUND:return j.NOT_FOUND;case Me.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Me.ABORTED:return j.ABORTED;case Me.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Me.DATA_LOSS:return j.DATA_LOSS;default:return G()}}(oe=Me||(Me={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Kr([4294967295,4294967295],0);function hv(t){const e=sA().encode(t),n=new W0;return n.update(e),new Uint8Array(n.digest())}function fv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Kr([n,r],0),new Kr([i,o],0)]}class bd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ts(`Invalid padding: ${n}`);if(r<0)throw new ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ts(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Kr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Kr.fromNumber(r)));return i.compare(aA)===1&&(i=new Kr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hv(e),[r,i]=fv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new bd(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=hv(e),[r,i]=fv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lu(X.min(),i,new Ae(he),bn(),re())}}class ca{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ca(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Iw{constructor(e,n){this.targetId=e,this.me=n}}class Sw{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dv{constructor(){this.fe=0,this.ge=mv(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new ca(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=mv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lA{constructor(e){this.Le=e,this.Be=new Map,this.ke=bn(),this.qe=pv(),this.Qe=new Ae(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(hf(o))if(r===0){const s=new Q(o.path);this.Ue(n,s,ht.newNoDocument(s,X.min()))}else ye(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=ei(r).toUint8Array()}catch(u){if(u instanceof ew)return Yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new bd(s,i,o)}catch(u){return Yi(u instanceof ts?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&hf(l.target)){const u=new Q(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ht.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=re();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Lu(e,n,this.Qe,this.ke,r);return this.ke=bn(),this.qe=pv(),this.Qe=new Ae(he),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new dv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pv(){return new Ae(Q.comparator)}function mv(){return new Ae(Q.comparator)}const uA={asc:"ASCENDING",desc:"DESCENDING"},cA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hA={and:"AND",or:"OR"};class fA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pf(t,e){return t.useProto3Json||ku(e)?e:{value:e}}function iu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dA(t,e){return iu(t,e.toTimestamp())}function pn(t){return ye(!!t),X.fromTimestamp(function(n){const r=_r(n);return new ze(r.seconds,r.nanos)}(t))}function jd(t,e){return mf(t,e).canonicalString()}function mf(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Rw(t){const e=Te.fromString(t);return ye(Nw(e)),e}function gf(t,e){return jd(t.databaseId,e.path)}function Hc(t,e){const n=Rw(e);if(n.get(1)!==t.databaseId.projectId)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(Aw(n))}function xw(t,e){return jd(t.databaseId,e)}function pA(t){const e=Rw(t);return e.length===4?Te.emptyPath():Aw(e)}function vf(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Aw(t){return ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gv(t,e,n){return{name:gf(t,e),fields:n.value.mapValue.fields}}function mA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(ye(f===void 0||typeof f=="string"),nt.fromBase64String(f||"")):(ye(f===void 0||f instanceof Buffer||f instanceof Uint8Array),nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?j.UNKNOWN:Tw(c.code);return new W(f,c.message||"")}(s);n=new Sw(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hc(t,r.document.name),o=pn(r.document.updateTime),s=r.document.createTime?pn(r.document.createTime):X.min(),l=new bt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new _l(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hc(t,r.document),o=r.readTime?pn(r.readTime):X.min(),s=ht.newNoDocument(i,o),l=r.removedTargetIds||[];n=new _l([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hc(t,r.document),o=r.removedTargetIds||[];n=new _l([],o,i,null)}else{if(!("filter"in e))return G();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new iA(i,o),l=r.targetId;n=new Iw(l,s)}}return n}function gA(t,e){let n;if(e instanceof ua)n={update:gv(t,e.key,e.value)};else if(e instanceof Ew)n={delete:gf(t,e.key)};else if(e instanceof si)n={update:gv(t,e.key,e.data),updateMask:CA(e.fieldMask)};else{if(!(e instanceof tA))return G();n={verify:gf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof nu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ru)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G()}(t,e.precondition)),n}function vA(t,e){return t&&t.length>0?(ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?pn(i.updateTime):pn(o);return s.isEqual(X.min())&&(s=pn(o)),new Jx(s,i.transformResults||[])}(n,e))):[]}function yA(t,e){return{documents:[xw(t,e.path)]}}function _A(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xw(t,i);const o=function(c){if(c.length!==0)return kw(nn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:yi(m.field),direction:TA(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=pf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function wA(t){let e=pA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ye(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=Pw(p);return m instanceof nn&&iw(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new tu(_i(C.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,ku(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new eu(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,_=p.values||[];return new eu(_,m)}(n.endAt)),Fx(e,i,s,o,l,"F",u,c)}function EA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Pw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_i(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_i(n.unaryFilter.field);return je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=_i(n.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=_i(n.unaryFilter.field);return je.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return je.create(_i(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>Pw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function TA(t){return uA[t]}function IA(t){return cA[t]}function SA(t){return hA[t]}function yi(t){return{fieldPath:t.canonicalString()}}function _i(t){return Je.fromServerFormat(t.fieldPath)}function kw(t){return t instanceof je?function(n){if(n.op==="=="){if(nv(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NAN"}};if(tv(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nv(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NOT_NAN"}};if(tv(n.value))return{unaryFilter:{field:yi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yi(n.field),op:IA(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(i=>kw(i));return r.length===1?r[0]:{compositeFilter:{op:SA(n.op),filters:r}}}(t):G()}function CA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Nw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n,r,i,o=X.min(),s=X.min(),l=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.ct=e}}function xA(t){const e=wA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?df(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.un=new PA}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(yr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(yr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class PA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new to(0)}static kn(){return new to(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this.changes=new vo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gs(r.mutation,i,Jt.empty(),ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=es();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=bn();const s=ms(),l=function(){return ms()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof si)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),gs(f.mutation,c,f.mutation.getFieldMask(),ze.now())):s.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new NA(f,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ms();let i=new Ae((s,l)=>s-l),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Jt.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||re()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=dw();f.forEach(m=>{if(!o.has(m)){const _=_w(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Ur());let l=-1,u=o;return s.next(c=>F.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(f=>({batchId:l,changes:fw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=es();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=es();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,u=>{const c=function(p,m){return new la(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,ht.newInvalidDocument(f)))});let l=es();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&gs(f.mutation,c,Jt.empty(),ze.now()),Du(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:xA(i.bundledQuery),readTime:pn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.overlays=new Ae(Q.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),o=n.length+1,s=new Q(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ae((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=Ur(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Ur(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return F.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rA(n,r));let o=this.Ir.get(n);o===void 0&&(o=re(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.Tr=new et(He.Er),this.dr=new et(He.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new He(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new He(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Te([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Te([])),r=new He(n,e),i=new He(n,e+1);let o=re();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new He(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new et(He.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nA(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new He(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(he);return n.forEach(i=>{const o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Q.isDocumentKey(o)||(o=o.child(""));const s=new He(new Q(o),0);let l=new et(he);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},s),F.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,i=>{const o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new He(n,0),i=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.Mr=e,this.docs=function(){return new Ae(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=bn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=bn();const s=n.path,l=new Q(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||wx(_x(f),r)<=0||(i.has(f.key)||Du(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){G()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jA(this)}getSize(e){return F.resolve(this.size)}}class jA extends kA{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.persistence=e,this.Nr=new vo(n=>Dd(n),Od),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Fd,this.targetCount=0,this.kr=to.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new to(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ad(0),this.Kr=!1,this.Kr=!0,this.$r=new LA,this.referenceDelegate=e(this),this.Ur=new FA(this),this.indexManager=new AA,this.remoteDocumentCache=function(i){return new bA(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new RA(n),this.Gr=new OA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VA,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new MA(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new BA(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class BA extends Tx{constructor(e){super(),this.currentSequenceNumber=e}}class $d{constructor(e){this.persistence=e,this.Jr=new Fd,this.Yr=null}static Zr(e){return new $d(e)}get Xr(){if(this.Yr)return this.Yr;throw G()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Bd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QC()?8:Ix(KC())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new UA;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ho()<=le.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",vi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ho()<=le.DEBUG&&K("QueryEngine","Query:",vi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ho()<=le.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",vi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dn(n))):F.resolve())}Yi(e,n){if(sv(n))return F.resolve(null);let r=dn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=df(n,null,"F"),r=dn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,s,u.readTime)?this.Yi(e,df(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return sv(n)||i.isEqual(X.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?F.resolve(null):(Ho()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vi(n)),this.rs(e,s,n,yx(i,-1)).next(l=>l))})}ts(e,n){let r=new et(cw(e));return n.forEach((i,o)=>{Du(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ho()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",vi(n)),this.Ji.getDocumentsMatchingQuery(e,n,yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ae(he),this._s=new vo(o=>Dd(o),Od),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DA(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function HA(t,e,n,r){return new WA(t,e,n,r)}async function Dw(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=re();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function KA(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let _=F.resolve();return m.forEach(C=>{_=_.next(()=>f.getEntry(u,C)).next(k=>{const A=c.docVersions.get(C);ye(A!==null),k.version.compareTo(A)<0&&(p.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),f.addEntry(k)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ow(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qA(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(nt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(k,A,I){return k.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,_,f)&&l.push(n.Ur.updateTargetData(o,_))});let u=bn(),c=re();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(QA(o,s,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(X.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return F.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function QA(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=bn();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):K("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function GA(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XA(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new nr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function yf(t,e,n){const r=Y(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!aa(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function vv(t,e,n){const r=Y(t);let i=X.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const p=Y(u),m=p._s.get(f);return m!==void 0?F.resolve(p.os.get(m)):p.Ur.getTargetData(c,f)}(r,s,dn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:re())).next(l=>(YA(r,Bx(e),l),{documents:l,Ts:o})))}function YA(t,e,n){let r=t.us.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class yv{constructor(){this.activeTargetIds=qx()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JA{constructor(){this.so=new yv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za=null;function Kc(){return Za===null?Za=function(){return 268435456+Math.round(2147483648*Math.random())}():Za++,"0x"+Za.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class nP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Kc(),u=this.xo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(f=>(K("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Yi("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=eP[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Kc();return new Promise((s,l)=>{const u=new H0;u.setWithCredentials(!0),u.listenOnce(q0.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case gl.NO_ERROR:const f=u.getResponseJson();K(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case gl.TIMEOUT:K(lt,`RPC '${e}' ${o} timed out`),l(new W(j.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:const p=u.getStatus();if(K(lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const C=function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(I)>=0?I:j.UNKNOWN}(_.status);l(new W(C,_.message))}else l(new W(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new W(j.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{K(lt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);K(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Kc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=X0(),l=G0(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new K0({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");K(lt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let m=!1,_=!1;const C=new tP({Io:A=>{_?K(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(K(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),K(lt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},To:()=>p.close()}),k=(A,I,y)=>{A.listen(I,E=>{try{y(E)}catch(N){setTimeout(()=>{throw N},0)}})};return k(p,Zo.EventType.OPEN,()=>{_||(K(lt,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),k(p,Zo.EventType.CLOSE,()=>{_||(_=!0,K(lt,`RPC '${e}' stream ${i} transport closed`),C.So())}),k(p,Zo.EventType.ERROR,A=>{_||(_=!0,Yi(lt,`RPC '${e}' stream ${i} transport errored:`,A),C.So(new W(j.UNAVAILABLE,"The operation could not be completed")))}),k(p,Zo.EventType.MESSAGE,A=>{var I;if(!_){const y=A.data[0];ye(!!y);const E=y,N=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(N){K(lt,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let L=function(S){const x=Me[S];if(x!==void 0)return Tw(x)}(M),w=N.message;L===void 0&&(L=j.INTERNAL,w="Unknown error status: "+M+" with message "+N.message),_=!0,C.So(new W(L,w)),p.close()}else K(lt,`RPC '${e}' stream ${i} received:`,y),C.bo(y)}}),k(l,Q0.STAT_EVENT,A=>{A.stat===af.PROXY?K(lt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===af.NOPROXY&&K(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}}function qc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return new fA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Vw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new W(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rP extends Lw{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mA(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?pn(s.readTime):X.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=vf(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=hf(u)?{documents:yA(o,u)}:{query:_A(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=Cw(o,s.resumeToken);const c=pf(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){l.readTime=iu(o,s.snapshotVersion.toTimestamp());const c=pf(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=EA(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=vf(this.serializer),n.removeTarget=e,this.a_(n)}}class iP extends Lw{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ye(!!e.streamToken),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vA(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=vf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>gA(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,mf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(j.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,mf(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(j.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mn(n),this.D_=!1):K("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ai(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Y(u);c.L_.add(4),await ha(c),c.q_.set("Unknown"),c.L_.delete(4),await bu(c)}(this))})}),this.q_=new sP(r,i)}}async function bu(t){if(ai(t))for(const e of t.B_)await e(!0)}async function ha(t){for(const e of t.B_)await e(!1)}function Mw(t,e){const n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hd(n)?Wd(n):yo(n).r_()&&zd(n,e))}function Ud(t,e){const n=Y(t),r=yo(n);n.N_.delete(e),r.r_()&&bw(n,e),n.N_.size===0&&(r.r_()?r.o_():ai(n)&&n.q_.set("Unknown"))}function zd(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yo(t).A_(e)}function bw(t,e){t.Q_.xe(e),yo(t).R_(e)}function Wd(t){t.Q_=new lA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yo(t).start(),t.q_.v_()}function Hd(t){return ai(t)&&!yo(t).n_()&&t.N_.size>0}function ai(t){return Y(t).L_.size===0}function jw(t){t.Q_=void 0}async function lP(t){t.q_.set("Online")}async function uP(t){t.N_.forEach((e,n)=>{zd(t,e)})}async function cP(t,e){jw(t),Hd(t)?(t.q_.M_(e),Wd(t)):t.q_.set("Unknown")}async function hP(t,e,n){if(t.q_.set("Online"),e instanceof Sw&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ou(t,r)}else if(e instanceof _l?t.Q_.Ke(e):e instanceof Iw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(X.min()))try{const r=await Ow(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(nt.EMPTY_BYTE_STRING,f.snapshotVersion)),bw(o,u);const p=new nr(f.target,u,c,f.sequenceNumber);zd(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await ou(t,r)}}async function ou(t,e,n){if(!aa(e))throw e;t.L_.add(1),await ha(t),t.q_.set("Offline"),n||(n=()=>Ow(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await bu(t)})}function Fw(t,e){return e().catch(n=>ou(t,n,e))}async function ju(t){const e=Y(t),n=wr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fP(e);)try{const i=await GA(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dP(e,i)}catch(i){await ou(e,i)}$w(e)&&Bw(e)}function fP(t){return ai(t)&&t.O_.length<10}function dP(t,e){t.O_.push(e);const n=wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $w(t){return ai(t)&&!wr(t).n_()&&t.O_.length>0}function Bw(t){wr(t).start()}async function pP(t){wr(t).p_()}async function mP(t){const e=wr(t);for(const n of t.O_)e.m_(n.mutations)}async function gP(t,e,n){const r=t.O_.shift(),i=Md.from(r,e,n);await Fw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ju(t)}async function vP(t,e){e&&wr(t).V_&&await async function(r,i){if(function(s){return oA(s)&&s!==j.ABORTED}(i.code)){const o=r.O_.shift();wr(r).s_(),await Fw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ju(r)}}(t,e),$w(t)&&Bw(t)}async function wv(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ai(n);n.L_.add(3),await ha(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await bu(n)}async function yP(t,e){const n=Y(t);e?(n.L_.delete(2),await bu(n)):e||(n.L_.add(2),await ha(n),n.q_.set("Unknown"))}function yo(t){return t.K_||(t.K_=function(n,r,i){const o=Y(n);return o.w_(),new rP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:lP.bind(null,t),Ro:uP.bind(null,t),mo:cP.bind(null,t),d_:hP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hd(t)?Wd(t):t.q_.set("Unknown")):(await t.K_.stop(),jw(t))})),t.K_}function wr(t){return t.U_||(t.U_=function(n,r,i){const o=Y(n);return o.w_(),new iP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pP.bind(null,t),mo:vP.bind(null,t),f_:mP.bind(null,t),g_:gP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ju(t)):(await t.U_.stop(),t.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new Kd(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(t,e){if(Mn("AsyncQueue",`${e}: ${t}`),aa(t))return new W(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=es(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.W_=new Ae(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):G():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class no{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new no(e,n,$i.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class wP{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Y(n),o=i.queries;i.queries=Tv(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new W(j.ABORTED,"Firestore shutting down"))}}function Tv(){return new vo(t=>uw(t),Nu)}async function Uw(t,e){const n=Y(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new _P,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=qd(s,`Initialization of query '${vi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Qd(n)}async function zw(t,e){const n=Y(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EP(t,e){const n=Y(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&Qd(n)}function TP(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Qd(t){t.Y_.forEach(e=>{e.next()})}var _f,Iv;(Iv=_f||(_f={})).ea="default",Iv.Cache="cache";class Ww{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==_f.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.key=e}}class Kw{constructor(e){this.key=e}}class IP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=cw(e),this.Ra=new $i(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Ev,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),_=Du(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let A=!1;m&&_?m.data.isEqual(_.data)?C!==k&&(r.track({type:3,doc:_}),A=!0):this.ga(m,_)||(r.track({type:2,doc:_}),A=!0,(u&&this.Aa(_,u)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),A=!0):m&&!_&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(l=!0)),A&&(_?(s=s.add(_),o=k?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,p)=>function(_,C){const k=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return k(_)-k(C)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new no(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ev,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Kw(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Hw(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return no.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CP{constructor(e){this.key=e,this.va=!1}}class RP{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vo(l=>uw(l),Nu),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(Q.comparator),this.Na=new Map,this.La=new Fd,this.Ba={},this.ka=new Map,this.qa=to.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function xP(t,e,n=!0){const r=Jw(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await qw(r,e,n,!0),i}async function AP(t,e){const n=Jw(t);await qw(n,e,!0,!1)}async function qw(t,e,n,r){const i=await XA(t.localStore,dn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await PP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Mw(t.remoteStore,i),l}async function PP(t,e,n,r,i){t.Ka=(p,m,_)=>async function(k,A,I,y){let E=A.view.ma(I);E.ns&&(E=await vv(k.localStore,A.query,!1).then(({documents:w})=>A.view.ma(w,E)));const N=y&&y.targetChanges.get(A.targetId),M=y&&y.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(E,k.isPrimaryClient,N,M);return Cv(k,A.targetId,L.wa),L.snapshot}(t,p,m,_);const o=await vv(t.localStore,e,!0),s=new IP(e,o.Ts),l=s.ma(o.documents),u=ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);Cv(t,n,c.wa);const f=new SP(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function kP(t,e,n){const r=Y(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Nu(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ud(r.remoteStore,i.targetId),wf(r,i.targetId)}).catch(sa)):(wf(r,i.targetId),await yf(r.localStore,i.targetId,!0))}async function NP(t,e){const n=Y(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ud(n.remoteStore,r.targetId))}async function DP(t,e,n){const r=FP(t);try{const i=await function(s,l){const u=Y(s),c=ze.now(),f=l.reduce((_,C)=>_.add(C.key),re());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=bn(),k=re();return u.cs.getEntries(_,f).next(A=>{C=A,C.forEach((I,y)=>{y.isValidDocument()||(k=k.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,C)).next(A=>{p=A;const I=[];for(const y of l){const E=eA(y,p.get(y.key).overlayedDocument);E!=null&&I.push(new si(y.key,E,tw(E.value.mapValue),Pn.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,I,l)}).next(A=>{m=A;const I=A.applyToLocalDocumentSet(p,k);return u.documentOverlayCache.saveOverlays(_,A.batchId,I)})}).then(()=>({batchId:m.batchId,changes:fw(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Ae(he)),c=c.insert(l,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await fa(r,i.changes),await ju(r.remoteStore)}catch(i){const o=qd(i,"Failed to persist write");n.reject(o)}}async function Qw(t,e){const n=Y(t);try{const r=await qA(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ye(s.va):i.removedDocuments.size>0&&(ye(s.va),s.va=!1))}),await fa(n,r,e)}catch(r){await sa(r)}}function Sv(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Y(s);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&Qd(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OP(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ae(Q.comparator);s=s.insert(o,ht.newNoDocument(o,X.min()));const l=re().add(o),u=new Lu(X.min(),new Map,new Ae(he),s,l);await Qw(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Gd(r)}else await yf(r.localStore,e,!1).then(()=>wf(r,e,n)).catch(sa)}async function VP(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await KA(n.localStore,e);Xw(n,r,null),Gw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fa(n,i)}catch(i){await sa(i)}}async function LP(t,e,n){const r=Y(t);try{const i=await function(s,l){const u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ye(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);Xw(r,e,n),Gw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fa(r,i)}catch(i){await sa(i)}}function Gw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Xw(t,e,n){const r=Y(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Yw(t,r)})}function Yw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Ud(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Gd(t))}function Cv(t,e,n){for(const r of n)r instanceof Hw?(t.La.addReference(r.key,e),MP(t,r)):r instanceof Kw?(K("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Yw(t,r.key)):G()}function MP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(K("SyncEngine","New document in limbo: "+n),t.xa.add(r),Gd(t))}function Gd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new CP(n)),t.Oa=t.Oa.insert(n,r),Mw(t.remoteStore,new nr(dn(Vd(n.path)),r,"TargetPurposeLimboResolution",Ad.oe))}}async function fa(t,e,n){const r=Y(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Bd.Wi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,m=>F.forEach(m.$i,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>F.forEach(m.Ui,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!aa(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const _=f.os.get(m),C=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(m,k)}}}(r.localStore,o))}async function bP(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await Dw(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new W(j.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fa(n,r.hs)}}function jP(t,e){const n=Y(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let i=re();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function Jw(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OP.bind(null,e),e.Ca.d_=EP.bind(null,e.eventManager),e.Ca.$a=TP.bind(null,e.eventManager),e}function FP(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LP.bind(null,e),e}class Rv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return HA(this.persistence,new zA,e.initialUser,this.serializer)}createPersistence(e){return new $A($d.Zr,this.serializer)}createSharedClientState(e){return new JA}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class $P{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bP.bind(null,this.syncEngine),await yP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wP}()}createDatastore(e){const n=Mu(e.databaseInfo.databaseId),r=function(o){return new nP(o)}(e.databaseInfo);return function(o,s,l,u){return new oP(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new aP(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Sv(this.syncEngine,n,0),function(){return _v.D()?new _v:new ZA}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const p=new RP(i,o,s,l,u,c);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Y(i);K("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await ha(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=J0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qc(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Dw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zP(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wv(e.remoteStore,i)),t._onlineComponents=e}function UP(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!UP(n))throw n;Yi("Error using user provided cache. Falling back to memory cache: "+n),await Qc(t,new Rv)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Qc(t,new Rv);return t._offlineComponents}async function eE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await xv(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await xv(t,new $P))),t._onlineComponents}function WP(t){return eE(t).then(e=>e.syncEngine)}async function tE(t){const e=await eE(t),n=e.eventManager;return n.onListen=xP.bind(null,e.syncEngine),n.onUnlisten=kP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NP.bind(null,e.syncEngine),n}function HP(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new Zw({next:m=>{s.enqueueAndForget(()=>zw(o,p));const _=m.docs.has(l);!_&&m.fromCache?c.reject(new W(j.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Ww(Vd(l.path),f,{includeMetadataChanges:!0,_a:!0});return Uw(o,p)}(await tE(t),t.asyncQueue,e,n,r)),r.promise}function KP(t,e,n={}){const r=new An;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new Zw({next:m=>{s.enqueueAndForget(()=>zw(o,p)),m.fromCache&&u.source==="server"?c.reject(new W(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Ww(l,f,{includeMetadataChanges:!0,_a:!0});return Uw(o,p)}(await tE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t,e,n){if(!n)throw new W(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qP(t,e,n,r){if(e===!0&&r===!0)throw new W(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pv(t){if(!Q.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kv(t){if(Q.isDocumentKey(t))throw new W(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function ro(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fu(t);throw new W(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $u{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ux;switch(r.type){case"firstParty":return new dx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Av.get(n);r&&(K("ComponentProvider","Removing Datastore"),Av.delete(n),r.terminate())}(this),Promise.resolve()}}function QP(t,e,n,r={}){var i;const o=(t=ro(t,$u))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=HC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new cx(new Y0(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class mr extends _o{constructor(e,n,r){super(e,n,Vd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Q(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function Ef(t,e,...n){if(t=Xi(t),rE("collection","path",e),t instanceof $u){const r=Te.fromString(e,...n);return kv(r),new mr(t,null,r)}{if(!(t instanceof Pt||t instanceof mr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return kv(r),new mr(t.firestore,null,r)}}function iE(t,e,...n){if(t=Xi(t),arguments.length===1&&(e=J0.newId()),rE("doc","path",e),t instanceof $u){const r=Te.fromString(e,...n);return Pv(r),new Pt(t,null,new Q(r))}{if(!(t instanceof Pt||t instanceof mr))throw new W(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Pv(r),new Pt(t.firestore,t instanceof mr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Vw(this,"async_queue_retry"),this.Eu=()=>{const n=qc();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=qc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=qc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new An;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!aa(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Mn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Kd.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&G()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Bu extends $u{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new GP}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oE(this),this._firestoreClient.terminate()}}function Xd(t,e){const n=ZR(),r="(default)",i=GR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zC("firestore");o&&QP(i,...o)}return i}function Yd(t){return t._firestoreClient||oE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oE(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new Rx(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nE(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new BP(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(nt.fromBase64String(e))}catch(n){throw new W(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=/^__.*__$/;class YP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new si(e,this.data,this.fieldMask,n,this.fieldTransforms):new ua(e,this.data,n,this.fieldTransforms)}}function aE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class tp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return su(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(aE(this.wu)&&XP.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class JP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mu(e)}Nu(e,n,r,i=!1){return new tp({wu:e,methodName:n,Ou:r,path:Je.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lE(t){const e=t._freezeSettings(),n=Mu(t._databaseId);return new JP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZP(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);hE("Data must be an object, but it was:",s,r);const l=uE(r,s);let u,c;if(o.merge)u=new Jt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const m=tk(e,p,n);if(!s.contains(m))throw new W(j.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rk(f,m)||f.push(m)}u=new Jt(f),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new YP(new bt(l),u,c)}function ek(t,e,n,r=!1){return np(n,t.Nu(r?4:3,e))}function np(t,e){if(cE(t=Xi(t)))return hE("Unsupported field value:",e,t),uE(t,e);if(t instanceof sE)return function(r,i){if(!aE(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=np(l,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Qx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ze.fromDate(r);return{timestampValue:iu(i.serializer,o)}}if(r instanceof ze){const o=new ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iu(i.serializer,o)}}if(r instanceof Zd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof io)return{bytesValue:Cw(i.serializer,r._byteString)};if(r instanceof Pt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jd(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ep)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Mu("VectorValues must only contain numeric values.");return Ld(l.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Fu(r)}`)}(t,e)}function uE(t,e){const n={};return Z0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,i)=>{const o=np(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function cE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ze||t instanceof Zd||t instanceof io||t instanceof Pt||t instanceof sE||t instanceof ep)}function hE(t,e,n){if(!cE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fu(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function tk(t,e,n){if((e=Xi(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return fE(t,e);throw su("Field path arguments must be of type string or ",t,!1,void 0,n)}const nk=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(nk)>=0)throw su(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jd(...e.split("."))._internalPath}catch{throw su(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function su(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(j.INVALID_ARGUMENT,l+t+u)}function rk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ik extends dE{data(){return super.data()}}function rp(t,e){return typeof e=="string"?fE(t,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class sk extends ip{}function ak(t,e,...n){let r=[];e instanceof ip&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof op).length,l=o.filter(u=>u instanceof Uu).length;if(s>1||s>0&&l>0)throw new W(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uu extends sk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uu(e,n,r)}_apply(e){const n=this._parse(e);return pE(e._query,n),new _o(e.firestore,e.converter,ff(e._query,n))}_parse(e){const n=lE(e.firestore);return function(o,s,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new W(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ov(p,f);const _=[];for(const C of p)_.push(Dv(u,o,C));m={arrayValue:{values:_}}}else m=Dv(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ov(p,f),m=ek(l,s,p,f==="in"||f==="not-in");return je.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lk(t,e,n){const r=e,i=rp("where",t);return Uu._create(i,r,n)}class op extends ip{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new op(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)pE(s,u),s=ff(s,u)}(e._query,n),new _o(e.firestore,e.converter,ff(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dv(t,e,n){if(typeof(n=Xi(n))=="string"){if(n==="")throw new W(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lw(e)&&n.indexOf("/")!==-1)throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!Q.isDocumentKey(r))throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ev(t,new Q(r))}if(n instanceof Pt)return ev(t,n._key);throw new W(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fu(n)}.`)}function Ov(t,e){if(!Array.isArray(t)||t.length===0)throw new W(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pE(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uk{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new ep(o)}convertGeoPoint(e){return new Zd(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Us(e));default:return null}}convertTimestamp(e){const n=_r(e);return new ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);ye(Nw(r));const i=new zs(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||Mn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mE extends dE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wl extends mE{data(e={}){return super.data(e)}}class hk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ns(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wl(this._firestore,this._userDataWriter,r.key,r,new ns(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new wl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ns(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new wl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ns(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:fk(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){t=ro(t,Pt);const e=ro(t.firestore,Bu);return HP(Yd(e),t._key).then(n=>vk(e,t,n))}class gE extends uk{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function pk(t){t=ro(t,_o);const e=ro(t.firestore,Bu),n=Yd(e),r=new gE(e);return ok(t._query),KP(n,t._query).then(i=>new hk(e,r,t,i))}function mk(t,e){const n=ro(t.firestore,Bu),r=iE(t),i=ck(t.converter,e);return gk(n,[ZP(lE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Pn.exists(!1))]).then(()=>r)}function gk(t,e){return function(r,i){const o=new An;return r.asyncQueue.enqueueAndForget(async()=>DP(await WP(r),i,o)),o.promise}(Yd(t),e)}function vk(t,e,n){const r=n.docs.get(e._key),i=new gE(t);return new mE(t,i,e._key,r,new ns(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){mo=i})(JR),Jl(new Fs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Bu(new hx(r.getProvider("auth-internal")),new mx(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Fi(Gg,"4.7.0",e),Fi(Gg,"4.7.0","esm2017")})();var vE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(vE);var yk=vE.exports;const J=Js(yk),_k=["xxl","xl","lg","md","sm","xs"],wk="xs",zu=T.createContext({prefixes:{},breakpoints:_k,minBreakpoint:wk});function ie(t,e){const{prefixes:n}=T.useContext(zu);return t||n[e]||e}function yE(){const{breakpoints:t}=T.useContext(zu);return t}function _E(){const{minBreakpoint:t}=T.useContext(zu);return t}function Ek(){const{dir:t}=T.useContext(zu);return t==="rtl"}const sp=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ie(e,"card-body"),O.jsx(n,{ref:i,className:J(t,e),...r})));sp.displayName="CardBody";const wE=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ie(e,"card-footer"),O.jsx(n,{ref:i,className:J(t,e),...r})));wE.displayName="CardFooter";const ap=T.createContext(null);ap.displayName="CardHeaderContext";const EE=T.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ie(t,"card-header"),s=T.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return O.jsx(ap.Provider,{value:s,children:O.jsx(n,{ref:i,...r,className:J(e,o)})})});EE.displayName="CardHeader";const TE=T.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{const s=ie(t,"card-img");return O.jsx(r,{ref:o,className:J(n?`${s}-${n}`:s,e),...i})});TE.displayName="CardImg";const IE=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ie(e,"card-img-overlay"),O.jsx(n,{ref:i,className:J(t,e),...r})));IE.displayName="CardImgOverlay";const SE=T.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ie(e,"card-link"),O.jsx(n,{ref:i,className:J(t,e),...r})));SE.displayName="CardLink";const lp=t=>T.forwardRef((e,n)=>O.jsx("div",{...e,ref:n,className:J(e.className,t)})),Tk=lp("h6"),CE=T.forwardRef(({className:t,bsPrefix:e,as:n=Tk,...r},i)=>(e=ie(e,"card-subtitle"),O.jsx(n,{ref:i,className:J(t,e),...r})));CE.displayName="CardSubtitle";const RE=T.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ie(e,"card-text"),O.jsx(n,{ref:i,className:J(t,e),...r})));RE.displayName="CardText";const Ik=lp("h5"),xE=T.forwardRef(({className:t,bsPrefix:e,as:n=Ik,...r},i)=>(e=ie(e,"card-title"),O.jsx(n,{ref:i,className:J(t,e),...r})));xE.displayName="CardTitle";const AE=T.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o=!1,children:s,as:l="div",...u},c)=>{const f=ie(t,"card");return O.jsx(l,{ref:c,...u,className:J(e,f,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?O.jsx(sp,{children:s}):s})});AE.displayName="Card";const Mt=Object.assign(AE,{Img:TE,Title:xE,Subtitle:CE,Body:sp,Link:SE,Text:RE,Header:EE,Footer:wE,ImgOverlay:IE}),Sk=["as","disabled"];function Ck(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rk(t){return!t||t.trim()==="#"}function up({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const f=m=>{if((e||t==="a"&&Rk(n))&&m.preventDefault(),e){m.stopPropagation();return}s==null||s(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},c]}const cp=T.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=Ck(t,Sk);const[o,{tagName:s}]=up(Object.assign({tagName:n,disabled:r},i));return O.jsx(s,Object.assign({},i,o,{ref:e}))});cp.displayName="Button";const Bi=T.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...l},u)=>{const c=ie(e,"btn"),[f,{tagName:p}]=up({tagName:t,disabled:o,...l}),m=p;return O.jsx(m,{...f,...l,ref:u,disabled:o,className:J(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&o&&"disabled")})});Bi.displayName="Button";const xk=({producto:t})=>O.jsxs(Mt,{style:{width:"18rem",padding:"1rem"},className:"m-3 mt-5 shadow-sm p-3 mb-5 bg-body rounded",children:[O.jsx(Mt.Img,{variant:"top",src:t.imageId}),O.jsxs(Mt.Body,{className:"d-flex flex-column",children:[O.jsx(Mt.Title,{children:t.title}),O.jsx(Mt.Text,{children:t.description}),O.jsxs(Mt.Text,{children:["Flavor: ",t.flavor]}),O.jsx("div",{className:"mt-auto",children:O.jsx(Sd,{to:`/item/${t.id}`,children:O.jsxs(Bi,{className:"btn-secondary fw-bold w-100 btn-outline-dark text-white",children:["Conseguilo por $",t.price]})})})]})]},t.id),da=T.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=ie(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return O.jsx(n,{ref:o,...i,className:J(r,e?`${s}${l}`:s)})});da.displayName="Container";const Ak=({productos:t})=>O.jsx(da,{className:"d-flex flex-wrap",children:t.map(e=>O.jsx(xk,{producto:e},e.id))}),Vv=()=>{const[t,e]=T.useState([]),[n,r]=T.useState(!0),{id:i}=k0();return T.useEffect(()=>{const o=Xd(),s=i?ak(Ef(o,"items"),lk("categoryId","==",i)):Ef(o,"items");pk(s).then(l=>{e(l.docs.map(u=>({id:u.id,...u.data()})))}).finally(()=>r(!1))},[i]),n?"Loading...":O.jsx(Ak,{productos:t})},hp=T.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ie(t,"row"),s=yE(),l=_E(),u=`${o}-cols`,c=[];return s.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const _=f!==l?`-${f}`:"";m!=null&&c.push(`${u}${_}-${m}`)}),O.jsx(n,{ref:i,...r,className:J(e,o,...c)})});hp.displayName="Row";function Pk({as:t,bsPrefix:e,className:n,...r}){e=ie(e,"col");const i=yE(),o=_E(),s=[],l=[];return i.forEach(u=>{const c=r[u];delete r[u];let f,p,m;typeof c=="object"&&c!=null?{span:f,offset:p,order:m}=c:f=c;const _=u!==o?`-${u}`:"";f&&s.push(f===!0?`${e}${_}`:`${e}${_}-${f}`),m!=null&&l.push(`order${_}-${m}`),p!=null&&l.push(`offset${_}-${p}`)}),[{...r,className:J(n,...s,...l)},{as:t,bsPrefix:e,spans:s}]}const qs=T.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=Pk(t);return O.jsx(i,{...r,ref:e,className:J(n,!s.length&&o)})});qs.displayName="Col";const kk=({onAdd:t,stock:e})=>{const[n,r]=T.useState(1),i=()=>{n<e&&r(l=>l+1)},o=()=>{n>1&&r(l=>l-1)},s=()=>{t(n),r(1)};return O.jsxs(O.Fragment,{children:[O.jsx("button",{className:"btn btn-outline-dark",onClick:i,children:"+"}),O.jsx("span",{className:"text-dark m-1",children:n}),O.jsx("button",{className:"btn btn-outline-dark me-2",onClick:o,children:"-"}),O.jsx("br",{}),O.jsx("button",{className:"btn btn-secondary btn-outline-dark text-white fw-bold",onClick:s,children:"Agregar al carrito"})]})};var Lv={exports:{}},Tf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,l,u,c,f,p){var m=c||"<<anonymous>>",_=p||u;if(l[u]==null)return s?new Error("Required "+f+" `"+_+"` was not specified "+("in `"+m+"`.")):null;for(var C=arguments.length,k=Array(C>6?C-6:0),A=6;A<C;A++)k[A-6]=arguments[A];return r.apply(void 0,[l,u,m,f,_].concat(k))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(Tf,Tf.exports);var Nk=Tf.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=Nk,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];function c(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var _=null;return l.forEach(function(C){if(_==null){var k=C.apply(void 0,p);k!=null&&(_=k)}}),_}return(0,r.default)(c)}t.exports=e.default})(Lv,Lv.exports);function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(null,arguments)}function PE(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Mv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Dk(t){var e=Ok(t,"string");return typeof e=="symbol"?e:String(e)}function Ok(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vk(t,e,n){var r=T.useRef(t!==void 0),i=T.useState(e),o=i[0],s=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&o!==e&&s(e),[l?t:o,T.useCallback(function(c){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),s(c)},[n])]}function fp(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[Mv(r)],l=o[r],u=PE(o,[Mv(r),r].map(Dk)),c=e[r],f=Vk(l,s,t[c]),p=f[0],m=f[1];return If({},u,(i={},i[r]=p,i[c]=m,i))},t)}function Sf(t,e){return Sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sf(t,e)}function Lk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Sf(t,e)}var Mk=Function.prototype.bind.call(Function.prototype.call,[].slice);function In(t,e){return Mk(t.querySelectorAll(e))}function kE(){const[,t]=T.useReducer(e=>!e,!1);return t}const bv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function bk(t,e){const n=bv(t),r=bv(e);return i=>{n&&n(i),r&&r(i)}}function li(t,e){return T.useMemo(()=>bk(t,e),[t,e])}const Wu=T.createContext(null);Wu.displayName="NavContext";const jk=T.createContext(null),Qs=(t,e=null)=>t!=null?String(t):e||null,ni=jk,NE=T.createContext(null),Fk="data-rr-ui-",$k="rrUi";function wo(t){return`${Fk}${t}`}function Bk(t){return`${$k}${t}`}function Uk(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t},[t]),e}function Fe(t){const e=Uk(t);return T.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const zk=["as","active","eventKey"];function Wk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function DE({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=T.useContext(ni),l=T.useContext(Wu),u=T.useContext(NE);let c=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[wo("event-key")]=t,f.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Fe(p=>{o||(e==null||e(p),t!=null&&s&&!p.isPropagationStopped()&&s(t,p))}),[f,{isActive:c}]}const OE=T.forwardRef((t,e)=>{let{as:n=cp,active:r,eventKey:i}=t,o=Wk(t,zk);const[s,l]=DE(Object.assign({key:Qs(i,o.href),active:r},o));return s[wo("active")]=l.isActive,O.jsx(n,Object.assign({},o,s,{ref:e}))});OE.displayName="NavItem";const Hk=OE,Kk=["as","onSelect","activeKey","role","onKeyDown"];function qk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const jv=()=>{},Fv=wo("event-key"),VE=T.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,l=qk(t,Kk);const u=kE(),c=T.useRef(!1),f=T.useContext(ni),p=T.useContext(NE);let m,_;p&&(o=o||"tablist",i=p.activeKey,m=p.getControlledId,_=p.getControllerId);const C=T.useRef(null),k=E=>{const N=C.current;if(!N)return null;const M=In(N,`[${Fv}]:not([aria-disabled=true])`),L=N.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const w=M.indexOf(L);if(w===-1)return null;let g=w+E;return g>=M.length&&(g=0),g<0&&(g=M.length-1),M[g]},A=(E,N)=>{E!=null&&(r==null||r(E,N),f==null||f(E,N))},I=E=>{if(s==null||s(E),!p)return;let N;switch(E.key){case"ArrowLeft":case"ArrowUp":N=k(-1);break;case"ArrowRight":case"ArrowDown":N=k(1);break;default:return}N&&(E.preventDefault(),A(N.dataset[Bk("EventKey")]||null,E),c.current=!0,u())};T.useEffect(()=>{if(C.current&&c.current){const E=C.current.querySelector(`[${Fv}][aria-selected=true]`);E==null||E.focus()}c.current=!1});const y=li(e,C);return O.jsx(ni.Provider,{value:A,children:O.jsx(Wu.Provider,{value:{role:o,activeKey:Qs(i),getControlledId:m||jv,getControllerId:_||jv},children:O.jsx(n,Object.assign({},l,{onKeyDown:I,ref:y,role:o}))})})});VE.displayName="Nav";const Qk=Object.assign(VE,{Item:Hk}),xr=T.createContext(null);xr.displayName="NavbarContext";const LE=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ie(e,"nav-item"),O.jsx(n,{ref:i,className:J(t,e),...r})));LE.displayName="NavItem";function Gk(){return T.useState(null)}function Xk(t,e,n,r=!1){const i=Fe(n);T.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function ME(){const t=T.useRef(!0),e=T.useRef(()=>t.current);return T.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function bE(t){const e=T.useRef(null);return T.useEffect(()=>{e.current=t}),e.current}const Yk=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Jk=typeof document<"u",au=Jk||Yk?T.useLayoutEffect:T.useEffect,Zk=["onKeyDown"];function eN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tN(t){return!t||t.trim()==="#"}const dp=T.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=eN(t,Zk);const[i]=up(Object.assign({tagName:"a"},r)),o=Fe(s=>{i.onKeyDown(s),n==null||n(s)});return tN(r.href)||r.role==="button"?O.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):O.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});dp.displayName="Anchor";const pp=T.forwardRef(({bsPrefix:t,className:e,as:n=dp,active:r,eventKey:i,disabled:o=!1,...s},l)=>{t=ie(t,"nav-link");const[u,c]=DE({key:Qs(i,s.href),active:r,disabled:o,...s});return O.jsx(n,{...s,...u,ref:l,disabled:o,className:J(e,t,o&&"disabled",c.isActive&&"active")})});pp.displayName="NavLink";const jE=T.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:f,...p}=fp(t,{activeKey:"onSelect"}),m=ie(r,"nav");let _,C,k=!1;const A=T.useContext(xr),I=T.useContext(ap);return A?(_=A.bsPrefix,k=l??!0):I&&({cardHeaderBsPrefix:C}=I),O.jsx(Qk,{as:n,ref:e,activeKey:f,className:J(c,{[m]:!k,[`${_}-nav`]:k,[`${_}-nav-scroll`]:k&&u,[`${C}-${i}`]:!!C,[`${m}-${i}`]:!!i,[`${m}-fill`]:o,[`${m}-justified`]:s}),...p})});jE.displayName="Nav";const Gc=Object.assign(jE,{Item:LE,Link:pp}),nN=({producto:t,onAdd:e})=>O.jsxs(da,{className:"mt-4",children:[O.jsx("h1",{className:"fw-bold text-end m-4 fs-perso",children:t.categoryId}),O.jsxs(hp,{className:"shadow p-3 mb-4 bg-body rounded",children:[O.jsx(qs,{md:6,children:O.jsx("img",{height:500,src:t.imageId,alt:t.title,className:"img-fluid"})}),O.jsxs(qs,{md:6,className:"d-flex flex-column justify-content-center",children:[O.jsx("h2",{className:"text-end h1",children:t.title}),O.jsx("hr",{}),O.jsxs("p",{className:"fw-bold text-end display-6",children:["$",t.price]}),O.jsx("h3",{className:"text-end fs-5 lead",children:t.description}),O.jsxs("b",{className:"me-2 text-end mt-3",children:["Stock: ",t.stock]}),O.jsx("div",{className:"d-flex justify-content-end mt-2",children:O.jsx(kk,{stock:t.stock,onAdd:e})})]})]})]}),Hu=T.createContext(),rN=({children:t})=>{const[e,n]=T.useState([]),r=()=>n([]),i=s=>{if(e.some(u=>u.id===s.id)){const u=e.map(c=>c.id===s.id?{...c,quantity:c.quantity+s.quantity}:c);n(u)}else n(u=>[...u,s])},o=s=>{const l=e.filter(u=>u.id!==s);n(l)};return console.log(e),O.jsx(Hu.Provider,{value:{addItem:i,items:e,removeItem:o,reset:r},children:t})},iN=()=>{const[t,e]=T.useState({}),[n,r]=T.useState(!0),{addItem:i}=T.useContext(Hu),{id:o}=k0();T.useEffect(()=>{const l=Xd(),u=iE(l,"items",o);dk(u).then(c=>{e({...c.data(),id:c.id})}).finally(()=>r(!1))},[o]);const s=l=>{i({...t,quantity:l})};return n?"Loading...":O.jsx(nN,{producto:t,onAdd:s})},FE=T.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ie(t,"navbar-brand");const o=n||(r.href?"a":"span");return O.jsx(o,{...r,ref:i,className:J(e,t)})});FE.displayName="NavbarBrand";function Ku(t){return t&&t.ownerDocument||document}function oN(t){var e=Ku(t);return e&&e.defaultView||window}function sN(t,e){return oN(t).getComputedStyle(t,e)}var aN=/([A-Z])/g;function lN(t){return t.replace(aN,"-$1").toLowerCase()}var uN=/^ms-/;function el(t){return lN(t).replace(uN,"-ms-")}var cN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hN(t){return!!(t&&cN.test(t))}function kn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(el(e))||sN(t).getPropertyValue(el(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(el(i)):hN(i)?r+=i+"("+o+") ":n+=el(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var $E={exports:{}},fN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",dN=fN,pN=dN;function BE(){}function UE(){}UE.resetWarningCache=BE;var mN=function(){function t(r,i,o,s,l,u){if(u!==pN){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UE,resetWarningCache:BE};return n.PropTypes=n,n};$E.exports=mN();var gN=$E.exports;const Xc=Js(gN),$v={disabled:!1},zE=qe.createContext(null);var vN=function(e){return e.scrollTop},rs="unmounted",Xn="exited",Yt="entering",Sn="entered",Gs="exiting",$n=function(t){Lk(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=Xn,o.appearStatus=Yt):u=Sn:r.unmountOnExit||r.mountOnEnter?u=rs:u=Xn,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===rs?{status:Xn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Yt&&s!==Sn&&(o=Yt):(s===Yt||s===Sn)&&(o=Gs)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Yt){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Di.findDOMNode(this);s&&vN(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Xn&&this.setState({status:rs})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Di.findDOMNode(this),l],c=u[0],f=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!s||$v.disabled){this.safeSetState({status:Sn},function(){o.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Yt},function(){o.props.onEntering(c,f),o.onTransitionEnd(m,function(){o.safeSetState({status:Sn},function(){o.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Di.findDOMNode(this);if(!o||$v.disabled){this.safeSetState({status:Xn},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Gs},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Xn},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Di.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===rs)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=PE(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qe.createElement(zE.Provider,{value:null},typeof s=="function"?s(i,l):qe.cloneElement(qe.Children.only(s),l))},e}(qe.Component);$n.contextType=zE;$n.propTypes={};function mi(){}$n.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mi,onEntering:mi,onEntered:mi,onExit:mi,onExiting:mi,onExited:mi};$n.UNMOUNTED=rs;$n.EXITED=Xn;$n.ENTERING=Yt;$n.ENTERED=Sn;$n.EXITING=Gs;const qu=!!(typeof window<"u"&&window.document&&window.document.createElement);var Cf=!1,Rf=!1;try{var Yc={get passive(){return Cf=!0},get once(){return Rf=Cf=!0}};qu&&(window.addEventListener("test",Yc,Yc),window.removeEventListener("test",Yc,!0))}catch{}function WE(t,e,n,r){if(r&&typeof r!="boolean"&&!Rf){var i=r.once,o=r.capture,s=n;!Rf&&i&&(s=n.__once||function l(u){this.removeEventListener(e,l,o),n.call(this,u)},n.__once=s),t.addEventListener(e,s,Cf?r:o)}t.addEventListener(e,n,r)}function yN(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function rr(t,e,n,r){return WE(t,e,n,r),function(){yN(t,e,n,r)}}function _N(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function wN(t){var e=kn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function EN(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||_N(t,"transitionend",!0)},e+n),o=rr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function TN(t,e,n,r){n==null&&(n=wN(t)||0);var i=EN(t,n,r),o=rr(t,"transitionend",e);return function(){i(),o()}}function Bv(t,e){const n=kn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function mp(t,e){const n=Bv(t,"transitionDuration"),r=Bv(t,"transitionDelay"),i=TN(t,o=>{o.target===t&&(i(),e(o))},n+r)}function Ko(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function HE(t){t.offsetHeight}function IN(t){return t&&"setState"in t?Di.findDOMNode(t):t??null}const gp=qe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:l,childRef:u,...c},f)=>{const p=T.useRef(null),m=li(p,u),_=L=>{m(IN(L))},C=L=>w=>{L&&p.current&&L(p.current,w)},k=T.useCallback(C(t),[t]),A=T.useCallback(C(e),[e]),I=T.useCallback(C(n),[n]),y=T.useCallback(C(r),[r]),E=T.useCallback(C(i),[i]),N=T.useCallback(C(o),[o]),M=T.useCallback(C(s),[s]);return O.jsx($n,{ref:f,...c,onEnter:k,onEntered:I,onEntering:A,onExit:y,onExited:N,onExiting:E,addEndListener:M,nodeRef:p,children:typeof l=="function"?(L,w)=>l(L,{...w,ref:_}):qe.cloneElement(l,{ref:_})})}),SN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function CN(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=SN[t];return r+parseInt(kn(e,i[0]),10)+parseInt(kn(e,i[1]),10)}const RN={[Xn]:"collapse",[Gs]:"collapsing",[Yt]:"collapsing",[Sn]:"collapse show"},xN=qe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:_=CN,...C},k)=>{const A=typeof l=="function"?l():l,I=T.useMemo(()=>Ko(L=>{L.style[A]="0"},t),[A,t]),y=T.useMemo(()=>Ko(L=>{const w=`scroll${A[0].toUpperCase()}${A.slice(1)}`;L.style[A]=`${L[w]}px`},e),[A,e]),E=T.useMemo(()=>Ko(L=>{L.style[A]=null},n),[A,n]),N=T.useMemo(()=>Ko(L=>{L.style[A]=`${_(A,L)}px`,HE(L)},r),[r,_,A]),M=T.useMemo(()=>Ko(L=>{L.style[A]=null},i),[A,i]);return O.jsx(gp,{ref:k,addEndListener:mp,...C,"aria-expanded":C.role?u:null,onEnter:I,onEntering:y,onEntered:E,onExit:N,onExiting:M,childRef:s.ref,in:u,timeout:c,mountOnEnter:f,unmountOnExit:p,appear:m,children:(L,w)=>qe.cloneElement(s,{...w,className:J(o,s.props.className,RN[L],A==="width"&&"collapse-horizontal")})})}),KE=T.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ie(e,"navbar-collapse");const i=T.useContext(xr);return O.jsx(xN,{in:!!(i&&i.expanded),...n,children:O.jsx("div",{ref:r,className:e,children:t})})});KE.displayName="NavbarCollapse";const qE=T.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},l)=>{t=ie(t,"navbar-toggler");const{onToggle:u,expanded:c}=T.useContext(xr)||{},f=Fe(p=>{o&&o(p),u&&u()});return i==="button"&&(s.type="button"),O.jsx(i,{...s,ref:l,onClick:f,"aria-label":r,className:J(e,t,!c&&"collapsed"),children:n||O.jsx("span",{className:`${t}-icon`})})});qE.displayName="NavbarToggle";const xf=new WeakMap,Uv=(t,e)=>{if(!t||!e)return;const n=xf.get(e)||new Map;xf.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function AN(t,e=typeof window>"u"?void 0:window){const n=Uv(t,e),[r,i]=T.useState(()=>n?n.matches:!1);return au(()=>{let o=Uv(t,e);if(!o)return i(!1);let s=xf.get(e);const l=()=>{i(o.matches)};return o.refCount++,o.addListener(l),l(),()=>{o.removeListener(l),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function PN(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function o(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function s(l,u,c){let f;typeof l=="object"?(f=l,c=u,u=!0):(u=u||!0,f={[l]:u});let p=T.useMemo(()=>Object.entries(f).reduce((m,[_,C])=>((C==="up"||C===!0)&&(m=n(m,o(_))),(C==="down"||C===!0)&&(m=n(m,i(_))),m),""),[JSON.stringify(f)]);return AN(p,c)}return s}const kN=PN({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Jc(t){t===void 0&&(t=Ku());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function lu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function NN(t){const e=T.useRef(t);return e.current=t,e}function DN(t){const e=NN(t);T.useEffect(()=>()=>e.current(),[])}function ON(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const zv=wo("modal-open");class vp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return ON(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(kn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(zv,""),kn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(zv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const QE=T.createContext(qu?window:void 0);QE.Provider;function Qu(){return T.useContext(QE)}const Zc=(t,e)=>qu?t==null?(e||Ku()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function VN(t,e){const n=Qu(),[r,i]=T.useState(()=>Zc(t,n==null?void 0:n.document));if(!r){const o=Zc(t);o&&i(o)}return T.useEffect(()=>{},[e,r]),T.useEffect(()=>{const o=Zc(t);o!==r&&i(o)},[t,r]),r}function LN({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=T.useRef(null),s=T.useRef(e),l=Fe(n);T.useEffect(()=>{e?s.current=!0:l(o.current)},[e,l]);const u=li(o,t.ref),c=T.cloneElement(t,{ref:u});return e?c:i||!s.current&&r?null:c}function MN(t){return t.code==="Escape"||t.keyCode===27}function bN(){const t=T.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const jN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function FN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $N(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:l,children:u}=t,c=FN(t,jN);const{major:f}=bN(),p=f>=19?u.props.ref:u.ref,m=T.useRef(null),_=li(m,typeof u=="function"?null:p),C=L=>w=>{L&&m.current&&L(m.current,w)},k=T.useCallback(C(e),[e]),A=T.useCallback(C(n),[n]),I=T.useCallback(C(r),[r]),y=T.useCallback(C(i),[i]),E=T.useCallback(C(o),[o]),N=T.useCallback(C(s),[s]),M=T.useCallback(C(l),[l]);return Object.assign({},c,{nodeRef:m},e&&{onEnter:k},n&&{onEntering:A},r&&{onEntered:I},i&&{onExit:y},o&&{onExiting:E},s&&{onExited:N},l&&{addEndListener:M},{children:typeof u=="function"?(L,w)=>u(L,Object.assign({},w,{ref:_})):T.cloneElement(u,{ref:_})})}const BN=["component"];function UN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const zN=T.forwardRef((t,e)=>{let{component:n}=t,r=UN(t,BN);const i=$N(r);return O.jsx(n,Object.assign({ref:e},i))});function WN({in:t,onTransition:e}){const n=T.useRef(null),r=T.useRef(!0),i=Fe(e);return au(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),au(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function HN({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=T.useState(!e);e&&o&&s(!1);const l=WN({in:!!e,onTransition:c=>{const f=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(s(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(f,p=>{throw c.in||s(!0),p})}}),u=li(l,t.ref);return o&&!e?null:T.cloneElement(t,{ref:u})}function Wv(t,e,n){return t?O.jsx(zN,Object.assign({},n,{component:t})):e?O.jsx(HN,Object.assign({},n,{transition:e})):O.jsx(LN,Object.assign({},n))}const KN=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let eh;function QN(t){return eh||(eh=new vp({ownerDocument:t==null?void 0:t.document})),eh}function GN(t){const e=Qu(),n=t||QN(e),r=T.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:T.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:T.useCallback(i=>{r.current.backdrop=i},[])})}const GE=T.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:_,runBackdropTransition:C,autoFocus:k=!0,enforceFocus:A=!0,restoreFocus:I=!0,restoreFocusOptions:y,renderDialog:E,renderBackdrop:N=ge=>O.jsx("div",Object.assign({},ge)),manager:M,container:L,onShow:w,onHide:g=()=>{},onExit:S,onExited:x,onExiting:P,onEnter:D,onEntering:R,onEntered:te}=t,me=qN(t,KN);const fe=Qu(),de=VN(L),$=GN(M),q=ME(),H=bE(n),[ne,Z]=T.useState(!n),se=T.useRef(null);T.useImperativeHandle(e,()=>$,[$]),qu&&!H&&n&&(se.current=Jc(fe==null?void 0:fe.document)),n&&ne&&Z(!1);const Pe=Fe(()=>{if($.add(),rn.current=rr(document,"keydown",Wt),yn.current=rr(document,"focus",()=>setTimeout(Oe),!0),w&&w(),k){var ge,Un;const zn=Jc((ge=(Un=$.dialog)==null?void 0:Un.ownerDocument)!=null?ge:fe==null?void 0:fe.document);$.dialog&&zn&&!lu($.dialog,zn)&&(se.current=zn,$.dialog.focus())}}),ae=Fe(()=>{if($.remove(),rn.current==null||rn.current(),yn.current==null||yn.current(),I){var ge;(ge=se.current)==null||ge.focus==null||ge.focus(y),se.current=null}});T.useEffect(()=>{!n||!de||Pe()},[n,de,Pe]),T.useEffect(()=>{ne&&ae()},[ne,ae]),DN(()=>{ae()});const Oe=Fe(()=>{if(!A||!q()||!$.isTopModal())return;const ge=Jc(fe==null?void 0:fe.document);$.dialog&&ge&&!lu($.dialog,ge)&&$.dialog.focus()}),rt=Fe(ge=>{ge.target===ge.currentTarget&&(c==null||c(ge),l===!0&&g())}),Wt=Fe(ge=>{u&&MN(ge)&&$.isTopModal()&&(f==null||f(ge),ge.defaultPrevented||g())}),yn=T.useRef(),rn=T.useRef(),on=(...ge)=>{Z(!0),x==null||x(...ge)};if(!de)return null;const Bn=Object.assign({role:r,ref:$.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:o,className:i,tabIndex:-1});let sn=E?E(Bn):O.jsx("div",Object.assign({},Bn,{children:T.cloneElement(s,{role:"document"})}));sn=Wv(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:S,onExiting:P,onExited:on,onEnter:D,onEntering:R,onEntered:te,children:sn});let an=null;return l&&(an=N({ref:$.setBackdropRef,onClick:rt}),an=Wv(_,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:an})),O.jsx(O.Fragment,{children:Di.createPortal(O.jsxs(O.Fragment,{children:[an,sn]}),de)})});GE.displayName="Modal";const XN=Object.assign(GE,{Manager:vp}),YN={[Yt]:"show",[Sn]:"show"},XE=T.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=T.useCallback((u,c)=>{HE(u),r==null||r(u,c)},[r]);return O.jsx(gp,{ref:o,addEndListener:mp,...s,onEnter:l,childRef:e.ref,children:(u,c)=>T.cloneElement(e,{...c,className:J("fade",t,e.props.className,YN[u],n[u])})})});XE.displayName="Fade";const YE=T.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ie(e,"offcanvas-body"),O.jsx(n,{ref:i,className:J(t,e),...r})));YE.displayName="OffcanvasBody";const JN={[Yt]:"show",[Sn]:"show"},JE=T.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...l},u)=>(t=ie(t,"offcanvas"),O.jsx(gp,{ref:u,addEndListener:mp,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...l,childRef:n.ref,children:(c,f)=>T.cloneElement(n,{...f,className:J(e,n.props.className,(c===Yt||c===Gs)&&`${t}-toggling`,JN[c])})})));JE.displayName="OffcanvasToggling";const ZE=T.createContext({onHide(){}}),ZN={"aria-label":Xc.string,onClick:Xc.func,variant:Xc.oneOf(["white"])},yp=T.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>O.jsx("button",{ref:i,type:"button",className:J("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));yp.displayName="CloseButton";yp.propTypes=ZN;const e2=T.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const l=T.useContext(ZE),u=Fe(()=>{l==null||l.onHide(),r==null||r()});return O.jsxs("div",{ref:s,...o,children:[i,n&&O.jsx(yp,{"aria-label":t,variant:e,onClick:u})]})}),e1=T.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ie(t,"offcanvas-header"),O.jsx(e2,{ref:o,...i,className:J(e,t),closeLabel:n,closeButton:r})));e1.displayName="OffcanvasHeader";const t2=lp("h5"),t1=T.forwardRef(({className:t,bsPrefix:e,as:n=t2,...r},i)=>(e=ie(e,"offcanvas-title"),O.jsx(n,{ref:i,className:J(t,e),...r})));t1.displayName="OffcanvasTitle";function n2(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function r2(t,e){t.classList?t.classList.add(e):n2(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Hv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i2(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Hv(t.className,e):t.setAttribute("class",Hv(t.className&&t.className.baseVal||"",e))}const gi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class n1 extends vp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,kn(n,{[e]:`${parseFloat(kn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],kn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(r2(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";In(n,gi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),In(n,gi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),In(n,gi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();i2(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";In(n,gi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),In(n,gi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),In(n,gi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let th;function o2(t){return th||(th=new n1(t)),th}function s2(t){return O.jsx(JE,{...t})}function a2(t){return O.jsx(XE,{...t})}const r1=T.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:_,autoFocus:C=!0,enforceFocus:k=!0,restoreFocus:A=!0,restoreFocusOptions:I,onEntered:y,onExit:E,onExiting:N,onEnter:M,onEntering:L,onExited:w,backdropClassName:g,manager:S,renderStaticNode:x=!1,...P},D)=>{const R=T.useRef();t=ie(t,"offcanvas");const{onToggle:te}=T.useContext(xr)||{},[me,fe]=T.useState(!1),de=kN(o||"xs","up");T.useEffect(()=>{fe(o?s&&!de:s)},[s,o,de]);const $=Fe(()=>{te==null||te(),m==null||m()}),q=T.useMemo(()=>({onHide:$}),[$]);function H(){return S||(c?(R.current||(R.current=new n1({handleContainerOverflow:!1})),R.current):o2())}const ne=(ae,...Oe)=>{ae&&(ae.style.visibility="visible"),M==null||M(ae,...Oe)},Z=(ae,...Oe)=>{ae&&(ae.style.visibility=""),w==null||w(...Oe)},se=T.useCallback(ae=>O.jsx("div",{...ae,className:J(`${t}-backdrop`,g)}),[g,t]),Pe=ae=>O.jsx("div",{...ae,...P,className:J(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return O.jsxs(O.Fragment,{children:[!me&&(o||x)&&Pe({}),O.jsx(ZE.Provider,{value:q,children:O.jsx(XN,{show:me,ref:D,backdrop:l,container:_,keyboard:u,autoFocus:C,enforceFocus:k&&!c,restoreFocus:A,restoreFocusOptions:I,onEscapeKeyDown:f,onShow:p,onHide:$,onEnter:ne,onEntering:L,onEntered:y,onExit:E,onExiting:N,onExited:Z,manager:H(),transition:s2,backdropTransition:a2,renderBackdrop:se,renderDialog:Pe})})]})});r1.displayName="Offcanvas";const l2=Object.assign(r1,{Body:YE,Header:e1,Title:t1}),i1=T.forwardRef((t,e)=>{const n=T.useContext(xr);return O.jsx(l2,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});i1.displayName="NavbarOffcanvas";const o1=T.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ie(e,"navbar-text"),O.jsx(n,{ref:i,className:J(t,e),...r})));o1.displayName="NavbarText";const s1=T.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:l,className:u,as:c="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:_=!1,...C}=fp(t,{expanded:"onToggle"}),k=ie(n,"navbar"),A=T.useCallback((...E)=>{m==null||m(...E),_&&f&&(p==null||p(!1))},[m,_,f,p]);C.role===void 0&&c!=="nav"&&(C.role="navigation");let I=`${k}-expand`;typeof r=="string"&&(I=`${I}-${r}`);const y=T.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:k,expanded:!!f,expand:r}),[k,f,r,p]);return O.jsx(xr.Provider,{value:y,children:O.jsx(ni.Provider,{value:A,children:O.jsx(c,{ref:e,...C,className:J(u,k,r&&I,i&&`${k}-${i}`,o&&`bg-${o}`,l&&`sticky-${l}`,s&&`fixed-${s}`)})})})});s1.displayName="Navbar";const tl=Object.assign(s1,{Brand:FE,Collapse:KE,Offcanvas:i1,Text:o1,Toggle:qE});function u2(t,e,n){const r=T.useRef(t!==void 0),[i,o]=T.useState(e),s=t!==void 0,l=r.current;return r.current=s,!s&&l&&i!==e&&o(e),[s?t:i,T.useCallback((...u)=>{const[c,...f]=u;let p=n==null?void 0:n(c,...f);return o(c),p},[n])]}const Gu=T.createContext(null);var Kv=Object.prototype.hasOwnProperty;function qv(t,e,n){for(n of t.keys())if(vs(n,e))return n}function vs(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&vs(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=qv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=qv(e,i),!i)||!vs(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Kv.call(t,n)&&++r&&!Kv.call(e,n)||!(n in e)||!vs(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function c2(t){const e=ME();return[t[0],T.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var It="top",Ut="bottom",zt="right",St="left",_p="auto",pa=[It,Ut,zt,St],oo="start",Xs="end",h2="clippingParents",a1="viewport",qo="popper",f2="reference",Qv=pa.reduce(function(t,e){return t.concat([e+"-"+oo,e+"-"+Xs])},[]),l1=[].concat(pa,[_p]).reduce(function(t,e){return t.concat([e,e+"-"+oo,e+"-"+Xs])},[]),d2="beforeRead",p2="read",m2="afterRead",g2="beforeMain",v2="main",y2="afterMain",_2="beforeWrite",w2="write",E2="afterWrite",T2=[d2,p2,m2,g2,v2,y2,_2,w2,E2];function mn(t){return t.split("-")[0]}function Nt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ri(t){var e=Nt(t).Element;return t instanceof e||t instanceof Element}function gn(t){var e=Nt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function wp(t){if(typeof ShadowRoot>"u")return!1;var e=Nt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var qr=Math.max,uu=Math.min,so=Math.round;function Af(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function u1(){return!/^((?!chrome|android).)*safari/i.test(Af())}function ao(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&gn(t)&&(i=t.offsetWidth>0&&so(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&so(r.height)/t.offsetHeight||1);var s=ri(t)?Nt(t):window,l=s.visualViewport,u=!u1()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:f,right:c+p,bottom:f+m,left:c,x:c,y:f}}function Ep(t){var e=ao(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function c1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&wp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Er(t){return t?(t.nodeName||"").toLowerCase():null}function jn(t){return Nt(t).getComputedStyle(t)}function I2(t){return["table","td","th"].indexOf(Er(t))>=0}function Ar(t){return((ri(t)?t.ownerDocument:t.document)||window.document).documentElement}function Xu(t){return Er(t)==="html"?t:t.assignedSlot||t.parentNode||(wp(t)?t.host:null)||Ar(t)}function Gv(t){return!gn(t)||jn(t).position==="fixed"?null:t.offsetParent}function S2(t){var e=/firefox/i.test(Af()),n=/Trident/i.test(Af());if(n&&gn(t)){var r=jn(t);if(r.position==="fixed")return null}var i=Xu(t);for(wp(i)&&(i=i.host);gn(i)&&["html","body"].indexOf(Er(i))<0;){var o=jn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ma(t){for(var e=Nt(t),n=Gv(t);n&&I2(n)&&jn(n).position==="static";)n=Gv(n);return n&&(Er(n)==="html"||Er(n)==="body"&&jn(n).position==="static")?e:n||S2(t)||e}function Tp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function ys(t,e,n){return qr(t,uu(e,n))}function C2(t,e,n){var r=ys(t,e,n);return r>n?n:r}function h1(){return{top:0,right:0,bottom:0,left:0}}function f1(t){return Object.assign({},h1(),t)}function d1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var R2=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,f1(typeof e!="number"?e:d1(e,pa))};function x2(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=mn(n.placement),u=Tp(l),c=[St,zt].indexOf(l)>=0,f=c?"height":"width";if(!(!o||!s)){var p=R2(i.padding,n),m=Ep(o),_=u==="y"?It:St,C=u==="y"?Ut:zt,k=n.rects.reference[f]+n.rects.reference[u]-s[u]-n.rects.popper[f],A=s[u]-n.rects.reference[u],I=ma(o),y=I?u==="y"?I.clientHeight||0:I.clientWidth||0:0,E=k/2-A/2,N=p[_],M=y-m[f]-p[C],L=y/2-m[f]/2+E,w=ys(N,L,M),g=u;n.modifiersData[r]=(e={},e[g]=w,e.centerOffset=w-L,e)}}function A2(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||c1(e.elements.popper,i)&&(e.elements.arrow=i))}const P2={name:"arrow",enabled:!0,phase:"main",fn:x2,effect:A2,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function lo(t){return t.split("-")[1]}var k2={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N2(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:so(n*i)/i||0,y:so(r*i)/i||0}}function Xv(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=s.x,_=m===void 0?0:m,C=s.y,k=C===void 0?0:C,A=typeof f=="function"?f({x:_,y:k}):{x:_,y:k};_=A.x,k=A.y;var I=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),E=St,N=It,M=window;if(c){var L=ma(n),w="clientHeight",g="clientWidth";if(L===Nt(n)&&(L=Ar(n),jn(L).position!=="static"&&l==="absolute"&&(w="scrollHeight",g="scrollWidth")),L=L,i===It||(i===St||i===zt)&&o===Xs){N=Ut;var S=p&&L===M&&M.visualViewport?M.visualViewport.height:L[w];k-=S-r.height,k*=u?1:-1}if(i===St||(i===It||i===Ut)&&o===Xs){E=zt;var x=p&&L===M&&M.visualViewport?M.visualViewport.width:L[g];_-=x-r.width,_*=u?1:-1}}var P=Object.assign({position:l},c&&k2),D=f===!0?N2({x:_,y:k},Nt(n)):{x:_,y:k};if(_=D.x,k=D.y,u){var R;return Object.assign({},P,(R={},R[N]=y?"0":"",R[E]=I?"0":"",R.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+k+"px)":"translate3d("+_+"px, "+k+"px, 0)",R))}return Object.assign({},P,(e={},e[N]=y?k+"px":"",e[E]=I?_+"px":"",e.transform="",e))}function D2(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:mn(e.placement),variation:lo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Xv(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Xv(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const O2={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:D2,data:{}};var nl={passive:!0};function V2(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Nt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,nl)}),l&&u.addEventListener("resize",n.update,nl),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,nl)}),l&&u.removeEventListener("resize",n.update,nl)}}const L2={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:V2,data:{}};var M2={left:"right",right:"left",bottom:"top",top:"bottom"};function El(t){return t.replace(/left|right|bottom|top/g,function(e){return M2[e]})}var b2={start:"end",end:"start"};function Yv(t){return t.replace(/start|end/g,function(e){return b2[e]})}function Ip(t){var e=Nt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Sp(t){return ao(Ar(t)).left+Ip(t).scrollLeft}function j2(t,e){var n=Nt(t),r=Ar(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var c=u1();(c||!c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Sp(t),y:u}}function F2(t){var e,n=Ar(t),r=Ip(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=qr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=qr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Sp(t),u=-r.scrollTop;return jn(i||n).direction==="rtl"&&(l+=qr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Cp(t){var e=jn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function p1(t){return["html","body","#document"].indexOf(Er(t))>=0?t.ownerDocument.body:gn(t)&&Cp(t)?t:p1(Xu(t))}function _s(t,e){var n;e===void 0&&(e=[]);var r=p1(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Nt(r),s=i?[o].concat(o.visualViewport||[],Cp(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(_s(Xu(s)))}function Pf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function $2(t,e){var n=ao(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Jv(t,e,n){return e===a1?Pf(j2(t,n)):ri(e)?$2(e,n):Pf(F2(Ar(t)))}function B2(t){var e=_s(Xu(t)),n=["absolute","fixed"].indexOf(jn(t).position)>=0,r=n&&gn(t)?ma(t):t;return ri(r)?e.filter(function(i){return ri(i)&&c1(i,r)&&Er(i)!=="body"}):[]}function U2(t,e,n,r){var i=e==="clippingParents"?B2(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,c){var f=Jv(t,c,r);return u.top=qr(f.top,u.top),u.right=uu(f.right,u.right),u.bottom=uu(f.bottom,u.bottom),u.left=qr(f.left,u.left),u},Jv(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function m1(t){var e=t.reference,n=t.element,r=t.placement,i=r?mn(r):null,o=r?lo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case It:u={x:s,y:e.y-n.height};break;case Ut:u={x:s,y:e.y+e.height};break;case zt:u={x:e.x+e.width,y:l};break;case St:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=i?Tp(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case oo:u[c]=u[c]-(e[f]/2-n[f]/2);break;case Xs:u[c]=u[c]+(e[f]/2-n[f]/2);break}}return u}function Ys(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?h2:l,c=n.rootBoundary,f=c===void 0?a1:c,p=n.elementContext,m=p===void 0?qo:p,_=n.altBoundary,C=_===void 0?!1:_,k=n.padding,A=k===void 0?0:k,I=f1(typeof A!="number"?A:d1(A,pa)),y=m===qo?f2:qo,E=t.rects.popper,N=t.elements[C?y:m],M=U2(ri(N)?N:N.contextElement||Ar(t.elements.popper),u,f,s),L=ao(t.elements.reference),w=m1({reference:L,element:E,strategy:"absolute",placement:i}),g=Pf(Object.assign({},E,w)),S=m===qo?g:L,x={top:M.top-S.top+I.top,bottom:S.bottom-M.bottom+I.bottom,left:M.left-S.left+I.left,right:S.right-M.right+I.right},P=t.modifiersData.offset;if(m===qo&&P){var D=P[i];Object.keys(x).forEach(function(R){var te=[zt,Ut].indexOf(R)>=0?1:-1,me=[It,Ut].indexOf(R)>=0?"y":"x";x[R]+=D[me]*te})}return x}function z2(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?l1:u,f=lo(r),p=f?l?Qv:Qv.filter(function(C){return lo(C)===f}):pa,m=p.filter(function(C){return c.indexOf(C)>=0});m.length===0&&(m=p);var _=m.reduce(function(C,k){return C[k]=Ys(t,{placement:k,boundary:i,rootBoundary:o,padding:s})[mn(k)],C},{});return Object.keys(_).sort(function(C,k){return _[C]-_[k]})}function W2(t){if(mn(t)===_p)return[];var e=El(t);return[Yv(t),e,Yv(e)]}function H2(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,_=n.flipVariations,C=_===void 0?!0:_,k=n.allowedAutoPlacements,A=e.options.placement,I=mn(A),y=I===A,E=u||(y||!C?[El(A)]:W2(A)),N=[A].concat(E).reduce(function(Pe,ae){return Pe.concat(mn(ae)===_p?z2(e,{placement:ae,boundary:f,rootBoundary:p,padding:c,flipVariations:C,allowedAutoPlacements:k}):ae)},[]),M=e.rects.reference,L=e.rects.popper,w=new Map,g=!0,S=N[0],x=0;x<N.length;x++){var P=N[x],D=mn(P),R=lo(P)===oo,te=[It,Ut].indexOf(D)>=0,me=te?"width":"height",fe=Ys(e,{placement:P,boundary:f,rootBoundary:p,altBoundary:m,padding:c}),de=te?R?zt:St:R?Ut:It;M[me]>L[me]&&(de=El(de));var $=El(de),q=[];if(o&&q.push(fe[D]<=0),l&&q.push(fe[de]<=0,fe[$]<=0),q.every(function(Pe){return Pe})){S=P,g=!1;break}w.set(P,q)}if(g)for(var H=C?3:1,ne=function(ae){var Oe=N.find(function(rt){var Wt=w.get(rt);if(Wt)return Wt.slice(0,ae).every(function(yn){return yn})});if(Oe)return S=Oe,"break"},Z=H;Z>0;Z--){var se=ne(Z);if(se==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const K2={name:"flip",enabled:!0,phase:"main",fn:H2,requiresIfExists:["offset"],data:{_skip:!1}};function Zv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function ey(t){return[It,zt,Ut,St].some(function(e){return t[e]>=0})}function q2(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ys(e,{elementContext:"reference"}),l=Ys(e,{altBoundary:!0}),u=Zv(s,r),c=Zv(l,i,o),f=ey(u),p=ey(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const Q2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:q2};function G2(t,e,n){var r=mn(t),i=[St,It].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[St,zt].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function X2(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=l1.reduce(function(f,p){return f[p]=G2(p,e.rects,o),f},{}),l=s[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Y2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:X2};function J2(t){var e=t.state,n=t.name;e.modifiersData[n]=m1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Z2={name:"popperOffsets",enabled:!0,phase:"read",fn:J2,data:{}};function eD(t){return t==="x"?"y":"x"}function tD(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,_=m===void 0?!0:m,C=n.tetherOffset,k=C===void 0?0:C,A=Ys(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:f}),I=mn(e.placement),y=lo(e.placement),E=!y,N=Tp(I),M=eD(N),L=e.modifiersData.popperOffsets,w=e.rects.reference,g=e.rects.popper,S=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,x=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(L){if(o){var R,te=N==="y"?It:St,me=N==="y"?Ut:zt,fe=N==="y"?"height":"width",de=L[N],$=de+A[te],q=de-A[me],H=_?-g[fe]/2:0,ne=y===oo?w[fe]:g[fe],Z=y===oo?-g[fe]:-w[fe],se=e.elements.arrow,Pe=_&&se?Ep(se):{width:0,height:0},ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:h1(),Oe=ae[te],rt=ae[me],Wt=ys(0,w[fe],Pe[fe]),yn=E?w[fe]/2-H-Wt-Oe-x.mainAxis:ne-Wt-Oe-x.mainAxis,rn=E?-w[fe]/2+H+Wt+rt+x.mainAxis:Z+Wt+rt+x.mainAxis,on=e.elements.arrow&&ma(e.elements.arrow),Bn=on?N==="y"?on.clientTop||0:on.clientLeft||0:0,sn=(R=P==null?void 0:P[N])!=null?R:0,an=de+yn-sn-Bn,ge=de+rn-sn,Un=ys(_?uu($,an):$,de,_?qr(q,ge):q);L[N]=Un,D[N]=Un-de}if(l){var zn,Yu=N==="x"?It:St,va=N==="x"?Ut:zt,Ht=L[M],Pr=M==="y"?"height":"width",ya=Ht+A[Yu],ui=Ht-A[va],kr=[It,St].indexOf(I)!==-1,Eo=(zn=P==null?void 0:P[M])!=null?zn:0,$e=kr?ya:Ht-w[Pr]-g[Pr]-Eo+x.altAxis,We=kr?Ht+w[Pr]+g[Pr]-Eo-x.altAxis:ui,Nr=_&&kr?C2($e,Ht,We):ys(_?$e:ya,Ht,_?We:ui);L[M]=Nr,D[M]=Nr-Ht}e.modifiersData[r]=D}}const nD={name:"preventOverflow",enabled:!0,phase:"main",fn:tD,requiresIfExists:["offset"]};function rD(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function iD(t){return t===Nt(t)||!gn(t)?Ip(t):rD(t)}function oD(t){var e=t.getBoundingClientRect(),n=so(e.width)/t.offsetWidth||1,r=so(e.height)/t.offsetHeight||1;return n!==1||r!==1}function sD(t,e,n){n===void 0&&(n=!1);var r=gn(e),i=gn(e)&&oD(e),o=Ar(e),s=ao(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Er(e)!=="body"||Cp(o))&&(l=iD(e)),gn(e)?(u=ao(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Sp(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function aD(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function lD(t){var e=aD(t);return T2.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function uD(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function cD(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var ty={placement:"bottom",modifiers:[],strategy:"absolute"};function ny(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function hD(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?ty:i;return function(l,u,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},ty,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],m=!1,_={state:f,setOptions:function(I){var y=typeof I=="function"?I(f.options):I;k(),f.options=Object.assign({},o,f.options,y),f.scrollParents={reference:ri(l)?_s(l):l.contextElement?_s(l.contextElement):[],popper:_s(u)};var E=lD(cD([].concat(r,f.options.modifiers)));return f.orderedModifiers=E.filter(function(N){return N.enabled}),C(),_.update()},forceUpdate:function(){if(!m){var I=f.elements,y=I.reference,E=I.popper;if(ny(y,E)){f.rects={reference:sD(y,ma(E),f.options.strategy==="fixed"),popper:Ep(E)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(x){return f.modifiersData[x.name]=Object.assign({},x.data)});for(var N=0;N<f.orderedModifiers.length;N++){if(f.reset===!0){f.reset=!1,N=-1;continue}var M=f.orderedModifiers[N],L=M.fn,w=M.options,g=w===void 0?{}:w,S=M.name;typeof L=="function"&&(f=L({state:f,options:g,name:S,instance:_})||f)}}}},update:uD(function(){return new Promise(function(A){_.forceUpdate(),A(f)})}),destroy:function(){k(),m=!0}};if(!ny(l,u))return _;_.setOptions(c).then(function(A){!m&&c.onFirstUpdate&&c.onFirstUpdate(A)});function C(){f.orderedModifiers.forEach(function(A){var I=A.name,y=A.options,E=y===void 0?{}:y,N=A.effect;if(typeof N=="function"){var M=N({state:f,name:I,instance:_,options:E}),L=function(){};p.push(M||L)}})}function k(){p.forEach(function(A){return A()}),p=[]}return _}}const fD=hD({defaultModifiers:[Q2,Z2,O2,L2,Y2,K2,nD,P2]}),dD=["enabled","placement","strategy","modifiers"];function pD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const mD={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},gD={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},vD=[];function yD(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=vD}=n,l=pD(n,dD);const u=T.useRef(s),c=T.useRef(),f=T.useCallback(()=>{var A;(A=c.current)==null||A.update()},[]),p=T.useCallback(()=>{var A;(A=c.current)==null||A.forceUpdate()},[]),[m,_]=c2(T.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),C=T.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:A})=>{const I={},y={};Object.keys(A.elements).forEach(E=>{I[E]=A.styles[E],y[E]=A.attributes[E]}),_({state:A,styles:I,attributes:y,update:f,forceUpdate:p,placement:A.placement})}}),[f,p,_]),k=T.useMemo(()=>(vs(u.current,s)||(u.current=s),u.current),[s]);return T.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:o,modifiers:[...k,C,mD]})},[o,i,C,r,k]),T.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=fD(t,e,Object.assign({},l,{placement:i,strategy:o,modifiers:[...k,gD,C]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,_(A=>Object.assign({},A,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}var _D=function(){},wD=_D;const ED=Js(wD),ry=()=>{};function TD(t){return t.button===0}function ID(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const nh=t=>t&&("current"in t?t.current:t),iy={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function SD(t,e=ry,{disabled:n,clickTrigger:r="click"}={}){const i=T.useRef(!1),o=T.useRef(!1),s=T.useCallback(c=>{const f=nh(t);ED(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||ID(c)||!TD(c)||!!lu(f,c.target)||o.current,o.current=!1},[t]),l=Fe(c=>{const f=nh(t);f&&lu(f,c.target)&&(o.current=!0)}),u=Fe(c=>{i.current||e(c)});T.useEffect(()=>{var c,f;if(n||t==null)return;const p=Ku(nh(t)),m=p.defaultView||window;let _=(c=m.event)!=null?c:(f=m.parent)==null?void 0:f.event,C=null;iy[r]&&(C=rr(p,iy[r],l,!0));const k=rr(p,r,s,!0),A=rr(p,r,y=>{if(y===_){_=void 0;return}u(y)});let I=[];return"ontouchstart"in p.documentElement&&(I=[].slice.call(p.body.children).map(y=>rr(y,"mousemove",ry))),()=>{C==null||C(),k(),A(),I.forEach(y=>y())}},[t,n,r,s,l,u])}function CD(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function RD(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function xD({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:l,popperConfig:u={}}){var c,f,p,m,_;const C=CD(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:o?"fixed":u.strategy,modifiers:RD(Object.assign({},C,{eventListeners:{enabled:e,options:(c=C.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},C.preventOverflow,{options:s?Object.assign({padding:s},(f=C.preventOverflow)==null?void 0:f.options):(p=C.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=C.offset)==null?void 0:m.options)},arrow:Object.assign({},C.arrow,{enabled:!!l,options:Object.assign({},(_=C.arrow)==null?void 0:_.options,{element:l})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const AD=["children","usePopper"];function PD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const kD=()=>{};function g1(t={}){const e=T.useContext(Gu),[n,r]=Gk(),i=T.useRef(!1),{flip:o,offset:s,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,_=(e==null?void 0:e.show)==null?!!t.show:e.show;_&&!i.current&&(i.current=!0);const C=L=>{e==null||e.toggle(!1,L)},{placement:k,setMenu:A,menuElement:I,toggleElement:y}=e||{},E=yD(y,I,xD({placement:c||k||"bottom-start",enabled:m,enableEvents:p??_,offset:s,flip:o,fixed:u,arrowElement:n,popperConfig:f})),N=Object.assign({ref:A||kD,"aria-labelledby":y==null?void 0:y.id},E.attributes.popper,{style:E.styles.popper}),M={show:_,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?E:null,arrowProps:m?Object.assign({ref:r},E.attributes.arrow,{style:E.styles.arrow}):{}};return SD(I,C,{clickTrigger:l,disabled:!_}),[N,M]}function v1(t){let{children:e,usePopper:n=!0}=t,r=PD(t,AD);const[i,o]=g1(Object.assign({},r,{usePopper:n}));return O.jsx(O.Fragment,{children:e(i,o)})}v1.displayName="DropdownMenu";const cu={prefix:String(Math.round(Math.random()*1e10)),current:0},y1=qe.createContext(cu),ND=qe.createContext(!1);let DD=!!(typeof window<"u"&&window.document&&window.document.createElement),rh=new WeakMap;function OD(t=!1){let e=T.useContext(y1),n=T.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=rh.get(o);s==null?rh.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,rh.delete(o))}n.current=++e.current}return n.current}function VD(t){let e=T.useContext(y1);e===cu&&!DD&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=OD(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function LD(t){let e=qe.useId(),[n]=T.useState($D()),r=n?"react-aria":`react-aria${cu.prefix}`;return t||`${r}-${e}`}const MD=typeof qe.useId=="function"?LD:VD;function bD(){return!1}function jD(){return!0}function FD(t){return()=>{}}function $D(){return typeof qe.useSyncExternalStore=="function"?qe.useSyncExternalStore(FD,bD,jD):T.useContext(ND)}const _1=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},oy=()=>{};function w1(){const t=MD(),{show:e=!1,toggle:n=oy,setToggle:r,menuElement:i}=T.useContext(Gu)||{},o=T.useCallback(l=>{n(!e,l)},[e,n]),s={id:t,ref:r||oy,onClick:o,"aria-expanded":!!e};return i&&_1(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function E1({children:t}){const[e,n]=w1();return O.jsx(O.Fragment,{children:t(e,n)})}E1.displayName="DropdownToggle";const BD=["eventKey","disabled","onClick","active","as"];function UD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function T1({key:t,href:e,active:n,disabled:r,onClick:i}){const o=T.useContext(ni),s=T.useContext(Wu),{activeKey:l}=s||{},u=Qs(t,e),c=n==null&&t!=null?Qs(l)===u:n;return[{onClick:Fe(p=>{r||(i==null||i(p),o&&!p.isPropagationStopped()&&o(u,p))}),"aria-disabled":r||void 0,"aria-selected":c,[wo("dropdown-item")]:""},{isActive:c}]}const I1=T.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=cp}=t,l=UD(t,BD);const[u]=T1({key:n,href:l.href,disabled:r,onClick:i,active:o});return O.jsx(s,Object.assign({},l,{ref:e},u))});I1.displayName="DropdownItem";function sy(){const t=kE(),e=T.useRef(null),n=T.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function ga({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${wo("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:l}){const u=Qu(),[c,f]=u2(e,t,r),[p,m]=sy(),_=p.current,[C,k]=sy(),A=C.current,I=bE(c),y=T.useRef(null),E=T.useRef(!1),N=T.useContext(ni),M=T.useCallback((P,D,R=D==null?void 0:D.type)=>{f(P,{originalEvent:D,source:R})},[f]),L=Fe((P,D)=>{n==null||n(P,D),M(!1,D,"select"),D.isPropagationStopped()||N==null||N(P,D)}),w=T.useMemo(()=>({toggle:M,placement:s,show:c,menuElement:_,toggleElement:A,setMenu:m,setToggle:k}),[M,s,c,_,A,m,k]);_&&I&&!c&&(E.current=_.contains(_.ownerDocument.activeElement));const g=Fe(()=>{A&&A.focus&&A.focus()}),S=Fe(()=>{const P=y.current;let D=o;if(D==null&&(D=p.current&&_1(p.current)?"keyboard":!1),D===!1||D==="keyboard"&&!/^key.+$/.test(P))return;const R=In(p.current,i)[0];R&&R.focus&&R.focus()});T.useEffect(()=>{c?S():E.current&&(E.current=!1,g())},[c,E,g,S]),T.useEffect(()=>{y.current=null});const x=(P,D)=>{if(!p.current)return null;const R=In(p.current,i);let te=R.indexOf(P)+D;return te=Math.max(0,Math.min(te,R.length)),R[te]};return Xk(T.useCallback(()=>u.document,[u]),"keydown",P=>{var D,R;const{key:te}=P,me=P.target,fe=(D=p.current)==null?void 0:D.contains(me),de=(R=C.current)==null?void 0:R.contains(me);if(/input|textarea/i.test(me.tagName)&&(te===" "||te!=="Escape"&&fe||te==="Escape"&&me.type==="search")||!fe&&!de||te==="Tab"&&(!p.current||!c))return;y.current=P.type;const q={originalEvent:P,source:P.type};switch(te){case"ArrowUp":{const H=x(me,-1);H&&H.focus&&H.focus(),P.preventDefault();return}case"ArrowDown":if(P.preventDefault(),!c)f(!0,q);else{const H=x(me,1);H&&H.focus&&H.focus()}return;case"Tab":WE(me.ownerDocument,"keyup",H=>{var ne;(H.key==="Tab"&&!H.target||!((ne=p.current)!=null&&ne.contains(H.target)))&&f(!1,q)},{once:!0});break;case"Escape":te==="Escape"&&(P.preventDefault(),P.stopPropagation()),f(!1,q);break}}),O.jsx(ni.Provider,{value:L,children:O.jsx(Gu.Provider,{value:w,children:l})})}ga.displayName="Dropdown";ga.Menu=v1;ga.Toggle=E1;ga.Item=I1;const Rp=T.createContext({});Rp.displayName="DropdownContext";const S1=T.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=ie(e,"dropdown-divider"),O.jsx(n,{ref:o,className:J(t,e),role:r,...i})));S1.displayName="DropdownDivider";const C1=T.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=ie(e,"dropdown-header"),O.jsx(n,{ref:o,className:J(t,e),role:r,...i})));C1.displayName="DropdownHeader";const R1=T.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=dp,...l},u)=>{const c=ie(t,"dropdown-item"),[f,p]=T1({key:n,href:l.href,disabled:r,onClick:i,active:o});return O.jsx(s,{...l,...f,ref:u,className:J(e,c,p.isActive&&"active",r&&"disabled")})});R1.displayName="DropdownItem";const x1=T.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ie(e,"dropdown-item-text"),O.jsx(n,{ref:i,className:J(t,e),...r})));x1.displayName="DropdownItemText";const xp=T.createContext(null);xp.displayName="InputGroupContext";function A1(t,e){return t}function P1(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?s:o;return e==="up"?p=t?i:r:e==="end"?p=t?f:c:e==="start"?p=t?u:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const k1=T.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:l="div",popperConfig:u,variant:c,...f},p)=>{let m=!1;const _=T.useContext(xr),C=ie(t,"dropdown-menu"),{align:k,drop:A,isRTL:I}=T.useContext(Rp);n=n||k;const y=T.useContext(xp),E=[];if(n)if(typeof n=="object"){const P=Object.keys(n);if(P.length){const D=P[0],R=n[D];m=R==="start",E.push(`${C}-${D}-${R}`)}}else n==="end"&&(m=!0);const N=P1(m,A,I),[M,{hasShown:L,popper:w,show:g,toggle:S}]=g1({flip:i,rootCloseEvent:r,show:o,usePopper:!_&&E.length===0,offset:[0,2],popperConfig:u,placement:N});if(M.ref=li(A1(p),M.ref),au(()=>{g&&(w==null||w.update())},[g]),!L&&!s&&!y)return null;typeof l!="string"&&(M.show=g,M.close=()=>S==null?void 0:S(!1),M.align=n);let x=f.style;return w!=null&&w.placement&&(x={...f.style,...M.style},f["x-placement"]=w.placement),O.jsx(l,{...f,...M,style:x,...(E.length||_)&&{"data-bs-popper":"static"},className:J(e,C,g&&"show",m&&`${C}-end`,c&&`${C}-${c}`,...E)})});k1.displayName="DropdownMenu";const N1=T.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Bi,...o},s)=>{const l=ie(t,"dropdown-toggle"),u=T.useContext(Gu);r!==void 0&&(o.bsPrefix=r);const[c]=w1();return c.ref=li(c.ref,A1(s)),O.jsx(i,{className:J(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...c,...o})});N1.displayName="DropdownToggle";const D1=T.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:f="div",navbar:p,autoClose:m=!0,..._}=fp(t,{show:"onToggle"}),C=T.useContext(xp),k=ie(n,"dropdown"),A=Ek(),I=w=>m===!1?w==="click":m==="inside"?w!=="rootClose":m==="outside"?w!=="select":!0,y=Fe((w,g)=>{var S;!((S=g.originalEvent)==null||(S=S.target)==null)&&S.classList.contains("dropdown-toggle")&&g.source==="mousedown"||(g.originalEvent.currentTarget===document&&(g.source!=="keydown"||g.originalEvent.key==="Escape")&&(g.source="rootClose"),I(g.source)&&(u==null||u(w,g)))}),N=P1(s==="end",r,A),M=T.useMemo(()=>({align:s,drop:r,isRTL:A}),[s,r,A]),L={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return O.jsx(Rp.Provider,{value:M,children:O.jsx(ga,{placement:N,show:i,onSelect:l,onToggle:y,focusFirstItemOnShow:c,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:C?_.children:O.jsx(f,{..._,ref:e,className:J(o,i&&"show",L[r])})})})});D1.displayName="Dropdown";const zr=Object.assign(D1,{Toggle:N1,Menu:k1,Item:R1,ItemText:x1,Divider:S1,Header:C1}),O1=T.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:l,active:u,renderMenuOnMount:c,menuVariant:f,...p},m)=>{const _=ie(void 0,"nav-item");return O.jsxs(zr,{ref:m,...p,className:J(i,_),children:[O.jsx(zr.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:pp,children:e}),O.jsx(zr.Menu,{role:s,renderOnMount:c,rootCloseEvent:o,variant:f,children:n})]})});O1.displayName="NavDropdown";const rl=Object.assign(O1,{Item:zr.Item,ItemText:zr.ItemText,Divider:zr.Divider,Header:zr.Header}),zD="/React_60010/assets/cart-CyjJzWwG.png",WD=()=>{const{items:t}=T.useContext(Hu),e=t.reduce((n,r)=>n+r.quantity,0);return O.jsxs(Sd,{to:"/cart",children:[O.jsx("img",{src:zD,alt:"cart",height:40}),O.jsx("span",{children:e})]})},HD=()=>O.jsx(tl,{expand:"lg",className:"bg-body-tertiary","data-bs-theme":"dark",children:O.jsxs(da,{children:[O.jsx(tl.Brand,{as:Wo,to:"/",children:"CAQAO"}),O.jsx(tl.Toggle,{"aria-controls":"basic-navbar-nav"}),O.jsx(tl.Collapse,{id:"basic-navbar-nav",children:O.jsxs(Gc,{className:"me-auto",children:[O.jsx(Gc.Link,{as:Wo,to:"/",children:"Inicio"}),O.jsxs(rl,{title:"Productos",id:"basic-nav-dropdown",children:[O.jsx(rl.Item,{as:Wo,to:"/category/Tabletas",children:"Tabletas"}),O.jsx(rl.Divider,{}),O.jsx(rl.Item,{as:Wo,to:"/category/Conitos",children:"Conitos"})]}),O.jsx(Gc.Link,{as:Wo,to:"*",children:"Contacto"})]})}),O.jsx(WD,{})]})}),ay={phone:"",email:"",name:""},KD=()=>{const[t,e]=T.useState(ay),{items:n,removeItem:r,reset:i}=T.useContext(Hu),o=u=>{e(c=>({...c,[u.target.name]:u.target.value}))},s=n.reduce((u,c)=>u+c.price*c.quantity,0),l=()=>{const u={buyer:t,items:n,total:s},c=Xd(),f=Ef(c,"orders");mk(f,u).then(({id:p})=>{p&&alert("Su orden: "+p+" ha sido completada")}).finally(()=>{i(),e(ay)})};return n.length===0?O.jsx("h1",{className:"text-center",children:"CARRITO VACÍO."}):O.jsx(da,{className:"mt-4",children:O.jsxs(hp,{children:[O.jsxs(qs,{md:8,children:[n.map(u=>O.jsx(Mt,{className:"mb-3",children:O.jsxs(Mt.Body,{className:"d-flex align-items-center",children:[O.jsx("img",{src:u.imageId,alt:u.title,height:100,className:"me-3"}),O.jsxs("div",{children:[O.jsx("h5",{children:u.title}),O.jsxs("p",{className:"text-muted",children:["$",u.price," x ",u.quantity," = $",u.price*u.quantity]})]}),O.jsx(Bi,{variant:"danger",className:"ms-auto",onClick:()=>r(u.id),children:"X"})]})},u.id)),O.jsx(Bi,{variant:"danger",onClick:i,className:"w-100 mt-2",children:"Vaciar Carrito"})]}),O.jsxs(qs,{md:4,children:[O.jsx(Mt,{className:"mb-3",children:O.jsx(Mt.Body,{children:O.jsxs("h4",{children:["Total: $",s]})})}),O.jsx(Mt,{className:"mb-3",children:O.jsx(Mt.Body,{children:O.jsxs("form",{children:[O.jsxs("div",{className:"mb-3",children:[O.jsx("label",{className:"form-label",children:"Nombre"}),O.jsx("input",{type:"text",className:"form-control",value:t.name,name:"name",onChange:o})]}),O.jsxs("div",{className:"mb-3",children:[O.jsx("label",{className:"form-label",children:"Teléfono"}),O.jsx("input",{type:"text",className:"form-control",value:t.phone,name:"phone",onChange:o})]}),O.jsxs("div",{className:"mb-3",children:[O.jsx("label",{className:"form-label",children:"Email"}),O.jsx("input",{type:"email",className:"form-control",value:t.email,name:"email",onChange:o})]})]})})}),O.jsx(Bi,{variant:"success",className:"w-100",onClick:l,children:"Comprar"})]})]})})};function qD(){return O.jsx(rN,{children:O.jsxs(AC,{children:[O.jsx(HD,{}),O.jsxs(wC,{children:[O.jsx(Jo,{path:"/",element:O.jsx(Vv,{})}),O.jsx(Jo,{path:"/category/:id",element:O.jsx(Vv,{})}),O.jsx(Jo,{path:"/item/:id",element:O.jsx(iN,{})}),O.jsx(Jo,{path:"/cart",element:O.jsx(KD,{})})]})]})})}var QD="firebase",GD="10.13.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(QD,GD,"app");const XD={apiKey:"AIzaSyCNahzTcnDhrzcLpu3oNvJ9sKH4Iuw9Owc",authDomain:"proyecto00-bd5bc.firebaseapp.com",projectId:"proyecto00-bd5bc",storageBucket:"proyecto00-bd5bc.appspot.com",messagingSenderId:"871178412392",appId:"1:871178412392:web:f8ed3aca768b691fdc36dd"};B0(XD);ih.createRoot(document.getElementById("root")).render(O.jsx(qe.StrictMode,{children:O.jsx(qD,{})}));
